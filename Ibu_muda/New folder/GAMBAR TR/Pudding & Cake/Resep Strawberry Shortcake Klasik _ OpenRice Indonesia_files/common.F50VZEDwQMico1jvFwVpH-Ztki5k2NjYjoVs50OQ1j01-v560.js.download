var OpenriceAppCore,OpenriceApp;if(window.Modernizr=function(n,t,i){function a(n){c.cssText=n}function vt(n,t){return a(y.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function v(n,t){return!!~(""+n).indexOf(t)}function lt(n,t){var u,r;for(u in n)if(r=n[u],!v(r,"-")&&c[r]!==i)return t=="pfx"?r:!0;return!1}function yt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function f(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+ot.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?lt(u,t):(u=(n+" "+st.join(r+" ")+r).split(" "),yt(u,t,i))}function pt(){u.input=function(i){for(var r=0,u=i.length;r<u;r++)w[i[r]]=!!(i[r]in o);return w.list&&(w.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(n){for(var u=0,r,f,e,h=n.length;u<h;u++)o.setAttribute("type",f=n[u]),r=o.type!=="text",r&&(o.value=g,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&o.style.WebkitAppearance!==i?(s.appendChild(o),e=t.defaultView,r=e.getComputedStyle&&e.getComputedStyle(o,null).WebkitAppearance!=="textfield"&&o.offsetHeight!==0,s.removeChild(o)):/^(search|tel)$/.test(f)||(r=/^(url|email)$/.test(f)?o.checkValidity&&o.checkValidity()===!1:o.value!=g)),ht[n[u]]=!!r;return ht}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},d=!0,s=t.documentElement,e="modernizr",ut=t.createElement(e),c=ut.style,o=t.createElement("input"),g=":)",ft={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),et="Webkit Moz O ms",ot=et.split(" "),st=et.toLowerCase().split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},ht={},w={},nt=[],tt=nt.slice,b,l=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,o=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:e+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',e,'">',n,"<\/style>"].join(""),f.id=e,(h?f:o).innerHTML+=l,o.appendChild(f),h||(o.style.background="",o.style.overflow="hidden",v=s.style.overflow,s.style.overflow="hidden",s.appendChild(o)),a=i(f,n),h?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),s.style.overflow=v),!!a},at=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t).matches:(l("@media "+t+" { #"+e+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},ct=function(){function r(r,u){u=u||t.createElement(n[r]||"div");r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=h(u[r],"function"),h(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),it={}.hasOwnProperty,rt,k;rt=h(it,"undefined")||h(it.call,"undefined")?function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")}:function(n,t){return it.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=tt.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(tt.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(tt.call(arguments)))},r});r.flexbox=function(){return f("flexWrap")};r.flexboxlegacy=function(){return f("boxDirection")};r.canvas=function(){var n=t.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))};r.canvastext=function(){return!!(u.canvas&&h(t.createElement("canvas").getContext("2d").fillText,"function"))};r.webgl=function(){return!!n.WebGLRenderingContext};r.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:l(["@media (",y.join("touch-enabled),("),e,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};r.geolocation=function(){return"geolocation"in navigator};r.postmessage=function(){return!!n.postMessage};r.websqldatabase=function(){return!!n.openDatabase};r.indexedDB=function(){return!!f("indexedDB",n)};r.hashchange=function(){return ct("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};r.history=function(){return!!(n.history&&history.pushState)};r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n};r.websockets=function(){return"WebSocket"in n||"MozWebSocket"in n};r.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),v(c.backgroundColor,"rgba")};r.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),v(c.backgroundColor,"rgba")||v(c.backgroundColor,"hsla")};r.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)};r.backgroundsize=function(){return f("backgroundSize")};r.borderimage=function(){return f("borderImage")};r.borderradius=function(){return f("borderRadius")};r.boxshadow=function(){return f("boxShadow")};r.textshadow=function(){return t.createElement("div").style.textShadow===""};r.opacity=function(){return vt("opacity:.55"),/^0.55$/.test(c.opacity)};r.cssanimations=function(){return f("animationName")};r.csscolumns=function(){return f("columnCount")};r.cssgradients=function(){var n="background-image:";return a((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+y.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),v(c.backgroundImage,"gradient")};r.cssreflections=function(){return f("boxReflect")};r.csstransforms=function(){return!!f("transform")};r.csstransforms3d=function(){var n=!!f("perspective");return n&&"webkitPerspective"in s.style&&l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=t.offsetLeft===9&&t.offsetHeight===3}),n};r.csstransitions=function(){return f("transition")};r.fontface=function(){var n;return l('@font-face {font-family:"font";src:url("https://")}',function(i,r){var f=t.getElementById("smodernizr"),u=f.sheet||f.styleSheet,e=u?u.cssRules&&u.cssRules[0]?u.cssRules[0].cssText:u.cssText||"":"";n=/src/i.test(e)&&e.indexOf(r.split(" ")[0])===0}),n};r.generatedcontent=function(){var n;return l(["#",e,"{font:0/0 a}#",e,':after{content:"',g,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){n=t.offsetHeight>=3}),n};r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};r.localstorage=function(){try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(n){return!1}};r.sessionstorage=function(){try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(n){return!1}};r.webworkers=function(){return!!n.Worker};r.applicationcache=function(){return!!n.applicationCache};r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect};r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg};r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(ft.call(t.createElementNS(p.svg,"animate")))};r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(ft.call(t.createElementNS(p.svg,"clipPath")))};for(k in r)rt(r,k)&&(b=k.toLowerCase(),u[b]=r[k](),nt.push((u[b]?"":"no-")+b));return u.input||pt(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)rt(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t;typeof d!="undefined"&&d&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},a(""),ut=o=null,function(n,t){function p(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function c(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function o(n){var t=h[n[s]];return t||(t={},e++,n[s]=e,h[e]=t),t}function l(n,r,u){if(r||(r=t),i)return r.createElement(n);u||(u=o(r));var f;return f=u.cache[n]?u.cache[n].cloneNode():y.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),f.canHaveChildren&&!v.test(n)?u.frag.appendChild(f):f}function w(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||o(n);for(var f=r.frag.cloneNode(),u=0,e=c(),s=e.length;u<s;u++)f.createElement(e[u]);return f}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?l(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function a(n){n||(n=t);var u=o(n);return!r.shivCSS||f||u.hasCSS||(u.hasCSS=!!p(n,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||b(n,u),n}var u=n.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,s="_html5shiv",e=0,h={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){f=!0;i=!0}})();r={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:i,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=r;a(t)}(this,t),u._version="2.6.2",u._prefixes=y,u._domPrefixes=st,u._cssomPrefixes=ot,u.mq=at,u.hasEvent=ct,u.testProp=function(n){return lt([n])},u.testAllProps=f,u.testStyles=l,u.prefixed=function(n,t,i){return t?f(n,t,i):f(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+nt.join(" "):""),u}(this,this.document),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}),function(){var t,n,i,r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=function(){function n(){this.options_index=0;this.parsed=[]}return n.prototype.add_node=function(n){return"OPTGROUP"===n.nodeName.toUpperCase()?this.add_group(n):this.add_option(n)},n.prototype.add_group=function(n){var i,f,t,e,r,u;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(n.label),title:n.title?n.title:void 0,children:0,disabled:n.disabled,classes:n.className}),r=n.childNodes,u=[],t=0,e=r.length;e>t;t++)f=r[t],u.push(this.add_option(f,i,n.disabled));return u},n.prototype.add_option=function(n,t,i){if("OPTION"===n.nodeName.toUpperCase())return(""!==n.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:n.value,text:n.text,html:n.innerHTML,title:n.title?n.title:void 0,selected:n.selected,disabled:i===!0?i:n.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:n.className,style:n.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1)},n.prototype.escapeExpression=function(n){var t,i;return null==n||n===!1?"":/[\&\<\>\"\'\`]/.test(n)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,n.replace(i,function(n){return t[n]||"&amp;"})):n},n}();n.select_to_array=function(t){var f,r,i,e,u;for(r=new n,u=t.childNodes,i=0,e=u.length;e>i;i++)f=u[i],r.add_node(f);return r.parsed};t=function(){function n(t,i){this.form_field=t;this.options=null!=i?i:{};n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var n=this;return this.click_test_action=function(t){return n.test_active_click(t)},this.activate_action=function(t){return n.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(n){return this.include_group_label_in_selected&&null!=n.group_label?"<b class='group-name'>"+n.group_label+"<\/b>"+n.html:n.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var n=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return n.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var n=this;if(!this.mouse_on_container)return(this.active_field=!1,setTimeout(function(){return n.blur_test()},100))},n.prototype.results_option_build=function(n){var u,t,i,f,r,o,e;for(u="",f=0,e=this.results_data,r=0,o=e.length;o>r&&(t=e[r],i="",i=t.group?this.result_add_group(t):this.result_add_option(t),""!==i&&(f++,u+=i),(null!=n?n.first:void 0)&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t))),!(f>=this.max_shown_results));r++);return u},n.prototype.result_add_option=function(n){var t,i;return n.search_match&&this.include_option_in_results(n)?(t=[],n.disabled||n.selected&&this.is_multiple||t.push("active-result"),!n.disabled||n.selected&&this.is_multiple||t.push("disabled-result"),n.selected&&t.push("result-selected"),null!=n.group_array_index&&t.push("group-option"),""!==n.classes&&t.push(n.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=n.style,i.setAttribute("data-option-array-index",n.array_index),i.innerHTML=n.search_text,n.title&&(i.title=n.title),this.outerHTML(i)):""},n.prototype.result_add_group=function(n){var i,t;return(n.search_match||n.group_match)&&n.active_options>0?(i=[],i.push("group-result"),n.classes&&i.push(n.classes),t=document.createElement("li"),t.className=i.join(" "),t.innerHTML=n.search_text,n.title&&(t.title=n.title),this.outerHTML(t)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var i,n,u,r,t;for(r=this.results_data,t=[],n=0,u=r.length;u>n;n++)i=r[n],i.selected?t.push(i.selected=!1):t.push(void 0);return t},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,n,h,u,t,i,r,o,c,f,l,s;for(this.no_results_clear(),u=0,i=this.get_search_text(),e=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=new RegExp(e,"i"),h=this.get_search_regex(e),s=this.results_data,f=0,l=s.length;l>f;f++)n=s[f],n.search_match=!1,t=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(t=this.results_data[n.group_array_index],0===t.active_options&&t.search_match&&(u+=1),t.active_options+=1),n.search_text=n.group?n.label:n.html,(!n.group||this.group_search)&&(n.search_match=this.search_string_match(n.search_text,h),n.search_match&&!n.group&&(u+=1),n.search_match?(i.length&&(r=n.search_text.search(c),o=n.search_text.substr(0,r+i.length)+"<\/em>"+n.search_text.substr(r+i.length),n.search_text=o.substr(0,r)+"<em>"+o.substr(r)),null!=t&&(t.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),1>u&&i.length?(this.update_results_content(""),this.no_results(i)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(n){var t;return t=this.search_contains?"":"^",new RegExp(t+n,"i")},n.prototype.search_string_match=function(n,t){var u,i,r,f;if(t.test(n))return!0;if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(i=n.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,f=i.length;f>r;r++)if(u=i[r],t.test(u))return!0},n.prototype.choices_count=function(){var i,n,r,t;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=this.form_field.options,n=0,r=t.length;r>n;n++)i=t[n],i.selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(n){return n.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(n.preventDefault(),this.results_showing)return this.result_select(n);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var n=this;return setTimeout(function(){return n.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(n){return this.is_multiple&&!this.display_selected_options&&n.selected?!1:!this.display_disabled_options&&n.disabled?!1:n.empty?!1:!0},n.prototype.search_results_touchstart=function(n){return this.touch_started=!0,this.search_results_mouseover(n)},n.prototype.search_results_touchmove=function(n){return this.touch_started=!1,this.search_results_mouseout(n)},n.prototype.search_results_touchend=function(n){if(this.touch_started)return this.search_results_mouseup(n)},n.prototype.outerHTML=function(n){var t;return n.outerHTML?n.outerHTML:(t=document.createElement("div"),t.appendChild(n),t.innerHTML)},n.browser_is_supported=function(){return/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:/IEMobile/i.test(window.navigator.userAgent)?!1:/Windows Phone/i.test(window.navigator.userAgent)?!1:/BlackBerry/i.test(window.navigator.userAgent)?!1:/BB10/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!0},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}();this.Chosen=function(t){function r(){return i=r.__super__.constructor.apply(this,arguments)}return u(r,t),r.prototype.setup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field.hasClassName("chosen-rtl")},r.prototype.set_default_values=function(){return r.__super__.set_default_values.call(this),this.single_temp=new Template('<a class="chosen-single chosen-default"><span>#{default}<\/span><div><b><\/b><\/div><\/a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /><\/div><ul class="chosen-results"><\/ul><\/div>'),this.multi_temp=new Template('<ul class="chosen-choices"><li class="search-field"><input type="text" value="#{default}" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chosen-drop"><ul class="chosen-results"><\/ul><\/div>'),this.no_results_temp=new Template('<li class="no-results">'+this.results_none_found+' "<span>#{terms}<\/span>"<\/li>')},r.prototype.set_up_html=function(){var n,t;return n=["chosen-container"],n.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&n.push(this.form_field.className),this.is_rtl&&n.push("chosen-rtl"),t={"class":n.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=this.is_multiple?new Element("div",t).update(this.multi_temp.evaluate({"default":this.default_text})):new Element("div",t).update(this.single_temp.evaluate({"default":this.default_text})),this.form_field.hide().insert({after:this.container}),this.dropdown=this.container.down("div.chosen-drop"),this.search_field=this.container.down("input"),this.search_results=this.container.down("ul.chosen-results"),this.search_field_scale(),this.search_no_results=this.container.down("li.no-results"),this.is_multiple?(this.search_choices=this.container.down("ul.chosen-choices"),this.search_container=this.container.down("li.search-field")):(this.search_container=this.container.down("div.chosen-search"),this.selected_item=this.container.down(".chosen-single")),this.results_build(),this.set_tab_index(),this.set_label_behavior()},r.prototype.on_ready=function(){return this.form_field.fire("chosen:ready",{chosen:this})},r.prototype.register_observers=function(){var n=this;return this.container.observe("touchstart",function(t){return n.container_mousedown(t),t.preventDefault()}),this.container.observe("touchend",function(t){return n.container_mouseup(t),t.preventDefault()}),this.container.observe("mousedown",function(t){return n.container_mousedown(t)}),this.container.observe("mouseup",function(t){return n.container_mouseup(t)}),this.container.observe("mouseenter",function(t){return n.mouse_enter(t)}),this.container.observe("mouseleave",function(t){return n.mouse_leave(t)}),this.search_results.observe("mouseup",function(t){return n.search_results_mouseup(t)}),this.search_results.observe("mouseover",function(t){return n.search_results_mouseover(t)}),this.search_results.observe("mouseout",function(t){return n.search_results_mouseout(t)}),this.search_results.observe("mousewheel",function(t){return n.search_results_mousewheel(t)}),this.search_results.observe("DOMMouseScroll",function(t){return n.search_results_mousewheel(t)}),this.search_results.observe("touchstart",function(t){return n.search_results_touchstart(t)}),this.search_results.observe("touchmove",function(t){return n.search_results_touchmove(t)}),this.search_results.observe("touchend",function(t){return n.search_results_touchend(t)}),this.form_field.observe("chosen:updated",function(t){return n.results_update_field(t)}),this.form_field.observe("chosen:activate",function(t){return n.activate_field(t)}),this.form_field.observe("chosen:open",function(t){return n.container_mousedown(t)}),this.form_field.observe("chosen:close",function(t){return n.input_blur(t)}),this.search_field.observe("blur",function(t){return n.input_blur(t)}),this.search_field.observe("keyup",function(t){return n.keyup_checker(t)}),this.search_field.observe("keydown",function(t){return n.keydown_checker(t)}),this.search_field.observe("focus",function(t){return n.input_focus(t)}),this.search_field.observe("cut",function(t){return n.clipboard_event_checker(t)}),this.search_field.observe("paste",function(t){return n.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.observe("click",function(t){return n.choices_click(t)}):this.container.observe("click",function(n){return n.preventDefault()})},r.prototype.destroy=function(){return this.container.ownerDocument.stopObserving("click",this.click_test_action),this.form_field.stopObserving(),this.container.stopObserving(),this.search_results.stopObserving(),this.search_field.stopObserving(),null!=this.form_field_label&&this.form_field_label.stopObserving(),this.is_multiple?(this.search_choices.stopObserving(),this.container.select(".search-choice-close").each(function(n){return n.stopObserving()})):this.selected_item.stopObserving(),this.search_field.tabIndex&&(this.form_field.tabIndex=this.search_field.tabIndex),this.container.remove(),this.form_field.show()},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled,this.is_disabled?(this.container.addClassName("chosen-disabled"),this.search_field.disabled=!0,this.is_multiple||this.selected_item.stopObserving("focus",this.activate_action),this.close_field()):(this.container.removeClassName("chosen-disabled"),this.search_field.disabled=!1,this.is_multiple?void 0:this.selected_item.observe("focus",this.activate_action))},r.prototype.container_mousedown=function(n){if(!this.is_disabled&&(n&&"mousedown"===n.type&&!this.results_showing&&n.stop(),null==n||!n.target.hasClassName("search-choice-close")))return(this.active_field?this.is_multiple||!n||n.target!==this.selected_item&&!n.target.up("a.chosen-single")||this.results_toggle():(this.is_multiple&&this.search_field.clear(),this.container.ownerDocument.observe("click",this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(n){if("ABBR"===n.target.nodeName&&!this.is_disabled)return this.results_reset(n)},r.prototype.search_results_mousewheel=function(n){var t;return t=n.deltaY||-n.wheelDelta||n.detail,null!=t?(n.preventDefault(),"DOMMouseScroll"===n.type&&(t=40*t),this.search_results.scrollTop=t+this.search_results.scrollTop):void 0},r.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClassName("chosen-container-active"))return this.close_field()},r.prototype.close_field=function(){return this.container.ownerDocument.stopObserving("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClassName("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClassName("chosen-container-active"),this.active_field=!0,this.search_field.value=this.search_field.value,this.search_field.focus()},r.prototype.test_active_click=function(n){return n.target.up(".chosen-container")===this.container?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.select("li.search-choice").invoke("remove"):this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field.readOnly=!0,this.container.addClassName("chosen-container-single-nosearch")):(this.search_field.readOnly=!1,this.container.removeClassName("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},r.prototype.result_do_highlight=function(n){var t,i,r,f,u;return this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClassName("highlighted"),r=parseInt(this.search_results.getStyle("maxHeight"),10),u=this.search_results.scrollTop,f=r+u,i=this.result_highlight.positionedOffset().top,t=i+this.result_highlight.getHeight(),t>=f?this.search_results.scrollTop=t-r>0?t-r:0:u>i?this.search_results.scrollTop=i:void 0},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClassName("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field.fire("chosen:maxselected",{chosen:this}),!1):(this.container.addClassName("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.value=this.search_field.value,this.winnow_results(),this.form_field.fire("chosen:showing_dropdown",{chosen:this}))},r.prototype.update_results_content=function(n){return this.search_results.update(n)},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClassName("chosen-with-drop"),this.form_field.fire("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(){var n;if(this.form_field.tabIndex)return(n=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field.tabIndex=n)},r.prototype.set_label_behavior=function(){var n=this;return this.form_field_label=this.form_field.up("label"),null==this.form_field_label&&(this.form_field_label=$$("label[for='"+this.form_field.id+"']").first()),null!=this.form_field_label?this.form_field_label.observe("click",function(t){return n.is_multiple?n.container_mousedown(t):n.activate_field()}):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.value=this.default_text,this.search_field.addClassName("default")):(this.search_field.value="",this.search_field.removeClassName("default"))},r.prototype.search_results_mouseup=function(n){var t;return t=n.target.hasClassName("active-result")?n.target:n.target.up(".active-result"),t?(this.result_highlight=t,this.result_select(n),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(n){var t;return t=n.target.hasClassName("active-result")?n.target:n.target.up(".active-result"),t?this.result_do_highlight(t):void 0},r.prototype.search_results_mouseout=function(n){if(n.target.hasClassName("active-result")||n.target.up(".active-result"))return this.result_clear_highlight()},r.prototype.choice_build=function(n){var t,i,r=this;return t=new Element("li",{"class":"search-choice"}).update("<span>"+this.choice_label(n)+"<\/span>"),n.disabled?t.addClassName("search-choice-disabled"):(i=new Element("a",{href:"#","class":"search-choice-close",rel:n.array_index}),i.observe("click",function(n){return r.choice_destroy_link_click(n)}),t.insert(i)),this.search_container.insert({before:t})},r.prototype.choice_destroy_link_click=function(n){return n.preventDefault(),n.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(n.target)},r.prototype.choice_destroy=function(n){if(this.result_deselect(n.readAttribute("rel")))return(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.value.length<1&&this.results_hide(),n.up("li").remove(),this.search_field_scale())},r.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),"function"==typeof Event.simulate&&this.form_field.simulate("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){var n;return this.current_selectedIndex=this.form_field.selectedIndex,n=this.selected_item.down("abbr"),n?n.remove():void 0},r.prototype.result_select=function(n){var i,t;if(this.result_highlight)return(i=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field.fire("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?i.removeClassName("active-result"):this.reset_single_select_options(),i.addClassName("result-selected"),t=this.results_data[i.getAttribute("data-option-array-index")],t.selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),(n.metaKey||n.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),"function"!=typeof Event.simulate||!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.form_field.simulate("change"),this.current_selectedIndex=this.form_field.selectedIndex,n.preventDefault(),this.search_field_scale()))},r.prototype.single_set_selected_text=function(n){return null==n&&(n=this.default_text),n===this.default_text?this.selected_item.addClassName("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClassName("chosen-default")),this.selected_item.down("span").update(n)},r.prototype.result_deselect=function(n){var t;return t=this.results_data[n],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),"function"==typeof Event.simulate&&this.form_field.simulate("change"),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return(this.selected_item.down("abbr")||this.selected_item.down("span").insert({after:'<abbr class="search-choice-close"><\/abbr>'}),this.selected_item.addClassName("chosen-single-with-deselect"))},r.prototype.get_search_text=function(){return this.search_field.value.strip().escapeHTML()},r.prototype.winnow_results_set_highlight=function(){var n;return this.is_multiple||(n=this.search_results.down(".result-selected.active-result")),null==n&&(n=this.search_results.down(".active-result")),null!=n?this.result_do_highlight(n):void 0},r.prototype.no_results=function(n){return this.search_results.insert(this.no_results_temp.evaluate({terms:n})),this.form_field.fire("chosen:no_results",{chosen:this})},r.prototype.no_results_clear=function(){for(var n=null,t=[];n=this.search_results.down(".no-results");)t.push(n.remove());return t},r.prototype.keydown_arrow=function(){var n;return this.results_showing&&this.result_highlight?(n=this.result_highlight.next(".active-result"))?this.result_do_highlight(n):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var t,n,i;return this.results_showing||this.is_multiple?this.result_highlight?(i=this.result_highlight.previousSiblings(),t=this.search_results.select("li.active-result"),n=i.intersect(t),n.length?this.result_do_highlight(n.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var n;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.down("a")),this.clear_backstroke()):(n=this.search_container.siblings().last(),n&&n.hasClassName("search-choice")&&!n.hasClassName("search-choice-disabled")?(this.pending_backstroke=n,this.pending_backstroke&&this.pending_backstroke.addClassName("search-choice-focus"),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClassName("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClassName("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.value.length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(n);this.mouse_on_container=!1;break;case 13:this.results_showing&&n.preventDefault();break;case 32:this.disable_search&&n.preventDefault();break;case 38:n.preventDefault();this.keyup_arrow();break;case 40:n.preventDefault();this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,r,s,u,f,e,n,i,o;if(this.is_multiple){for(s=0,n=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",e=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,o=e.length;o>i;i++)u=e[i],f+=u+":"+this.search_field.getStyle(u)+";";return t=new Element("div",{style:f}).update(this.search_field.value.escapeHTML()),document.body.appendChild(t),n=Element.measure(t,"width")+25,t.remove(),r=this.container.getWidth(),n>r-10&&(n=r-10),this.search_field.setStyle({width:n+"px"})}},r}(t)}.call(this),function(){var n,r,t,i,u,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=function(){function n(){this.options_index=0;this.parsed=[]}return n.prototype.add_node=function(n){return"OPTGROUP"===n.nodeName.toUpperCase()?this.add_group(n):this.add_option(n)},n.prototype.add_group=function(n){var i,f,t,e,r,u;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(n.label),title:n.title?n.title:void 0,children:0,disabled:n.disabled,classes:n.className}),r=n.childNodes,u=[],t=0,e=r.length;e>t;t++)f=r[t],u.push(this.add_option(f,i,n.disabled));return u},n.prototype.add_option=function(n,t,i){if("OPTION"===n.nodeName.toUpperCase())return(""!==n.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:n.value,text:n.text,html:n.innerHTML,title:n.title?n.title:void 0,selected:n.selected,disabled:i===!0?i:n.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:n.className,style:n.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1)},n.prototype.escapeExpression=function(n){var t,i;return null==n||n===!1?"":/[\&\<\>\"\'\`]/.test(n)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,n.replace(i,function(n){return t[n]||"&amp;"})):n},n}();i.select_to_array=function(n){var f,r,t,e,u;for(r=new i,u=n.childNodes,t=0,e=u.length;e>t;t++)f=u[t],r.add_node(f);return r.parsed};r=function(){function n(t,i){this.form_field=t;this.options=null!=i?i:{};n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var n=this;return this.click_test_action=function(t){return n.test_active_click(t)},this.activate_action=function(t){return n.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(n){return this.include_group_label_in_selected&&null!=n.group_label?"<b class='group-name'>"+n.group_label+"<\/b>"+n.html:n.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var n=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return n.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var n=this;if(!this.mouse_on_container)return(this.active_field=!1,setTimeout(function(){return n.blur_test()},100))},n.prototype.results_option_build=function(n){var u,t,i,f,r,o,e;for(u="",f=0,e=this.results_data,r=0,o=e.length;o>r&&(t=e[r],i="",i=t.group?this.result_add_group(t):this.result_add_option(t),""!==i&&(f++,u+=i),(null!=n?n.first:void 0)&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t))),!(f>=this.max_shown_results));r++);return u},n.prototype.result_add_option=function(n){var t,i;return n.search_match&&this.include_option_in_results(n)?(t=[],n.disabled||n.selected&&this.is_multiple||t.push("active-result"),!n.disabled||n.selected&&this.is_multiple||t.push("disabled-result"),n.selected&&t.push("result-selected"),null!=n.group_array_index&&t.push("group-option"),""!==n.classes&&t.push(n.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=n.style,i.setAttribute("data-option-array-index",n.array_index),i.innerHTML=n.search_text,n.title&&(i.title=n.title),this.outerHTML(i)):""},n.prototype.result_add_group=function(n){var i,t;return(n.search_match||n.group_match)&&n.active_options>0?(i=[],i.push("group-result"),n.classes&&i.push(n.classes),t=document.createElement("li"),t.className=i.join(" "),t.innerHTML=n.search_text,n.title&&(t.title=n.title),this.outerHTML(t)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var i,n,u,r,t;for(r=this.results_data,t=[],n=0,u=r.length;u>n;n++)i=r[n],i.selected?t.push(i.selected=!1):t.push(void 0);return t},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,n,h,u,t,i,r,o,c,f,l,s;for(this.no_results_clear(),u=0,i=this.get_search_text(),e=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=new RegExp(e,"i"),h=this.get_search_regex(e),s=this.results_data,f=0,l=s.length;l>f;f++)n=s[f],n.search_match=!1,t=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(t=this.results_data[n.group_array_index],0===t.active_options&&t.search_match&&(u+=1),t.active_options+=1),n.search_text=n.group?n.label:n.html,(!n.group||this.group_search)&&(n.search_match=this.search_string_match(n.search_text,h),n.search_match&&!n.group&&(u+=1),n.search_match?(i.length&&(r=n.search_text.search(c),o=n.search_text.substr(0,r+i.length)+"<\/em>"+n.search_text.substr(r+i.length),n.search_text=o.substr(0,r)+"<em>"+o.substr(r)),null!=t&&(t.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),1>u&&i.length?(this.update_results_content(""),this.no_results(i)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(n){var t;return t=this.search_contains?"":"^",new RegExp(t+n,"i")},n.prototype.search_string_match=function(n,t){var u,i,r,f;if(t.test(n))return!0;if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(i=n.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,f=i.length;f>r;r++)if(u=i[r],t.test(u))return!0},n.prototype.choices_count=function(){var i,n,r,t;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=this.form_field.options,n=0,r=t.length;r>n;n++)i=t[n],i.selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(n){return n.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(n.preventDefault(),this.results_showing)return this.result_select(n);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var n=this;return setTimeout(function(){return n.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(n){return this.is_multiple&&!this.display_selected_options&&n.selected?!1:!this.display_disabled_options&&n.disabled?!1:n.empty?!1:!0},n.prototype.search_results_touchstart=function(n){return this.touch_started=!0,this.search_results_mouseover(n)},n.prototype.search_results_touchmove=function(n){return this.touch_started=!1,this.search_results_mouseout(n)},n.prototype.search_results_touchend=function(n){if(this.touch_started)return this.search_results_mouseup(n)},n.prototype.outerHTML=function(n){var t;return n.outerHTML?n.outerHTML:(t=document.createElement("div"),t.appendChild(n),t.innerHTML)},n.browser_is_supported=function(){return/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:/IEMobile/i.test(window.navigator.userAgent)?!1:/Windows Phone/i.test(window.navigator.userAgent)?!1:/BlackBerry/i.test(window.navigator.userAgent)?!1:/BB10/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!0},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}();n=jQuery;n.fn.extend({chosen:function(i){return r.browser_is_supported()?this.each(function(){var u,r;return u=n(this),r=u.data("chosen"),"destroy"===i?void(r instanceof t&&r.destroy()):void(r instanceof t||u.data("chosen",new t(this,i)))}):this}});t=function(t){function r(){return u=r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.setup=function(){return this.form_field_jq=n(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},r.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=n("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chosen-drop"><ul class="chosen-results"><\/ul><\/div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'<\/span><div><b><\/b><\/div><\/a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /><\/div><ul class="chosen-results"><\/ul><\/div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},r.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},r.prototype.register_observers=function(){var n=this;return this.container.bind("touchstart.chosen",function(t){return n.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return n.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){n.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){n.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){n.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){n.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){n.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){n.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){n.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){n.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){n.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){n.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){n.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){n.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){n.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){n.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){n.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){n.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){n.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){n.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){n.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){n.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){n.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){n.choices_click(t)}):this.container.bind("click.chosen",function(n){n.preventDefault()})},r.prototype.destroy=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},r.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!n(t.target).hasClass("search-choice-close")))return(this.active_field?this.is_multiple||!t||n(t.target)[0]!==this.selected_item[0]&&!n(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),n(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(n){if("ABBR"===n.target.nodeName&&!this.is_disabled)return this.results_reset(n)},r.prototype.search_results_mousewheel=function(n){var t;return n.originalEvent&&(t=n.originalEvent.deltaY||-n.originalEvent.wheelDelta||n.originalEvent.detail),null!=t?(n.preventDefault(),"DOMMouseScroll"===n.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},r.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},r.prototype.close_field=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){var i;return i=n(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},r.prototype.result_do_highlight=function(n){var t,i,r,f,u;if(n.length){if(this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),u=this.search_results.scrollTop(),f=r+u,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=f)return this.search_results.scrollTop(t-r>0?t-r:0);if(u>i)return this.search_results.scrollTop(i)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},r.prototype.update_results_content=function(n){return this.search_results.html(n)},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(){var n;if(this.form_field.tabIndex)return(n=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=n)},r.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=n("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(n){return t.is_multiple?t.container_mousedown(n):t.activate_field()}):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},r.prototype.search_results_mouseout=function(t){if(n(t.target).hasClass("active-result"))return this.result_clear_highlight()},r.prototype.choice_build=function(t){var i,r,u=this;return i=n("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"<\/span>"),t.disabled?i.addClass("search-choice-disabled"):(r=n("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(n){return u.choice_destroy_link_click(n)}),i.append(r)),this.search_container.before(i)},r.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(n(t.target))},r.prototype.choice_destroy=function(n){if(this.result_deselect(n[0].getAttribute("data-option-array-index")))return(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),n.parents("li").first().remove(),this.search_field_scale())},r.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(n){var i,t;if(this.result_highlight)return(i=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?i.removeClass("active-result"):this.reset_single_select_options(),i.addClass("result-selected"),t=this.results_data[i[0].getAttribute("data-option-array-index")],t.selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),(n.metaKey||n.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[t.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,n.preventDefault(),this.search_field_scale()))},r.prototype.single_set_selected_text=function(n){return null==n&&(n=this.default_text),n===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(n)},r.prototype.result_deselect=function(n){var t;return t=this.results_data[n],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"><\/abbr>'),this.selected_item.addClass("chosen-single-with-deselect"))},r.prototype.get_search_text=function(){return n("<div/>").text(n.trim(this.search_field.val())).html()},r.prototype.winnow_results_set_highlight=function(){var n,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),n=t.length?t.first():this.search_results.find(".active-result").first(),null!=n?this.result_do_highlight(n):void 0},r.prototype.no_results=function(t){var i;return i=n('<li class="no-results">'+this.results_none_found+' "<span><\/span>"<\/li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var n;return this.results_showing&&this.result_highlight?(n=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(n):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var n;return this.results_showing||this.is_multiple?this.result_highlight?(n=this.result_highlight.prevAll("li.active-result"),n.length?this.result_do_highlight(n.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var n;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(n=this.search_container.siblings("li.search-choice").last(),n.length&&!n.hasClass("search-choice-disabled")?(this.pending_backstroke=n,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(n);this.mouse_on_container=!1;break;case 13:this.results_showing&&n.preventDefault();break;case 32:this.disable_search&&n.preventDefault();break;case 38:n.preventDefault();this.keyup_arrow();break;case 40:n.preventDefault();this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,u,h,f,e,o,i,r,s;if(this.is_multiple){for(h=0,i=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],r=0,s=o.length;s>r;r++)f=o[r],e+=f+":"+this.search_field.css(f)+";";return t=n("<div />",{style:e}),t.text(this.search_field.val()),n("body").append(t),i=t.width()+25,t.remove(),u=this.container.outerWidth(),i>u-10&&(i=u-10),this.search_field.css({width:i+"px"})}},r}(r)}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.1";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.1";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i="prev"==n?-1:1,r=this.getItemIndex(t),u=(r+i)%this.$items.length;return this.$items.eq(u)};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",v="next"==i?"first":"last",a=this,o,s,h,c;if(!u.length){if(!this.options.wrap)return;u=this.$element.find(".item")[v]()}return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&"show"==i&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n(this.options.trigger).filter('[href="#'+i.id+'"], [data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.1";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":n.extend({},u.data(),{trigger:this});i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.1";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.divider):visible a";f=o.find('[role="menu"]'+h+', [role="listbox"]'+h);f.length&&(r=f.index(t.target),38==t.which&&r>0&&r--,40==t.which&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.1";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.options.backdrop&&r.adjustBackdrop();r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n('<div class="modal-backdrop '+f+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};t.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var f=n(this),r=f.data("bs.tooltip"),u="object"==typeof i&&i,e=u&&u.selector;(r||"destroy"!=i)&&(e?(r||f.data("bs.tooltip",r={}),r[e]||(r[e]=new t(this,u))):r||f.data("bs.tooltip",r=new t(this,u)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=r.hoverState&&u.detach();r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=this.tip(),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(u.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?u.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var f=n(this),r=f.data("bs.popover"),u="object"==typeof i&&i,e=u&&u.selector;(r||"destroy"!=i)&&(e?(r||f.data("bs.popover",r={}),r[e]||(r[e]=new t(this,u))):r||f.data("bs.popover",r=new t(this,u)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.1";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){var u=n.proxy(this.process,this);this.$body=n("body");this.$scrollElement=n(n(i).is("body")?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",u);this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.1";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var i="offset",r=0,t;n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();t=this;this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.1";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu")&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.1";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=s?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n("body").height();if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery),function(n,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports=t():n.Handlebars=n.Handlebars||t()}(this,function(){var r=function(){"use strict";function n(n){this.string=n}return n.prototype.toString=function(){return""+this.string},n}(),t=function(n){"use strict";function h(n){return e[n]}function c(n){for(var i,t=1;t<arguments.length;t++)for(i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(n[i]=arguments[t][i]);return n}function l(n){return n instanceof f?n.toString():n==null?"":n?(n=""+n,!s.test(n))?n:n.replace(o,h):n+""}function a(n){return n||n===0?u(n)&&n.length===0?!0:!1:!0}function v(n,t){return(n?n+".":"")+t}var t={},f=n,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,s=/[&<>"'`]/,i,r,u;return t.extend=c,i=Object.prototype.toString,t.toString=i,r=function(n){return typeof n=="function"},r(/x/)&&(r=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"}),t.isFunction=r,u=Array.isArray||function(n){return n&&typeof n=="object"?i.call(n)==="[object Array]":!1},t.isArray=u,t.escapeExpression=l,t.isEmpty=a,t.appendContextPath=v,t}(r),n=function(){"use strict";function t(t,i){var u,f,r;for(i&&i.firstLine&&(u=i.firstLine,t+=" - "+u+":"+i.firstColumn),f=Error.prototype.constructor.call(this,t),r=0;r<n.length;r++)this[n[r]]=f[n[r]];u&&(this.lineNumber=u,this.column=i.firstColumn)}var n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(n,t){"use strict";function s(n,t){this.helpers=n||{};this.partials=t||{};p(this)}function p(n){n.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new e("Missing helper: '"+arguments[arguments.length-1].name+"'");});n.registerHelper("blockHelperMissing",function(t,r){var e=r.inverse,o=r.fn,u;return t===!0?o(this):t===!1||t==null?e(this):a(t)?t.length>0?(r.ids&&(r.ids=[r.name]),n.helpers.each(t,r)):e(this):(r.data&&r.ids&&(u=f(r.data),u.contextPath=i.appendContextPath(r.data.contextPath,r.name),r={data:u}),o(t,r))});n.registerHelper("each",function(n,t){var v,c;if(!t)throw new e("Must pass iterator to #each");var l=t.fn,y=t.inverse,u=0,s="",r,h;if(t.data&&t.ids&&(h=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),o(n)&&(n=n.call(this)),t.data&&(r=f(t.data)),n&&typeof n=="object")if(a(n))for(v=n.length;u<v;u++)r&&(r.index=u,r.first=u===0,r.last=u===n.length-1,h&&(r.contextPath=h+u)),s=s+l(n[u],{data:r});else for(c in n)n.hasOwnProperty(c)&&(r&&(r.key=c,r.index=u,r.first=u===0,h&&(r.contextPath=h+c)),s=s+l(n[c],{data:r}),u++);return u===0&&(s=y(this)),s});n.registerHelper("if",function(n,t){return o(n)&&(n=n.call(this)),(t.hash.includeZero||n)&&!i.isEmpty(n)?t.fn(this):t.inverse(this)});n.registerHelper("unless",function(t,i){return n.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})});n.registerHelper("with",function(n,t){var u,r;return o(n)&&(n=n.call(this)),u=t.fn,i.isEmpty(n)?t.inverse(this):(t.data&&t.ids&&(r=f(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}),u(n,t))});n.registerHelper("log",function(t,i){var r=i.data&&i.data.level!=null?parseInt(i.data.level,10):1;n.log(r,t)});n.registerHelper("lookup",function(n,t){return n&&n[t]})}var r={},i=n,e=t,c,l,u,h,f;r.VERSION="2.0.0";c=6;r.COMPILER_REVISION=c;l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=l;var a=i.isArray,o=i.isFunction,v=i.toString,y="[object Object]";return r.HandlebarsEnvironment=s,s.prototype={constructor:s,logger:u,log:h,registerHelper:function(n,t){if(v.call(n)===y){if(t)throw new e("Arg not supported with multiple helpers");i.extend(this.helpers,n)}else this.helpers[n]=t},unregisterHelper:function(n){delete this.helpers[n]},registerPartial:function(n,t){v.call(n)===y?i.extend(this.partials,n):this.partials[n]=t},unregisterPartial:function(n){delete this.partials[n]}},u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(n,t){if(u.level<=n){var i=u.methodMap[n];typeof console!="undefined"&&console[i]&&console[i].call(console,t)}}},r.logger=u,h=u.log,r.log=h,f=function(n){var t=i.extend({},n);return t._parent=n,t},r.createFrame=f,r}(t,n),f=function(n,t,i){"use strict";function c(n){var t=n&&n[0]||1,i=s,u,f;if(t!==i)if(t<i){u=o[i];f=o[t];throw new r("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+u+") or downgrade your runtime to an older version ("+f+").");}else throw new r("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").");}function l(n,t){if(!t)throw new r("No environment passed to template");if(!n||!n.main)throw new r("Unknown template object: "+typeof n);t.VM.checkRevision(n.compiler);var o=function(i,u,f,o,s,h,c,l,a){var v,b,p,y,w;if(s&&(o=e.extend({},o,s)),v=t.VM.invokePartial.call(this,i,f,o,h,c,l,a),v==null&&t.compile&&(b={helpers:h,partials:c,data:l,depths:a},c[f]=t.compile(i,{data:l!==undefined,compat:n.compat},t),v=c[f](o,b)),v!=null){if(u){for(p=v.split("\n"),y=0,w=p.length;y<w;y++){if(!p[y]&&y+1===w)break;p[y]=u+p[y]}v=p.join("\n")}return v}throw new r("The partial "+f+" could not be compiled when running in runtime-only mode");},i={lookup:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i]&&n[i][t]!=null)return n[i][t]},lambda:function(n,t){return typeof n=="function"?n.call(t):n},escapeExpression:e.escapeExpression,invokePartial:o,fn:function(t){return n[t]},programs:[],program:function(n,t,i){var r=this.programs[n],u=this.fn(n);return t||i?r=f(this,n,u,t,i):r||(r=this.programs[n]=f(this,n,u)),r},data:function(n,t){while(n&&t--)n=n._parent;return n},merge:function(n,t){var i=n||t;return n&&t&&n!==t&&(i=e.extend({},t,n)),i},noop:t.VM.noop,compilerInfo:n.compiler},u=function(t,r){var f,e;return r=r||{},f=r.data,u._setup(r),!r.partial&&n.useData&&(f=y(t,f)),n.useDepths&&(e=r.depths?[t].concat(r.depths):[t]),n.main.call(i,t,i.helpers,i.partials,f,e)};return u.isTop=!0,u._setup=function(r){r.partial?(i.helpers=r.helpers,i.partials=r.partials):(i.helpers=i.merge(r.helpers,t.helpers),n.usePartial&&(i.partials=i.merge(r.partials,t.partials)))},u._child=function(t,u,e){if(n.useDepths&&!e)throw new r("must pass parent depths");return f(i,t,n[t],u,e)},u}function f(n,t,i,r,u){var f=function(t,f){return f=f||{},i.call(n,t,n.helpers,n.partials,f.data||r,u&&[t].concat(u))};return f.program=t,f.depth=u?u.length:0,f}function a(n,t,i,u,f,e,o){var s={partial:!0,helpers:u,partials:f,data:e,depths:o};if(n===undefined)throw new r("The partial "+t+" could not be found");else if(n instanceof Function)return n(i,s)}function v(){return""}function y(n,t){return t&&"root"in t||(t=t?h(t):{},t.root=n),t}var u={},e=n,r=t,s=i.COMPILER_REVISION,o=i.REVISION_CHANGES,h=i.createFrame;return u.checkRevision=c,u.template=l,u.program=f,u.invokePartial=a,u.noop=v,u}(t,n,i),e=function(n,t,i,r,u){"use strict";var o=n,c=t,l=i,e=r,s=u,h=function(){var n=new o.HandlebarsEnvironment;return e.extend(n,o),n.SafeString=c,n.Exception=l,n.Utils=e,n.escapeExpression=e.escapeExpression,n.VM=s,n.template=function(t){return s.template(t,n)},n},f=h();return f.create=h,f["default"]=f,f}(i,r,n,t,f),u=function(n){"use strict";function t(n){n=n||{};this.firstLine=n.first_line;this.firstColumn=n.first_column;this.lastColumn=n.last_column;this.lastLine=n.last_line}var r=n,i={ProgramNode:function(n,i,r){t.call(this,r);this.type="program";this.statements=n;this.strip=i},MustacheNode:function(n,r,u,f,e){if(t.call(this,e),this.type="mustache",this.strip=f,u!=null&&u.charAt){var o=u.charAt(3)||u.charAt(2);this.escaped=o!=="{"&&o!=="&"}else this.escaped=!!u;this.sexpr=n instanceof i.SexprNode?n:new i.SexprNode(n,r);this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(n,i,r){t.call(this,r);this.type="sexpr";this.hash=i;var u=this.id=n[0],f=this.params=n.slice(1);this.isHelper=!!(f.length||i);this.eligibleHelper=this.isHelper||u.isSimple},PartialNode:function(n,i,r,u,f){t.call(this,f);this.type="partial";this.partialName=n;this.context=i;this.hash=r;this.strip=u;this.strip.inlineStandalone=!0},BlockNode:function(n,i,r,u,f){t.call(this,f);this.type="block";this.mustache=n;this.program=i;this.inverse=r;this.strip=u;r&&!i&&(this.isInverse=!0)},RawBlockNode:function(n,u,f,e){if(t.call(this,e),n.sexpr.id.original!==f)throw new r(n.sexpr.id.original+" doesn't match "+f,this);u=new i.ContentNode(u,e);this.type="block";this.mustache=n;this.program=new i.ProgramNode([u],{},e)},ContentNode:function(n,i){t.call(this,i);this.type="content";this.original=this.string=n},HashNode:function(n,i){t.call(this,i);this.type="hash";this.pairs=n},IdNode:function(n,i){var f,c,u;t.call(this,i);this.type="ID";var o="",e=[],s=0,h="";for(f=0,c=n.length;f<c;f++)if(u=n[f].part,o+=(n[f].separator||"")+u,u===".."||u==="."||u==="this")if(e.length>0)throw new r("Invalid path: "+o,this);else u===".."?(s++,h+="../"):this.isScoped=!0;else e.push(u);this.original=o;this.parts=e;this.string=e.join(".");this.depth=s;this.idName=h+this.string;this.isSimple=n.length===1&&!this.isScoped&&s===0;this.stringModeValue=this.string},PartialNameNode:function(n,i){t.call(this,i);this.type="PARTIAL_NAME";this.name=n.original},DataNode:function(n,i){t.call(this,i);this.type="DATA";this.id=n;this.stringModeValue=n.stringModeValue;this.idName="@"+n.stringModeValue},StringNode:function(n,i){t.call(this,i);this.type="STRING";this.original=this.string=this.stringModeValue=n},NumberNode:function(n,i){t.call(this,i);this.type="NUMBER";this.original=this.number=n;this.stringModeValue=Number(n)},BooleanNode:function(n,i){t.call(this,i);this.type="BOOLEAN";this.bool=n;this.stringModeValue=n==="true"},CommentNode:function(n,i){t.call(this,i);this.type="comment";this.comment=n;this.strip={inlineStandalone:!0}}};return i}(n),o=function(){"use strict";return function(){function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,CONTENT:12,COMMENT:13,openRawBlock:14,END_RAW_BLOCK:15,OPEN_RAW_BLOCK:16,sexpr:17,CLOSE_RAW_BLOCK:18,openBlock:19,block_option0:20,closeBlock:21,openInverse:22,block_option1:23,OPEN_BLOCK:24,CLOSE:25,OPEN_INVERSE:26,inverseAndProgram:27,INVERSE:28,OPEN_ENDBLOCK:29,path:30,OPEN:31,OPEN_UNESCAPED:32,CLOSE_UNESCAPED:33,OPEN_PARTIAL:34,partialName:35,param:36,partial_option0:37,partial_option1:38,sexpr_repetition0:39,sexpr_option0:40,dataName:41,STRING:42,NUMBER:43,BOOLEAN:44,OPEN_SEXPR:45,CLOSE_SEXPR:46,hash:47,hash_repetition_plus0:48,hashSegment:49,ID:50,EQUALS:51,DATA:52,pathSegments:53,SEP:54,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function(n,t,i,r,u,f){var e=f.length-1;switch(u){case 1:return r.prepareProgram(f[e-1].statements,!0),f[e-1];case 2:this.$=new r.ProgramNode(r.prepareProgram(f[e]),{},this._$);break;case 3:this.$=f[e];break;case 4:this.$=f[e];break;case 5:this.$=f[e];break;case 6:this.$=f[e];break;case 7:this.$=new r.ContentNode(f[e],this._$);break;case 8:this.$=new r.CommentNode(f[e],this._$);break;case 9:this.$=new r.RawBlockNode(f[e-2],f[e-1],f[e],this._$);break;case 10:this.$=new r.MustacheNode(f[e-1],null,"","",this._$);break;case 11:this.$=r.prepareBlock(f[e-3],f[e-2],f[e-1],f[e],!1,this._$);break;case 12:this.$=r.prepareBlock(f[e-3],f[e-2],f[e-1],f[e],!0,this._$);break;case 13:this.$=new r.MustacheNode(f[e-1],null,f[e-2],r.stripFlags(f[e-2],f[e]),this._$);break;case 14:this.$=new r.MustacheNode(f[e-1],null,f[e-2],r.stripFlags(f[e-2],f[e]),this._$);break;case 15:this.$={strip:r.stripFlags(f[e-1],f[e-1]),program:f[e]};break;case 16:this.$={path:f[e-1],strip:r.stripFlags(f[e-2],f[e])};break;case 17:this.$=new r.MustacheNode(f[e-1],null,f[e-2],r.stripFlags(f[e-2],f[e]),this._$);break;case 18:this.$=new r.MustacheNode(f[e-1],null,f[e-2],r.stripFlags(f[e-2],f[e]),this._$);break;case 19:this.$=new r.PartialNode(f[e-3],f[e-2],f[e-1],r.stripFlags(f[e-4],f[e]),this._$);break;case 20:this.$=new r.PartialNode(f[e-2],undefined,f[e-1],r.stripFlags(f[e-3],f[e]),this._$);break;case 21:this.$=new r.SexprNode([f[e-2]].concat(f[e-1]),f[e],this._$);break;case 22:this.$=new r.SexprNode([f[e]],null,this._$);break;case 23:this.$=f[e];break;case 24:this.$=new r.StringNode(f[e],this._$);break;case 25:this.$=new r.NumberNode(f[e],this._$);break;case 26:this.$=new r.BooleanNode(f[e],this._$);break;case 27:this.$=f[e];break;case 28:f[e-1].isHelper=!0;this.$=f[e-1];break;case 29:this.$=new r.HashNode(f[e],this._$);break;case 30:this.$=[f[e-2],f[e]];break;case 31:this.$=new r.PartialNameNode(f[e],this._$);break;case 32:this.$=new r.PartialNameNode(new r.StringNode(f[e],this._$),this._$);break;case 33:this.$=new r.PartialNameNode(new r.NumberNode(f[e],this._$));break;case 34:this.$=new r.DataNode(f[e],this._$);break;case 35:this.$=new r.IdNode(f[e],this._$);break;case 36:f[e-2].push({part:f[e],separator:f[e-1]});this.$=f[e-2];break;case 37:this.$=[{part:f[e]}];break;case 38:this.$=[];break;case 39:f[e-1].push(f[e]);break;case 48:this.$=[];break;case 49:f[e-1].push(f[e]);break;case 52:this.$=[f[e]];break;case 53:f[e-1].push(f[e])}},table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function(n){throw new Error(n);},parse:function(n){function it(){var n;return n=k.lexer.lex()||1,typeof n!="number"&&(n=k.symbols_[n]||n),n}var k=this,r=[0],f=[null],t=[],h=this.table,d="",c=0,g=0,y=0,l,nt,i,p,o,u,w,s,a,e,tt,v,b;for(this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={}),l=this.lexer.yylloc,t.push(l),nt=this.lexer.options&&this.lexer.options.ranges,typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError),s={};;){if(o=r[r.length-1],this.defaultActions[o]?u=this.defaultActions[o]:((i===null||typeof i=="undefined")&&(i=it()),u=h[o]&&h[o][i]),(typeof u=="undefined"||!u.length||!u[0])&&(b="",!y)){v=[];for(a in h[o])this.terminals_[a]&&a>2&&v.push("'"+this.terminals_[a]+"'");b=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[i]||i)+"'":"Parse error on line "+(c+1)+": Unexpected "+(i==1?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(b,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:l,expected:v})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+o+", token: "+i);switch(u[0]){case 1:r.push(i);f.push(this.lexer.yytext);t.push(this.lexer.yylloc);r.push(u[1]);i=null;p?(i=p,p=null):(g=this.lexer.yyleng,d=this.lexer.yytext,c=this.lexer.yylineno,l=this.lexer.yylloc,y>0&&y--);break;case 2:if(e=this.productions_[u[1]][1],s.$=f[f.length-e],s._$={first_line:t[t.length-(e||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(e||1)].first_column,last_column:t[t.length-1].last_column},nt&&(s._$.range=[t[t.length-(e||1)].range[0],t[t.length-1].range[1]]),w=this.performAction.call(s,d,g,c,this.yy,u[1],f,t),typeof w!="undefined")return w;e&&(r=r.slice(0,-2*e),f=f.slice(0,-1*e),t=t.slice(0,-1*e));r.push(this.productions_[u[1]][0]);f.push(s.$);t.push(s._$);tt=h[r[r.length-2]][r[r.length-1]];r.push(tt);break;case 3:return!0}}return!0}},i=function(){var n={EOF:1,parseError:function(n,t){if(this.yy.parser)this.yy.parser.parseError(n,t);else throw new Error(n);},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var n=this._input[0],t;return this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,t=n.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),n},unput:function(n){var i=n.length,t=n.split(/(?:\r\n?|\n)/g),r,u;return this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-i-1),this.offset-=i,r=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),u=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-i},this.options.ranges&&(this.yylloc.range=[u[0],u[0]+this.yyleng-i]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),t=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+t+"^"},next:function(){var f,n,r,e,t,u,i;if(this.done)return this.EOF;for(this._input||(this.done=!0),this._more||(this.yytext="",this.match=""),u=this._currentRules(),i=0;i<u.length;i++)if(r=this._input.match(this.rules[u[i]]),r&&(!n||r[0].length>n[0].length)&&(n=r,e=i,!this.options.flex))break;return n?(t=n[0].match(/(?:\r\n?|\n).*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-t[t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],f=this.performAction.call(this,this.yy,this,u[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)?f:void 0:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return typeof n!="undefined"?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return n.options={},n.performAction=function(n,t,i,r){function u(n,i){return t.yytext=t.yytext.substr(n,t.yyleng-i)}var f=r;switch(i){case 0:if(t.yytext.slice(-2)==="\\\\"?(u(0,1),this.begin("mu")):t.yytext.slice(-1)==="\\"?(u(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 12;break;case 1:return 12;case 2:return this.popState(),12;case 3:return t.yytext=t.yytext.substr(5,t.yyleng-9),this.popState(),15;case 4:return 12;case 5:return u(0,4),this.popState(),13;case 6:return 45;case 7:return 46;case 8:return 16;case 9:return this.popState(),this.begin("raw"),18;case 10:return 34;case 11:return 24;case 12:return 29;case 13:return this.popState(),28;case 14:return this.popState(),28;case 15:return 26;case 16:return 26;case 17:return 32;case 18:return 31;case 19:this.popState();this.begin("com");break;case 20:return u(3,5),this.popState(),13;case 21:return 31;case 22:return 51;case 23:return 50;case 24:return 50;case 25:return 54;case 27:return this.popState(),33;case 28:return this.popState(),25;case 29:return t.yytext=u(1,2).replace(/\\"/g,'"'),42;case 30:return t.yytext=u(1,2).replace(/\\'/g,"'"),42;case 31:return 52;case 32:return 44;case 33:return 44;case 34:return 43;case 35:return 50;case 36:return t.yytext=u(1,2),50;case 37:return"INVALID";case 38:return 5}},n.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],n.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,38],inclusive:!0}},n}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}()}(),s=function(n){"use strict";function o(n,t){return{left:n.charAt(2)==="~",right:t.charAt(t.length-3)==="~"}}function s(n,r,o,s,h,c){var l,a,v;if(n.sexpr.id.original!==s.path.original)throw new e(n.sexpr.id.original+" doesn't match "+s.path.original,n);return l=o&&o.program,a={left:n.strip.left,right:s.strip.right,openStandalone:f(r.statements),closeStandalone:u((l||r).statements)},n.strip.right&&i(r.statements,null,!0),l?(v=o.strip,v.left&&t(r.statements,null,!0),v.right&&i(l.statements,null,!0),s.strip.left&&t(l.statements,null,!0),u(r.statements)&&f(l.statements)&&(t(r.statements),i(l.statements))):s.strip.left&&t(r.statements,null,!0),h?new this.BlockNode(n,l,r,a,c):new this.BlockNode(n,r,l,a,c)}function h(n,r){for(var o,s,e=0,h=n.length;e<h;e++)if(o=n[e],s=o.strip,s){var c=u(n,e,r,o.type==="partial"),l=f(n,e,r),a=s.openStandalone&&c,v=s.closeStandalone&&l,y=s.inlineStandalone&&c&&l;s.right&&i(n,e,!0);s.left&&t(n,e,!0);y&&(i(n,e),t(n,e)&&o.type==="partial"&&(o.indent=/([ \t]+$)/.exec(n[e-1].original)?RegExp.$1:""));a&&(i((o.program||o.inverse).statements),t(n,e));v&&(i(n,e),t((o.inverse||o.program).statements))}return n}function u(n,t,i){t===undefined&&(t=n.length);var r=n[t-1],u=n[t-2];return r?r.type==="content"?(u||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:i}function f(n,t,i){t===undefined&&(t=-1);var r=n[t+1],u=n[t+2];return r?r.type==="content"?(u||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:i}function i(n,t,i){var r=n[t==null?0:t+1],u;r&&r.type==="content"&&(i||!r.rightStripped)&&(u=r.string,r.string=r.string.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.string!==u)}function t(n,t,i){var r=n[t==null?n.length-1:t-1],u;if(r&&r.type==="content"&&(i||!r.leftStripped))return u=r.string,r.string=r.string.replace(i?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.string!==u,r.leftStripped}var r={},e=n;return r.stripFlags=o,r.prepareBlock=s,r.prepareProgram=h,r}(n),h=function(n,t,i,r){"use strict";function c(n){return n.constructor===o.ProgramNode?n:(f.yy=e,f.parse(n))}var u={},f=n,o=t,s=i,h=r.extend,e;return u.parser=f,e={},h(e,s,o),u.parse=c,u}(o,u,s,t),c=function(n,t){"use strict";function u(){}function s(n,t,i){if(n==null||typeof n!="string"&&n.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);t=t||{};"data"in t||(t.data=!0);t.compat&&(t.useDepths=!0);var u=i.parse(n),f=(new i.Compiler).compile(u,t);return(new i.JavaScriptCompiler).compile(f,t)}function h(n,t,i){function e(){var r=i.parse(n),u=(new i.Compiler).compile(r,t),f=(new i.JavaScriptCompiler).compile(u,t,undefined,!0);return i.template(f)}var u,f;if(n==null||typeof n!="string"&&n.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);return t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0),f=function(n,t){return u||(u=e()),u.call(this,n,t)},f._setup=function(n){return u||(u=e()),u._setup(n)},f._child=function(n,t,i){return u||(u=e()),u._child(n,t,i)},f}function e(n,t){if(n===t)return!0;if(f(n)&&f(t)&&n.length===t.length){for(var i=0;i<n.length;i++)if(!e(n[i],t[i]))return!1;return!0}}var i={},r=n,f=t.isArray,o=[].slice;return i.Compiler=u,u.prototype={compiler:u,equals:function(n){var i=this.opcodes.length,t,r,u;if(n.opcodes.length!==i)return!1;for(t=0;t<i;t++)if(r=this.opcodes[t],u=n.opcodes[t],r.opcode!==u.opcode||!e(r.args,u.args))return!1;for(i=this.children.length,t=0;t<i;t++)if(!this.children[t].equals(n.children[t]))return!1;return!0},guid:0,compile:function(n,t){var i,r;if(this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,i=this.options.knownHelpers,this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(r in i)this.options.knownHelpers[r]=i[r];return this.accept(n)},accept:function(n){return this[n.type](n)},program:function(n){for(var i=n.statements,t=0,r=i.length;t<r;t++)this.accept(i[t]);return this.isSimple=r===1,this.depths.list=this.depths.list.sort(function(n,t){return n-t}),this},compileProgram:function(n){var t=(new this.compiler).compile(n,this.options),u=this.guid++,r,i,f;for(this.usePartial=this.usePartial||t.usePartial,this.children[u]=t,i=0,f=t.depths.list.length;i<f;i++)if(r=t.depths.list[i],r<2)continue;else this.addDepth(r-1);return u},block:function(n){var f=n.mustache,t=n.program,i=n.inverse,r,u;t&&(t=this.compileProgram(t));i&&(i=this.compileProgram(i));r=f.sexpr;u=this.classifySexpr(r);u==="helper"?this.helperSexpr(r,t,i):u==="simple"?(this.simpleSexpr(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",r.id.original)):(this.ambiguousSexpr(r,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(n){var i=n.pairs,t,r;for(this.opcode("pushHash"),t=0,r=i.length;t<r;t++)this.pushParam(i[t][1]);while(t--)this.opcode("assignToHash",i[t][0]);this.opcode("popHash")},partial:function(n){var t=n.partialName;this.usePartial=!0;n.hash?this.accept(n.hash):this.opcode("push","undefined");n.context?this.accept(n.context):(this.opcode("getContext",0),this.opcode("pushContext"));this.opcode("invokePartial",t.name,n.indent||"");this.opcode("append")},content:function(n){n.string&&this.opcode("appendContent",n.string)},mustache:function(n){this.sexpr(n.sexpr);n.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(n,t,i){var r=n.id,u=r.parts[0],f=t!=null||i!=null;this.opcode("getContext",r.depth);this.opcode("pushProgram",t);this.opcode("pushProgram",i);this.ID(r);this.opcode("invokeAmbiguous",u,f)},simpleSexpr:function(n){var t=n.id;t.type==="DATA"?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(n,t,i){var e=this.setupFullMustacheParams(n,t,i),u=n.id,f=u.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",e.length,f);else if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+f,n);else u.falsy=!0,this.ID(u),this.opcode("invokeHelper",e.length,u.original,u.isSimple)},sexpr:function(n){var t=this.classifySexpr(n);t==="simple"?this.simpleSexpr(n):t==="helper"?this.helperSexpr(n):this.ambiguousSexpr(n)},ID:function(n){this.addDepth(n.depth);this.opcode("getContext",n.depth);var t=n.parts[0];t?this.opcode("lookupOnContext",n.parts,n.falsy,n.isScoped):this.opcode("pushContext")},DATA:function(n){this.options.data=!0;this.opcode("lookupData",n.id.depth,n.id.parts)},STRING:function(n){this.opcode("pushString",n.string)},NUMBER:function(n){this.opcode("pushLiteral",n.number)},BOOLEAN:function(n){this.opcode("pushLiteral",n.bool)},comment:function(){},opcode:function(n){this.opcodes.push({opcode:n,args:o.call(arguments,1)})},addDepth:function(n){n!==0&&(this.depths[n]||(this.depths[n]=!0,this.depths.list.push(n)))},classifySexpr:function(n){var t=n.isHelper,i=n.eligibleHelper,r=this.options,u;return i&&!t&&(u=n.id.parts[0],r.knownHelpers[u]?t=!0:r.knownHelpersOnly&&(i=!1)),t?"helper":i?"ambiguous":"simple"},pushParams:function(n){for(var t=0,i=n.length;t<i;t++)this.pushParam(n[t])},pushParam:function(n){this.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),n.type==="sexpr"&&this.sexpr(n)):(this.trackIds&&this.opcode("pushId",n.type,n.idName||n.stringModeValue),this.accept(n))},setupFullMustacheParams:function(n,t,i){var r=n.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),n.hash?this.hash(n.hash):this.opcode("emptyHash"),r}},i.precompile=s,i.compile=h,i}(n,t),l=function(n,t){"use strict";function r(n){this.value=n}function i(){}var h=n.COMPILER_REVISION,c=n.REVISION_CHANGES,f=t,e,o,u,s;for(i.prototype={nameLookup:function(n,t){return i.isValidJavaScriptVariableName(t)?n+"."+t:n+"['"+t+"']"},depthedLookup:function(n){return this.aliases.lookup="this.lookup",'lookup(depths, "'+n+'")'},compilerInfo:function(){var n=h,t=c[n];return[n,t]},appendToBuffer:function(n){return this.environment.isSimple?"return "+n+";":{appendToBuffer:!0,content:n,toString:function(){return"buffer += "+n+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(n,t,i,r){var h,c,e,o,l,u,s;for(this.environment=n,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(n,t),this.useDepths=this.useDepths||n.depths.list.length||this.options.compat,h=n.opcodes,e=0,o=h.length;e<o;e++)c=h[e],this[c.opcode].apply(this,c.args);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f("Compile completed with content left on stack");if(l=this.createFunctionContext(r),this.isChild)return l;for(u={compiler:this.compilerInfo(),main:l},s=this.context.programs,e=0,o=s.length;e<o;e++)s[e]&&(u[e]=s[e]);return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.options.compat&&(u.compat=!0),r||(u.compiler=JSON.stringify(u.compiler),u=this.objectLiteral(u)),u},preamble:function(){this.lastContext=0;this.source=[]},createFunctionContext:function(n){var r="",f=this.stackVars.concat(this.registers.list),i,t,u;f.length>0&&(r+=", "+f.join(", "));for(i in this.aliases)this.aliases.hasOwnProperty(i)&&(r+=", "+i+"="+this.aliases[i]);return t=["depth0","helpers","partials","data"],this.useDepths&&t.push("depths"),u=this.mergeSource(r),n?(t.push(u),Function.apply(this,t)):"function("+t.join(",")+") {\n  "+u+"}"},mergeSource:function(n){for(var r,i="",t,e=!this.forceBuffer,u,f=0,o=this.source.length;f<o;f++)r=this.source[f],r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(i?i+="buffer += "+t+";\n  ":(u=!0,i=t+";\n  "),t=undefined),i+=r+"\n  ",this.environment.isSimple||(e=!1));return e?(t||!i)&&(i+="return "+(t||'""')+";\n"):(n+=", buffer = "+(u?"":this.initializeBuffer()),i+=t?"return buffer + "+t+";\n":"return buffer;\n"),n&&(i="var "+n.substring(2)+(u?"":";\n  ")+i),i},blockValue:function(n){var t,i;this.aliases.blockHelperMissing="helpers.blockHelperMissing";t=[this.contextName(0)];this.setupParams(n,0,t);i=this.popStack();t.splice(1,0,i);this.push("blockHelperMissing.call("+t.join(", ")+")")},ambiguousBlockValue:function(){var n,t;this.aliases.blockHelperMissing="helpers.blockHelperMissing";n=[this.contextName(0)];this.setupParams("",0,n,!0);this.flushInline();t=this.topStack();n.splice(1,0,t);this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+n.join(", ")+"); }")},appendContent:function(n){this.pendingContent&&(n=this.pendingContent+n);this.pendingContent=n},append:function(){this.flushInline();var n=this.popStack();this.pushSource("if ("+n+" != null) { "+this.appendToBuffer(n)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(n){this.lastContext=n},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(n,t,i){var r=0,u=n.length;for(i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(n[r++]));r<u;r++)this.replaceStack(function(i){var u=this.nameLookup(i,n[r],"context");return t?" && "+u:" != null ? "+u+" : "+i})},lookupData:function(n,t){var r,i;for(n?this.pushStackLiteral("this.data(data, "+n+")"):this.pushStackLiteral("data"),r=t.length,i=0;i<r;i++)this.replaceStack(function(n){return" && "+this.nameLookup(n,t[i],"data")})},resolvePossibleLambda:function(){this.aliases.lambda="this.lambda";this.push("lambda("+this.popStack()+", "+this.contextName(0)+")")},pushStringParam:function(n,t){this.pushContext();this.pushString(t);t!=="sexpr"&&(typeof n=="string"?this.pushString(n):this.pushStackLiteral(n))},emptyHash:function(){this.pushStackLiteral("{}");this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var n=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push("{"+n.ids.join(",")+"}");this.stringParams&&(this.push("{"+n.contexts.join(",")+"}"),this.push("{"+n.types.join(",")+"}"));this.push("{\n    "+n.values.join(",\n    ")+"\n  }")},pushString:function(n){this.pushStackLiteral(this.quotedString(n))},push:function(n){return this.inlineStack.push(n),n},pushLiteral:function(n){this.pushStackLiteral(n)},pushProgram:function(n){n!=null?this.pushStackLiteral(this.programExpression(n)):this.pushStackLiteral(null)},invokeHelper:function(n,t,i){this.aliases.helperMissing="helpers.helperMissing";var u=this.popStack(),r=this.setupHelper(n,t),f=(i?r.name+" || ":"")+u+" || helperMissing";this.push("(("+f+").call("+r.callParams+"))")},invokeKnownHelper:function(n,t){var i=this.setupHelper(n,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(n,t){var r,i,u;this.aliases.functionType='"function"';this.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");r=this.popStack();this.emptyHash();i=this.setupHelper(0,n,t);u=this.lastHelper=this.nameLookup("helpers",n,"helper");this.push("((helper = (helper = "+u+" || "+r+") != null ? helper : helperMissing"+(i.paramsInit?"),("+i.paramsInit:"")+"),(typeof helper === functionType ? helper.call("+i.callParams+") : helper))")},invokePartial:function(n,t){var i=[this.nameLookup("partials",n,"partial"),"'"+t+"'","'"+n+"'",this.popStack(),this.popStack(),"helpers","partials"];this.options.data?i.push("data"):this.options.compat&&i.push("undefined");this.options.compat&&i.push("depths");this.push("this.invokePartial("+i.join(", ")+")")},assignToHash:function(n){var f=this.popStack(),i,r,u,t;this.trackIds&&(u=this.popStack());this.stringParams&&(r=this.popStack(),i=this.popStack());t=this.hash;i&&t.contexts.push("'"+n+"': "+i);r&&t.types.push("'"+n+"': "+r);u&&t.ids.push("'"+n+"': "+u);t.values.push("'"+n+"': ("+f+")")},pushId:function(n,t){n==="ID"||n==="DATA"?this.pushString(t):n==="sexpr"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:i,compileChildren:function(n,t){for(var i,e=n.children,r,u,f=0,o=e.length;f<o;f++)r=e[f],u=new this.compiler,i=this.matchExistingProgram(r),i==null?(this.context.programs.push(""),i=this.context.programs.length,r.index=i,r.name="program"+i,this.context.programs[i]=u.compile(r,t,this.context,!this.precompile),this.context.environments[i]=r,this.useDepths=this.useDepths||u.useDepths):(r.index=i,r.name="program"+i)},matchExistingProgram:function(n){for(var i,t=0,r=this.context.environments.length;t<r;t++)if(i=this.context.environments[t],i&&i.equals(n))return t},programExpression:function(n){var t=this.environment.children[n],u=t.depths.list,r=this.useDepths,i=[t.index,"data"];return r&&i.push("depths"),"this.program("+i.join(", ")+")"},useRegister:function(n){this.registers[n]||(this.registers[n]=!0,this.registers.list.push(n))},pushStackLiteral:function(n){return this.push(new r(n))},pushSource:function(n){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined);n&&this.source.push(n)},pushStack:function(n){this.flushInline();var t=this.incrStack();return this.pushSource(t+" = "+n+";"),this.compileStack.push(t),t},replaceStack:function(n){var i="",c=this.isInline(),u,e,o,t,s,h;if(!this.isInline())throw new f("replaceStack on non-inline");t=this.popStack(!0);t instanceof r?(i=u=t.value,o=!0):(e=!this.stackSlot,s=e?this.incrStack():this.topStackName(),i="("+this.push(s)+" = "+t+")",u=this.topStack());h=n.call(this,u);o||this.popStack();e&&this.stackSlot--;this.push("("+i+h+")")},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var i=this.inlineStack,n,u,t;if(i.length)for(this.inlineStack=[],n=0,u=i.length;n<u;n++)t=i[n],t instanceof r?this.compileStack.push(t):this.pushStack(t)},isInline:function(){return this.inlineStack.length},popStack:function(n){var i=this.isInline(),t=(i?this.inlineStack:this.compileStack).pop();if(!n&&t instanceof r)return t.value;if(!i){if(!this.stackSlot)throw new f("Invalid stack pop");this.stackSlot--}return t},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return n instanceof r?n.value:n},contextName:function(n){return this.useDepths&&n?"depths["+n+"]":"depth"+n},quotedString:function(n){return'"'+n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(this.quotedString(t)+":"+n[t]);return"{"+i.join(",")+"}"},setupHelper:function(n,t,i){var r=[],u=this.setupParams(t,n,r,i),f=this.nameLookup("helpers",t,"helper");return{params:r,paramsInit:u,name:f,callParams:[this.contextName(0)].concat(r).join(", ")}},setupOptions:function(n,t,i){var r={},o=[],s=[],h=[],c,f,e,u;for(r.name=this.quotedString(n),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack()),f=this.popStack(),e=this.popStack(),(e||f)&&(e||(e="this.noop"),f||(f="this.noop"),r.fn=e,r.inverse=f),u=t;u--;)c=this.popStack(),i[u]=c,this.trackIds&&(h[u]=this.popStack()),this.stringParams&&(s[u]=this.popStack(),o[u]=this.popStack());return this.trackIds&&(r.ids="["+h.join(",")+"]"),this.stringParams&&(r.types="["+s.join(",")+"]",r.contexts="["+o.join(",")+"]"),this.options.data&&(r.data="data"),r},setupParams:function(n,t,i,r){var u=this.objectLiteral(this.setupOptions(n,t,i));return r?(this.useRegister("options"),i.push("options"),"options="+u):(i.push(u),"")}},e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),o=i.RESERVED_WORDS={},u=0,s=e.length;u<s;u++)o[e[u]]=!0;return i.isValidJavaScriptVariableName=function(n){return!i.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)},i}(i,n);return function(n,t,i,r,u){"use strict";var f=n,o=t,s=i.parser,h=i.parse,c=r.Compiler,l=r.compile,a=r.precompile,v=u,y=f.create,e=function(){var n=y();return n.compile=function(t,i){return l(t,i,n)},n.precompile=function(t,i){return a(t,i,n)},n.AST=o,n.Compiler=c,n.JavaScriptCompiler=v,n.Parser=s,n.parse=h,n};return f=e(),f.create=e,f["default"]=f,f}(e,u,h,c,l)});!function(n,t){n(function(){"use strict";function f(n,t){return null!=n&&null!=t&&n.toLowerCase()===t.toLowerCase()}function e(n,t){var r,i,u=n.length;if(!u||!t)return!1;for(r=t.toLowerCase(),i=0;u>i;++i)if(r===n[i].toLowerCase())return!0;return!1}function u(n){for(var t in n)r.call(n,t)&&(n[t]=new RegExp(n[t],"i"))}function i(n,t){this.ua=n||"";this._cache={};this.maxPhoneWidth=t||600}var n={},o,r;return n.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},n.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i},r=Object.prototype.hasOwnProperty,n.FALLBACK_PHONE="UnknownPhone",n.FALLBACK_TABLET="UnknownTablet",n.FALLBACK_MOBILE="UnknownMobile",o="isArray"in Array?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)},function(){var s,i,f,e,c,h,t=n.mobileDetectRules;for(s in t.props)if(r.call(t.props,s)){for(i=t.props[s],o(i)||(i=[i]),c=i.length,e=0;c>e;++e)f=i[e],h=f.indexOf("[VER]"),h>=0&&(f=f.substring(0,h)+"([\\w._\\+]+)"+f.substring(h+5)),i[e]=new RegExp(f,"i");t.props[s]=i}u(t.oss);u(t.phones);u(t.tablets);u(t.uas);u(t.utils);t.oss0={WindowsPhoneOS:t.oss.WindowsPhoneOS,WindowsMobileOS:t.oss.WindowsMobileOS}}(),n.findMatch=function(n,t){for(var i in n)if(r.call(n,i)&&n[i].test(t))return i;return null},n.findMatches=function(n,t){var u=[];for(var i in n)r.call(n,i)&&n[i].test(t)&&u.push(i);return u},n.getVersionStr=function(t,i){var f,u,o,e,s=n.mobileDetectRules.props;if(r.call(s,t))for(f=s[t],o=f.length,u=0;o>u;++u)if(e=f[u].exec(i),null!==e)return e[1];return null},n.getVersion=function(t,i){var r=n.getVersionStr(t,i);return r?n.prepareVersionNo(r):NaN},n.prepareVersionNo=function(n){var t;return t=n.split(/[a-z._ \/\-]/i),1===t.length&&(n=t[0]),t.length>1&&(n=t[0]+".",t.shift(),n+=t.join("")),Number(n)},n.isMobileFallback=function(t){return n.detectMobileBrowsers.fullPattern.test(t)||n.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},n.isTabletFallback=function(t){return n.detectMobileBrowsers.tabletPattern.test(t)},n.prepareDetectionCache=function(r,u,f){if(r.mobile===t){var o,s,e;return(s=n.findMatch(n.mobileDetectRules.tablets,u))?(r.mobile=r.tablet=s,void(r.phone=null)):(o=n.findMatch(n.mobileDetectRules.phones,u))?(r.mobile=r.phone=o,void(r.tablet=null)):void(n.isMobileFallback(u)?(e=i.isPhoneSized(f),e===t?(r.mobile=n.FALLBACK_MOBILE,r.tablet=r.phone=null):e?(r.mobile=r.phone=n.FALLBACK_PHONE,r.tablet=null):(r.mobile=r.tablet=n.FALLBACK_TABLET,r.phone=null)):n.isTabletFallback(u)?(r.mobile=r.tablet=n.FALLBACK_TABLET,r.phone=null):r.mobile=r.tablet=r.phone=null)}},n.mobileGrade=function(n){var t=null!==n.mobile();return n.os("iOS")&&n.version("iPad")>=4.3||n.os("iOS")&&n.version("iPhone")>=3.1||n.os("iOS")&&n.version("iPod")>=3.1||n.version("Android")>2.1&&n.is("Webkit")||n.version("Windows Phone OS")>=7||n.is("BlackBerry")&&n.version("BlackBerry")>=6||n.match("Playbook.*Tablet")||n.version("webOS")>=1.4&&n.match("Palm|Pre|Pixi")||n.match("hp.*TouchPad")||n.is("Firefox")&&n.version("Firefox")>=12||n.is("Chrome")&&n.is("AndroidOS")&&n.version("Android")>=4||n.is("Skyfire")&&n.version("Skyfire")>=4.1&&n.is("AndroidOS")&&n.version("Android")>=2.3||n.is("Opera")&&n.version("Opera Mobi")>11&&n.is("AndroidOS")||n.is("MeeGoOS")||n.is("Tizen")||n.is("Dolfin")&&n.version("Bada")>=2||(n.is("UC Browser")||n.is("Dolfin"))&&n.version("Android")>=2.3||n.match("Kindle Fire")||n.is("Kindle")&&n.version("Kindle")>=3||n.is("AndroidOS")&&n.is("NookTablet")||n.version("Chrome")>=11&&!t||n.version("Safari")>=5&&!t||n.version("Firefox")>=4&&!t||n.version("MSIE")>=7&&!t||n.version("Opera")>=10&&!t?"A":n.os("iOS")&&n.version("iPad")<4.3||n.os("iOS")&&n.version("iPhone")<3.1||n.os("iOS")&&n.version("iPod")<3.1||n.is("Blackberry")&&n.version("BlackBerry")>=5&&n.version("BlackBerry")<6||n.version("Opera Mini")>=5&&n.version("Opera Mini")<=6.5&&(n.version("Android")>=2.3||n.is("iOS"))||n.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||n.version("Opera Mobi")>=11&&n.is("SymbianOS")?"B":(n.version("BlackBerry")<5||n.match("MSIEMobile|Windows CE.*Mobile")||n.version("Windows Mobile")<=5.2,"C")},n.detectOS=function(t){return n.findMatch(n.mobileDetectRules.oss0,t)||n.findMatch(n.mobileDetectRules.oss,t)},n.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},i.prototype={constructor:i,mobile:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=n.findMatch(n.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=n.findMatches(n.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=n.detectOS(this.ua)),this._cache.os},version:function(t){return n.getVersion(t,this.ua)},versionStr:function(t){return n.getVersionStr(t,this.ua)},is:function(t){return e(this.userAgents(),t)||f(t,this.os())||f(t,this.phone())||f(t,this.tablet())||e(n.findMatches(n.mobileDetectRules.utils,this.ua),t)},match:function(n){return n instanceof RegExp||(n=new RegExp(n,"i")),n.test(this.ua)},isPhoneSized:function(n){return i.isPhoneSized(n||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=n.mobileGrade(this)),this._cache.grade}},i.isPhoneSized="undefined"!=typeof window&&window.screen?function(i){return 0>i?t:n.getDeviceSmallerSide()<=i}:function(){},i._impl=n,i})}(function(){if("undefined"!=typeof module&&module.exports)return function(n){module.exports=n()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(n){window.MobileDetect=n()};throw new Error("unknown environment");}());!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function i(){return kf.apply(null,arguments)}function pe(n){kf=n}function ui(n){return"[object Array]"===Object.prototype.toString.call(n)}function fi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function we(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function ft(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ei(n,t){for(var i in t)ft(t,i)&&(n[i]=t[i]);return ft(t,"toString")&&(n.toString=t.toString),ft(t,"valueOf")&&(n.valueOf=t.valueOf),n}function kt(n,t,i,r){return gu(n,t,i,r,!0).utc()}function be(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(n){return null==n._pf&&(n._pf=be()),n._pf}function iu(n){if(null==n._isValid){var t=e(n);n._isValid=!(isNaN(n._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function ru(n){var t=kt(NaN);return null!=n?ei(e(t),n):e(t).userInvalidated=!0,t}function ki(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=e(t)),"undefined"!=typeof t._locale&&(n._locale=t._locale),cr.length>0)for(u in cr)i=cr[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function dt(n){ki(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);lr===!1&&(lr=!0,i.updateOffset(this),lr=!1)}function nt(n){return n instanceof dt||null!=n&&null!=n._isAMomentObject}function v(n){return 0>n?Math.ceil(n):Math.floor(n)}function s(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function uu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&s(n[r])!==s(t[r]))&&u++;return u+e}function fu(){}function eu(n){return n?n.toLowerCase().replace("_","-"):n}function ke(n){for(var i,t,f,r,u=0;u<n.length;){for(r=eu(n[u]).split("-"),i=r.length,t=eu(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ou(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uu(r,t,!0)>=i-1)break;i--}u++}return null}function ou(n){var t=null;if(!ct[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=li._abbr;require("./locale/"+n);gt(t)}catch(i){}return ct[n]}function gt(n,t){var i;return n&&(i="undefined"==typeof t?et(n):su(n,t),i&&(li=i)),li._abbr}function su(n,t){return null!==t?(t.abbr=n,ct[n]=ct[n]||new fu,ct[n].set(t),gt(n),ct[n]):(delete ct[n],null)}function et(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return li;if(!ui(n)){if(t=ou(n))return t;n=[n]}return ke(n)}function l(n,t){var i=n.toLowerCase();ii[i]=ii[i+"s"]=ii[t]=n}function p(n){if("string"==typeof n)return ii[n]||ii[n.toLowerCase()]}function hu(n){var i,t,r={};for(t in n)ft(n,t)&&(i=p(t),i&&(r[i]=n[t]));return r}function yt(n,t){return function(r){return null!=r?(cu(this,n,r),i.updateOffset(this,t),this):oi(this,n)}}function oi(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function cu(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function lu(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=p(n),"function"==typeof this[n])return this[n](t);return this}function di(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(wt[n]=u);t&&(wt[t[0]]=function(){return di(u.apply(this,arguments),t[1],t[2])});i&&(wt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function de(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ge(n){for(var i=n.match(df),t=0,r=i.length;r>t;t++)i[t]=wt[i[t]]?wt[i[t]]:de(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function gi(n,t){return n.isValid()?(t=au(t,n.localeData()),ar[t]=ar[t]||ge(t),ar[t](n)):n.localeData().invalidDate()}function au(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(n);)n=n.replace(ai,r),ai.lastIndex=0,i-=1;return n}function no(n){return"function"==typeof n&&"[object Function]"===Object.prototype.toString.call(n)}function t(n,t,i){pr[n]=no(t)?t:function(n){return n&&i?i:t}}function to(n,t){return ft(pr,n)?pr[n](t._strict,t._locale):new RegExp(io(n))}function io(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function c(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=s(n)}),i=0;i<n.length;i++)wr[n[i]]=r}function ni(n,t){c(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ro(n,t,i){null!=t&&ft(wr,n)&&wr[n](t,i._a,i,n)}function nr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function uo(n){return this._months[n.month()]}function fo(n){return this._monthsShort[n.month()]}function eo(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=kt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function vu(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),nr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function yu(n){return null!=n?(vu(this,n),i.updateOffset(this,!0),this):oi(this,"Month")}function oo(){return nr(this.year(),this.month())}function tr(n){var i,t=n._a;return t&&-2===e(n).overflow&&(i=t[d]<0||t[d]>11?d:t[k]<1||t[k]>nr(t[b],t[d])?k:t[a]<0||t[a]>24||24===t[a]&&(0!==t[lt]||0!==t[at]||0!==t[vt])?a:t[lt]<0||t[lt]>59?lt:t[at]<0||t[at]>59?at:t[vt]<0||t[vt]>999?vt:-1,e(n)._overflowDayOfYear&&(b>i||i>k)&&(i=k),e(n).overflow=i),n}function pu(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function w(n,t){var i=!0;return ei(function(){return i&&(pu(n+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function so(n,t){te[n]||(pu(t),te[n]=!0)}function wu(n){var t,i,r=n._i,u=fa.exec(r);if(u){for(e(n).iso=!0,t=0,i=br.length;i>t;t++)if(br[t][1].exec(r)){n._f=br[t][0];break}for(t=0,i=kr.length;i>t;t++)if(kr[t][1].exec(r)){n._f+=(u[6]||" ")+kr[t][0];break}r.match(bi)&&(n._f+="Z");ur(n)}else n._isValid=!1}function ho(n){var t=ea.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(wu(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function co(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function ir(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function bu(n){return ku(n)?366:365}function ku(n){return n%4==0&&n%100!=0||n%400==0}function lo(){return ku(this.year())}function ot(n,t,i){var u,f=i-t,r=i-n.day();return r>f&&(r-=7),f-7>r&&(r+=7),u=o(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function ao(n){return ot(n,this._week.dow,this._week.doy).week}function vo(){return this._week.dow}function yo(){return this._week.doy}function po(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function wo(n){var t=ot(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function bo(n,t,i,r,u){var f,o=6+u-r,s=ir(n,0,1+o),e=s.getUTCDay();return u>e&&(e+=7),i=null!=i?1*i:u,f=1+o+7*(t-1)-e+i,{year:f>0?n:n-1,dayOfYear:f>0?f:bu(n-1)+f}}function ko(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function pt(n,t,i){return null!=n?n:null!=t?t:i}function go(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function rr(n){var t,i,r,u,f=[];if(!n._d){for(r=go(n),n._w&&null==n._a[k]&&null==n._a[d]&&ns(n),n._dayOfYear&&(u=pt(n._a[b],r[b]),n._dayOfYear>bu(u)&&(e(n)._overflowDayOfYear=!0),i=ir(u,0,n._dayOfYear),n._a[d]=i.getUTCMonth(),n._a[k]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[a]&&0===n._a[lt]&&0===n._a[at]&&0===n._a[vt]&&(n._nextDay=!0,n._a[a]=0);n._d=(n._useUTC?ir:co).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[a]=24)}}function ns(n){var t,e,u,r,i,f,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(i=1,f=4,e=pt(t.GG,n._a[b],ot(o(),1,4).year),u=pt(t.W,1),r=pt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,e=pt(t.gg,n._a[b],ot(o(),i,f).year),u=pt(t.w,1),null!=t.d?(r=t.d,i>r&&++u):r=null!=t.e?t.e+i:i);s=bo(e,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function ur(n){if(n._f===i.ISO_8601)return void wu(n);n._a=[];e(n).empty=!0;for(var t,u,s,r=""+n._i,c=r.length,h=0,o=au(n._f,n._locale).match(df)||[],f=0;f<o.length;f++)u=o[f],t=(r.match(to(u,n))||[])[0],t&&(s=r.substr(0,r.indexOf(t)),s.length>0&&e(n).unusedInput.push(s),r=r.slice(r.indexOf(t)+t.length),h+=t.length),wt[u]?(t?e(n).empty=!1:e(n).unusedTokens.push(u),ro(u,t,n)):n._strict&&!t&&e(n).unusedTokens.push(u);e(n).charsLeftOver=c-h;r.length>0&&e(n).unusedInput.push(r);e(n).bigHour===!0&&n._a[a]<=12&&n._a[a]>0&&(e(n).bigHour=void 0);n._a[a]=ts(n._locale,n._a[a],n._meridiem);rr(n);tr(n)}function ts(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function is(n){var t,f,u,r,i;if(0===n._f.length)return e(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ki({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],ur(t),iu(t)&&(i+=e(t).charsLeftOver,i+=10*e(t).unusedTokens.length,e(t).score=i,(null==u||u>i)&&(u=i,f=t));ei(n,f||t)}function rs(n){if(!n._d){var t=hu(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];rr(n)}}function us(n){var t=new dt(tr(du(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function du(n){var t=n._i,i=n._f;return n._locale=n._locale||et(n._l),null===t||void 0===i&&""===t?ru({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),nt(t)?new dt(tr(t)):(ui(i)?is(n):i?ur(n):fi(t)?n._d=t:fs(n),n))}function fs(n){var t=n._i;void 0===t?n._d=new Date:fi(t)?n._d=new Date(+t):"string"==typeof t?ho(n):ui(t)?(n._a=we(t.slice(0),function(n){return parseInt(n,10)}),rr(n)):"object"==typeof t?rs(n):"number"==typeof t?n._d=new Date(t):i.createFromInputFallback(n)}function gu(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,us(f)}function o(n,t,i,r){return gu(n,t,i,r,!1)}function nf(n,t){var r,i;if(1===t.length&&ui(t[0])&&(t=t[0]),!t.length)return o();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function es(){var n=[].slice.call(arguments,0);return nf("isBefore",n)}function os(){var n=[].slice.call(arguments,0);return nf("isAfter",n)}function si(n){var t=hu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=et();this._bubble()}function fr(n){return n instanceof si}function tf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+di(~~(n/60),2)+t+di(~~n%60,2)})}function er(n){var i=(n||"").match(bi)||[],u=i[i.length-1]||[],t=(u+"").match(fe)||["-",0,0],r=+(60*t[1])+s(t[2]);return"+"===t[0]?r:-r}function or(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(nt(n)||fi(n)?+n:+o(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):o(n).local()}function sr(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ss(n,t){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=er(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&t&&(r=sr(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?ef(this,tt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:sr(this)}function hs(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function cs(n){return this.utcOffset(0,n)}function ls(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(sr(this),"m")),this}function as(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(er(this._i)),this}function vs(n){return n=n?o(n).utcOffset():0,(this.utcOffset()-n)%60==0}function ys(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ps(){var n,t;return"undefined"!=typeof this._isDSTShifted?this._isDSTShifted:(n={},(ki(n,this),n=du(n),n._a)?(t=n._isUTC?kt(n._a):o(n._a),this._isDSTShifted=this.isValid()&&uu(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted)}function ws(){return!this._isUTC}function bs(){return this._isUTC}function rf(){return this._isUTC&&0===this._offset}function tt(n,t){var u,f,e,i=n,r=null;return fr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=ee.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:s(r[k])*u,h:s(r[a])*u,m:s(r[lt])*u,s:s(r[at])*u,ms:s(r[vt])*u}):(r=oe.exec(n))?(u="-"===r[1]?-1:1,i={y:st(r[2],u),M:st(r[3],u),d:st(r[4],u),h:st(r[5],u),m:st(r[6],u),s:st(r[7],u),w:st(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=ks(o(i.from),o(i.to)),i={},i.ms=e.milliseconds,i.M=e.months),f=new si(i),fr(n)&&ft(n,"_locale")&&(f._locale=n._locale),f}function st(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function uf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ks(n,t){var i;return t=or(t,n),n.isBefore(t)?i=uf(n,t):(i=uf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function ff(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(so(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=tt(i,r),ef(this,u,n),this}}function ef(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&cu(n,"Date",oi(n,"Date")+f*r);e&&vu(n,oi(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ds(n,t){var r=n||o(),f=or(r,this).startOf("day"),i=this.diff(f,"days",!0),u=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[u]||this.localeData().calendar(u,this,o(r)))}function gs(){return new dt(this)}function nh(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this>+n):(i=nt(n)?+n:+o(n),i<+this.clone().startOf(t))}function th(n,t){var i;return t=p("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+n>+this):(i=nt(n)?+n:+o(n),+this.clone().endOf(t)<i)}function ih(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function rh(n,t){var i;return t=p(t||"millisecond"),"millisecond"===t?(n=nt(n)?n:o(n),+this==+n):(i=+o(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function uh(n,t,i){var r,u,f=or(n,this),e=6e4*(f.utcOffset()-this.utcOffset());return t=p(t),"year"===t||"month"===t||"quarter"===t?(u=fh(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:v(u)}function fh(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function eh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function of(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():gi(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):gi(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oh(n){var t=gi(this,n||i.defaultFormat);return this.localeData().postformat(t)}function sh(n,t){return this.isValid()?tt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hh(n){return this.from(o(),n)}function ch(n,t){return this.isValid()?tt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lh(n){return this.to(o(),n)}function sf(n){var t;return void 0===n?this._locale._abbr:(t=et(n),null!=t&&(this._locale=t),this)}function hf(){return this._locale}function ah(n){switch(n=p(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function vh(n){return n=p(n),void 0===n||"millisecond"===n?this:this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")}function yh(){return+this._d-6e4*(this._offset||0)}function ph(){return Math.floor(+this/1e3)}function wh(){return this._offset?new Date(+this):this._d}function bh(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function kh(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function dh(){return iu(this)}function gh(){return ei({},e(this))}function nc(){return e(this).overflow}function hi(n,t){r(0,[n,n.length],0,t)}function cf(n,t,i){return ot(o([n,11,31+t-i]),t,i).week}function tc(n){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")}function ic(n){var t=ot(this,1,4).year;return null==n?t:this.add(n-t,"y")}function rc(){return cf(this.year(),1,4)}function uc(){var n=this.localeData()._week;return cf(this.year(),n.dow,n.doy)}function fc(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function ec(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function oc(n){return this._weekdays[n.day()]}function sc(n){return this._weekdaysShort[n.day()]}function hc(n){return this._weekdaysMin[n.day()]}function cc(n){var t,i,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=o([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function lc(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=ec(n,this.localeData()),this.add(n-t,"d")):t}function ac(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function vc(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)}function lf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function af(n,t){return t._meridiemParse}function yc(n){return"p"===(n+"").toLowerCase().charAt(0)}function pc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function wc(n,t){t[vt]=s(1e3*("0."+n))}function bc(){return this._isUTC?"UTC":""}function kc(){return this._isUTC?"Coordinated Universal Time":""}function dc(n){return o(1e3*n)}function gc(){return o.apply(null,arguments).parseZone()}function nl(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.call(t,i):r}function tl(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function il(){return this._invalidDate}function rl(n){return this._ordinal.replace("%d",n)}function vf(n){return n}function ul(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)}function fl(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function el(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function yf(n,t,i,r){var u=et(),f=kt().set(r,t);return u[i](f,n)}function ti(n,t,i,r,u){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return yf(n,t,i,u);for(var e=[],f=0;r>f;f++)e[f]=yf(n,f,i,u);return e}function ol(n,t){return ti(n,t,"months",12,"month")}function sl(n,t){return ti(n,t,"monthsShort",12,"month")}function hl(n,t){return ti(n,t,"weekdays",7,"day")}function cl(n,t){return ti(n,t,"weekdaysShort",7,"day")}function ll(n,t){return ti(n,t,"weekdaysMin",7,"day")}function al(){var n=this._data;return this._milliseconds=g(this._milliseconds),this._days=g(this._days),this._months=g(this._months),n.milliseconds=g(n.milliseconds),n.seconds=g(n.seconds),n.minutes=g(n.minutes),n.hours=g(n.hours),n.months=g(n.months),n.years=g(n.years),this}function pf(n,t,i,r){var u=tt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function vl(n,t){return pf(this,n,t,1)}function yl(n,t){return pf(this,n,t,-1)}function wf(n){return 0>n?Math.floor(n):Math.ceil(n)}function pl(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*wf(hr(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=v(r/1e3),i.seconds=u%60,f=v(u/60),i.minutes=f%60,e=v(f/60),i.hours=e%24,n+=v(e/24),o=v(bf(n)),t+=o,n-=wf(hr(o)),s=v(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function bf(n){return 4800*n/146097}function hr(n){return 146097*n/4800}function wl(n){var t,r,i=this._milliseconds;if(n=p(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+bf(t),"month"===n?r:r/12;switch(t=this._days+Math.round(hr(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function bl(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)}function it(n){return function(){return this.as(n)}}function kl(n){return n=p(n),this[n+"s"]()}function ht(n){return function(){return this._data[n]}}function dl(){return v(this.days()/7)}function gl(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function na(n,t,i){var r=tt(n).abs(),h=bt(r.as("s")),f=bt(r.as("m")),e=bt(r.as("h")),o=bt(r.as("d")),s=bt(r.as("M")),c=bt(r.as("y")),u=h<ut.s&&["s",h]||1===f&&["m"]||f<ut.m&&["mm",f]||1===e&&["h"]||e<ut.h&&["hh",e]||1===o&&["d"]||o<ut.d&&["dd",o]||1===s&&["M"]||s<ut.M&&["MM",s]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,gl.apply(null,u)}function ta(n,t){return void 0===ut[n]?!1:void 0===t?ut[n]:(ut[n]=t,!0)}function ia(n){var t=this.localeData(),i=na(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ci(){var n,e,o,t=tu(this._milliseconds)/1e3,a=tu(this._days),i=tu(this._months);n=v(t/60);e=v(n/60);t%=60;n%=60;o=v(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var kf,li,cr=i.momentProperties=[],lr=!1,ct={},ii={},df=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ar={},wt={},gf=/\d/,y=/\d\d/,ne=/\d{3}/,vr=/\d{4}/,vi=/[+-]?\d{6}/,h=/\d\d?/,yi=/\d{1,3}/,yr=/\d{1,4}/,pi=/[+-]?\d{1,6}/,wi=/[+-]?\d+/,bi=/Z|[+-]\d\d:?\d\d/gi,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pr={},wr={},b=0,d=1,k=2,a=3,lt=4,at=5,vt=6,dr,ie,re,ue,fe,ee,oe,se,he,gr,nu,ce,le,ae,ve,rt,ye,n;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});l("month","M");t("M",h);t("MM",h,y);t("MMM",ri);t("MMMM",ri);c(["M","MM"],function(n,t){t[d]=s(n)-1});c(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[d]=u:e(i).invalidMonth=n});var ra="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};i.suppressDeprecationWarnings=!1;var fa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],kr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ea=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");l("year","y");t("Y",wi);t("YY",h,y);t("YYYY",yr,vr);t("YYYYY",pi,vi);t("YYYYYY",pi,vi);c(["YYYYY","YYYYYY"],b);c("YYYY",function(n,t){t[b]=2===n.length?i.parseTwoDigitYear(n):s(n)});c("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)});i.parseTwoDigitYear=function(n){return s(n)+(s(n)>68?1900:2e3)};dr=yt("FullYear",!1);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");l("week","w");l("isoWeek","W");t("w",h);t("ww",h,y);t("W",h);t("WW",h,y);ni(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=s(n)});ie={dow:0,doy:6};r("DDD",["DDDD",3],"DDDo","dayOfYear");l("dayOfYear","DDD");t("DDD",yi);t("DDDD",ne);c(["DDD","DDDD"],function(n,t,i){i._dayOfYear=s(n)});i.ISO_8601=function(){};re=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return this>n?this:n});ue=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=o.apply(null,arguments);return n>this?this:n});tf("Z",":");tf("ZZ","");t("Z",bi);t("ZZ",bi);c(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=er(n)});fe=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};ee=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;oe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;tt.fn=si.prototype;se=ff(1,"add");he=ff(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";gr=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});hi("gggg","weekYear");hi("ggggg","weekYear");hi("GGGG","isoWeekYear");hi("GGGGG","isoWeekYear");l("weekYear","gg");l("isoWeekYear","GG");t("G",wi);t("g",wi);t("GG",h,y);t("gg",h,y);t("GGGG",yr,vr);t("gggg",yr,vr);t("GGGGG",pi,vi);t("ggggg",pi,vi);ni(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=s(n)});ni(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)});r("Q",0,0,"quarter");l("quarter","Q");t("Q",gf);c("Q",function(n,t){t[d]=3*(s(n)-1)});r("D",["DD",2],"Do","date");l("date","D");t("D",h);t("DD",h,y);t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});c(["D","DD"],k);c("Do",function(n,t){t[k]=s(n.match(h)[0],10)});nu=yt("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");l("day","d");l("weekday","e");l("isoWeekday","E");t("d",h);t("e",h);t("E",h);t("dd",ri);t("ddd",ri);t("dddd",ri);ni(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);null!=r?t.d=r:e(i).invalidWeekday=n});ni(["d","e","E"],function(n,t,i,r){t[r]=s(n)});var oa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ha="Su_Mo_Tu_We_Th_Fr_Sa".split("_");for(r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),lf("a",!0),lf("A",!1),l("hour","h"),t("a",af),t("A",af),t("H",h),t("h",h),t("HH",h,y),t("hh",h,y),c(["H","HH"],a),c(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),c(["h","hh"],function(n,t,i){t[a]=s(n);e(i).bigHour=!0}),ce=/[ap]\.?m?\.?/i,le=yt("Hours",!0),r("m",["mm",2],0,"minute"),l("minute","m"),t("m",h),t("mm",h,y),c(["m","mm"],lt),ae=yt("Minutes",!1),r("s",["ss",2],0,"second"),l("second","s"),t("s",h),t("ss",h,y),c(["s","ss"],at),ve=yt("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),l("millisecond","ms"),t("S",yi,gf),t("SS",yi,y),t("SSS",yi,ne),rt="SSSS";rt.length<=9;rt+="S")t(rt,/\d+/);for(rt="S";rt.length<=9;rt+="S")c(rt,wc);ye=yt("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=dt.prototype;n.add=se;n.calendar=ds;n.clone=gs;n.diff=uh;n.endOf=vh;n.format=oh;n.from=sh;n.fromNow=hh;n.to=ch;n.toNow=lh;n.get=lu;n.invalidAt=nc;n.isAfter=nh;n.isBefore=th;n.isBetween=ih;n.isSame=rh;n.isValid=dh;n.lang=gr;n.locale=sf;n.localeData=hf;n.max=ue;n.min=re;n.parsingFlags=gh;n.set=lu;n.startOf=ah;n.subtract=he;n.toArray=bh;n.toObject=kh;n.toDate=wh;n.toISOString=of;n.toJSON=of;n.toString=eh;n.unix=ph;n.valueOf=yh;n.year=dr;n.isLeapYear=lo;n.weekYear=tc;n.isoWeekYear=ic;n.quarter=n.quarters=fc;n.month=yu;n.daysInMonth=oo;n.week=n.weeks=po;n.isoWeek=n.isoWeeks=wo;n.weeksInYear=uc;n.isoWeeksInYear=rc;n.date=nu;n.day=n.days=lc;n.weekday=ac;n.isoWeekday=vc;n.dayOfYear=ko;n.hour=n.hours=le;n.minute=n.minutes=ae;n.second=n.seconds=ve;n.millisecond=n.milliseconds=ye;n.utcOffset=ss;n.utc=cs;n.local=ls;n.parseZone=as;n.hasAlignedHourOffset=vs;n.isDST=ys;n.isDSTShifted=ps;n.isLocal=ws;n.isUtcOffset=bs;n.isUtc=rf;n.isUTC=rf;n.zoneAbbr=bc;n.zoneName=kc;n.dates=w("dates accessor is deprecated. Use date instead.",nu);n.months=w("months accessor is deprecated. Use month instead",yu);n.years=w("years accessor is deprecated. Use year instead",dr);n.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",hs);var ca=n,u=fu.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=nl;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};u.longDateFormat=tl;u._invalidDate="Invalid date";u.invalidDate=il;u._ordinal="%d";u.ordinal=rl;u._ordinalParse=/\d{1,2}/;u.preparse=vf;u.postformat=vf;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=ul;u.pastFuture=fl;u.set=el;u.months=uo;u._months=ra;u.monthsShort=fo;u._monthsShort=ua;u.monthsParse=eo;u.week=ao;u._week=ie;u.firstDayOfYear=yo;u.firstDayOfWeek=vo;u.weekdays=oc;u._weekdays=oa;u.weekdaysMin=hc;u._weekdaysMin=ha;u.weekdaysShort=sc;u._weekdaysShort=sa;u.weekdaysParse=cc;u.isPM=yc;u._meridiemParse=ce;u.meridiem=pc;gt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===s(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=w("moment.lang is deprecated. Use moment.locale instead.",gt);i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",et);var g=Math.abs,la=it("ms"),aa=it("s"),va=it("m"),ya=it("h"),pa=it("d"),wa=it("w"),ba=it("M"),ka=it("y"),da=ht("milliseconds"),ga=ht("seconds"),nv=ht("minutes"),tv=ht("hours"),iv=ht("days"),rv=ht("months"),uv=ht("years"),bt=Math.round,ut={s:45,m:45,h:22,d:26,M:11},tu=Math.abs,f=si.prototype;return f.abs=al,f.add=vl,f.subtract=yl,f.as=wl,f.asMilliseconds=la,f.asSeconds=aa,f.asMinutes=va,f.asHours=ya,f.asDays=pa,f.asWeeks=wa,f.asMonths=ba,f.asYears=ka,f.valueOf=bl,f._bubble=pl,f.get=kl,f.milliseconds=da,f.seconds=ga,f.minutes=nv,f.hours=tv,f.days=iv,f.weeks=dl,f.months=rv,f.years=uv,f.humanize=ia,f.toISOString=ci,f.toString=ci,f.toJSON=ci,f.locale=sf,f.localeData=hf,f.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),f.lang=gr,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",wi),t("X",/[+-]?\d+(\.\d{1,3})?/),c("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),c("x",function(n,t,i){i._d=new Date(s(n))}),i.version="2.10.6",pe(o),i.fn=ca,i.min=es,i.max=os,i.utc=kt,i.unix=dc,i.months=ol,i.isDate=fi,i.locale=gt,i.invalid=ru,i.duration=tt,i.isMoment=nt,i.weekdays=hl,i.parseZone=gc,i.localeData=et,i.isDuration=fr,i.monthsShort=sl,i.weekdaysMin=ll,i.defineLocale=su,i.weekdaysShort=cl,i.normalizeUnits=p,i.relativeTimeThreshold=ta,i}),function(n){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!1,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};n.fn.bxSlider=function(r){if(this.length===0)return this;if(this.length>1)return this.each(function(){n(this).bxSlider(r)}),this;var u={},f=this,k=n(window).width(),d=n(window).height();if(!n(f).data("bxSlider")){var g=function(){n(f).data("bxSlider")||(u.settings=n.extend({},t,r),u.settings.slideWidth=parseInt(u.settings.slideWidth),u.children=f.children(u.settings.slideSelector),u.children.length<u.settings.minSlides&&(u.settings.minSlides=u.children.length),u.children.length<u.settings.maxSlides&&(u.settings.maxSlides=u.children.length),u.settings.randomStart&&(u.settings.startSlide=Math.floor(Math.random()*u.children.length)),u.active={index:u.settings.startSlide},u.carousel=u.settings.minSlides>1||u.settings.maxSlides>1?!0:!1,u.carousel&&(u.settings.preloadImages="all"),u.minThreshold=u.settings.minSlides*u.settings.slideWidth+(u.settings.minSlides-1)*u.settings.slideMargin,u.maxThreshold=u.settings.maxSlides*u.settings.slideWidth+(u.settings.maxSlides-1)*u.settings.slideMargin,u.working=!1,u.controls={},u.interval=null,u.animProp=u.settings.mode==="vertical"?"top":"left",u.usingCSS=u.settings.useCSS&&u.settings.mode!=="fade"&&function(){for(var i=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<t.length;n++)if(i.style[t[n]]!==undefined)return u.cssPrefix=t[n].replace("Perspective","").toLowerCase(),u.animProp="-"+u.cssPrefix+"-transform",!0;return!1}(),u.settings.mode==="vertical"&&(u.settings.maxSlides=u.settings.minSlides),f.data("origStyle",f.attr("style")),f.children(u.settings.slideSelector).each(function(){n(this).data("origStyle",n(this).attr("style"))}),ht())},ht=function(){var t=u.children.eq(u.settings.startSlide);f.wrap('<div class="'+u.settings.wrapperClass+'"><div class="bx-viewport"><\/div><\/div>');u.viewport=f.parent();u.settings.ariaLive&&!u.settings.ticker&&u.viewport.attr("aria-live","polite");u.loader=n('<div class="bx-loading" />');u.viewport.prepend(u.loader);f.css({width:u.settings.mode==="horizontal"?u.children.length*1e3+215+"%":"auto",position:"relative"});u.usingCSS&&u.settings.easing?f.css("-"+u.cssPrefix+"-transition-timing-function",u.settings.easing):u.settings.easing||(u.settings.easing="swing");u.viewport.css({width:"100%",overflow:"hidden",position:"relative"});u.viewport.parent().css({maxWidth:at()});u.settings.pager||u.settings.controls||u.viewport.parent().css({margin:"0 auto 0px"});u.children.css({float:u.settings.mode==="horizontal"?"left":"none",listStyle:"none",position:"relative"});u.children.css("width",nt());u.settings.mode==="horizontal"&&u.settings.slideMargin>0&&u.children.css("marginRight",u.settings.slideMargin);u.settings.mode==="vertical"&&u.settings.slideMargin>0&&u.children.css("marginBottom",u.settings.slideMargin);u.settings.mode==="fade"&&(u.children.css({position:"absolute",zIndex:0,display:"none"}),u.children.eq(u.settings.startSlide).css({zIndex:u.settings.slideZIndex,display:"block"}));u.controls.el=n('<div class="bx-controls" />');u.settings.captions&&wt();u.active.last=u.settings.startSlide===o()-1;u.settings.video&&f.fitVids();(u.settings.preloadImages==="all"||u.settings.ticker)&&(t=u.children);u.settings.ticker?u.settings.pager=!1:(u.settings.controls&&yt(),u.settings.auto&&u.settings.autoControls&&pt(),u.settings.pager&&vt(),(u.settings.controls||u.settings.autoControls||u.settings.pager)&&u.viewport.after(u.controls.el));ct(t,lt)},ct=function(t,i){var r=t.find('img:not([src=""]), iframe').length,u=0;if(r===0){i();return}t.find('img:not([src=""]), iframe').each(function(){n(this).one("load error",function(){++u===r&&i()}).each(function(){this.complete&&n(this).load()})})},lt=function(){if(u.settings.infiniteLoop&&u.settings.mode!=="fade"&&!u.settings.ticker){var t=u.settings.mode==="vertical"?u.settings.minSlides:u.settings.maxSlides,i=u.children.slice(0,t).clone(!0).addClass("bx-clone"),r=u.children.slice(-t).clone(!0).addClass("bx-clone");u.settings.ariaHidden&&(i.attr("aria-hidden",!0),r.attr("aria-hidden",!0));f.append(i).prepend(r)}u.loader.remove();tt();u.settings.mode==="vertical"&&(u.settings.adaptiveHeight=!0);u.viewport.height(c());f.redrawSlider();u.settings.onSliderLoad.call(f,u.active.index);u.initialized=!0;u.settings.responsive&&n(window).bind("resize",b);u.settings.auto&&u.settings.autoStart&&(o()>1||u.settings.autoSlideForOnePage)&&gt();u.settings.ticker&&ni();u.settings.pager&&v(u.settings.startSlide);u.settings.controls&&ft();u.settings.touchEnabled&&!u.settings.ticker&&ii();u.settings.keyboardEnabled&&!u.settings.ticker&&n(document).keydown(et)},c=function(){var r=0,t=n(),f;if(u.settings.mode==="vertical"||u.settings.adaptiveHeight)if(u.carousel)for(f=u.settings.moveSlides===1?u.active.index:u.active.index*s(),t=u.children.eq(f),i=1;i<=u.settings.maxSlides-1;i++)t=f+i>=u.children.length?t.add(u.children.eq(i-1)):t.add(u.children.eq(f+i));else t=u.children.eq(u.active.index);else t=u.children;return u.settings.mode==="vertical"?(t.each(function(){r+=n(this).outerHeight()}),u.settings.slideMargin>0&&(r+=u.settings.slideMargin*(u.settings.minSlides-1))):r=Math.max.apply(Math,t.map(function(){return n(this).outerHeight(!1)}).get()),u.viewport.css("box-sizing")==="border-box"?r+=parseFloat(u.viewport.css("padding-top"))+parseFloat(u.viewport.css("padding-bottom"))+parseFloat(u.viewport.css("border-top-width"))+parseFloat(u.viewport.css("border-bottom-width")):u.viewport.css("box-sizing")==="padding-box"&&(r+=parseFloat(u.viewport.css("padding-top"))+parseFloat(u.viewport.css("padding-bottom"))),r},at=function(){var n="100%";return u.settings.slideWidth>0&&(n=u.settings.mode==="horizontal"?u.settings.maxSlides*u.settings.slideWidth+(u.settings.maxSlides-1)*u.settings.slideMargin:u.settings.slideWidth),n},nt=function(){var t=u.settings.slideWidth,n=u.viewport.width();if(u.settings.slideWidth===0||u.settings.slideWidth>n&&!u.carousel||u.settings.mode==="vertical")t=n;else if(u.settings.maxSlides>1&&u.settings.mode==="horizontal"){if(n>u.maxThreshold)return t;n<u.minThreshold?t=(n-u.settings.slideMargin*(u.settings.minSlides-1))/u.settings.minSlides:u.settings.shrinkItems&&(t=Math.floor((n+u.settings.slideMargin)/Math.ceil((n+u.settings.slideMargin)/(t+u.settings.slideMargin))-u.settings.slideMargin))}return t},h=function(){var n=1,t=null;return u.settings.mode==="horizontal"&&u.settings.slideWidth>0?u.viewport.width()<u.minThreshold?n=u.settings.minSlides:u.viewport.width()>u.maxThreshold?n=u.settings.maxSlides:(t=u.children.first().width()+u.settings.slideMargin,n=Math.floor((u.viewport.width()+u.settings.slideMargin)/t)):u.settings.mode==="vertical"&&(n=u.settings.minSlides),n<=0&&(n=1),n},o=function(){var n=0,t=0,i=0;if(u.settings.moveSlides>0)if(u.settings.infiniteLoop)n=Math.ceil(u.children.length/s());else while(t<u.children.length)++n,t=i+h(),i+=u.settings.moveSlides<=h()?u.settings.moveSlides:h();else n=Math.ceil(u.children.length/h());return n},s=function(){return u.settings.moveSlides>0&&u.settings.moveSlides<=h()?u.settings.moveSlides:h()},tt=function(){var n,t,i;u.children.length>u.settings.maxSlides&&u.active.last&&!u.settings.infiniteLoop?u.settings.mode==="horizontal"?(t=u.children.last(),n=t.position(),e(-(n.left-(u.viewport.width()-t.outerWidth())),"reset",0)):u.settings.mode==="vertical"&&(i=u.children.length-u.settings.minSlides,n=u.children.eq(i).position(),e(-n.top,"reset",0)):(n=u.children.eq(u.active.index*s()).position(),u.active.index===o()-1&&(u.active.last=!0),n!==undefined&&(u.settings.mode==="horizontal"?e(-n.left,"reset",0):u.settings.mode==="vertical"&&e(-n.top,"reset",0)))},e=function(t,i,r,o){var s,h;u.usingCSS?(h=u.settings.mode==="vertical"?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",f.css("-"+u.cssPrefix+"-transition-duration",r/1e3+"s"),i==="slide"?(f.css(u.animProp,h),r!==0?f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){n(t.target).is(f)&&(f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),a())}):a()):i==="reset"?f.css(u.animProp,h):i==="ticker"&&(f.css("-"+u.cssPrefix+"-transition-timing-function","linear"),f.css(u.animProp,h),r!==0?f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){n(t.target).is(f)&&(f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),e(o.resetValue,"reset",0),l())}):(e(o.resetValue,"reset",0),l()))):(s={},s[u.animProp]=t,i==="slide"?f.animate(s,r,u.settings.easing,function(){a()}):i==="reset"?f.css(u.animProp,t):i==="ticker"&&f.animate(s,r,"linear",function(){e(o.resetValue,"reset",0);l()}))},it=function(){for(var r="",i="",f=o(),t=0;t<f;t++)i="",u.settings.buildPager&&n.isFunction(u.settings.buildPager)||u.settings.pagerCustom?(i=u.settings.buildPager(t),u.pagerEl.addClass("bx-custom-pager")):(i=t+1,u.pagerEl.addClass("bx-default-pager")),r+='<div class="bx-pager-item"><a href="" data-slide-index="'+t+'" class="bx-pager-link">'+i+"<\/a><\/div>";u.pagerEl.html(r)},vt=function(){u.settings.pagerCustom?u.pagerEl=n(u.settings.pagerCustom):(u.pagerEl=n('<div class="bx-pager" />'),u.settings.pagerSelector?n(u.settings.pagerSelector).html(u.pagerEl):u.controls.el.addClass("bx-has-pager").append(u.pagerEl),it());u.pagerEl.on("click touchend","a",dt)},yt=function(){u.controls.next=n('<a class="bx-next" href="">'+u.settings.nextText+"<\/a>");u.controls.prev=n('<a class="bx-prev" href="">'+u.settings.prevText+"<\/a>");u.controls.next.bind("click touchend",rt);u.controls.prev.bind("click touchend",ut);u.settings.nextSelector&&n(u.settings.nextSelector).append(u.controls.next);u.settings.prevSelector&&n(u.settings.prevSelector).append(u.controls.prev);u.settings.nextSelector||u.settings.prevSelector||(u.controls.directionEl=n('<div class="bx-controls-direction" />'),u.controls.directionEl.append(u.controls.prev).append(u.controls.next),u.controls.el.addClass("bx-has-controls-direction").append(u.controls.directionEl))},pt=function(){u.controls.start=n('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+u.settings.startText+"<\/a><\/div>");u.controls.stop=n('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+u.settings.stopText+"<\/a><\/div>");u.controls.autoEl=n('<div class="bx-controls-auto" />');u.controls.autoEl.on("click",".bx-start",bt);u.controls.autoEl.on("click",".bx-stop",kt);u.settings.autoControlsCombine?u.controls.autoEl.append(u.controls.start):u.controls.autoEl.append(u.controls.start).append(u.controls.stop);u.settings.autoControlsSelector?n(u.settings.autoControlsSelector).html(u.controls.autoEl):u.controls.el.addClass("bx-has-controls-auto").append(u.controls.autoEl);y(u.settings.autoStart?"stop":"start")},wt=function(){u.children.each(function(){var t=n(this).find("img:first").attr("title");t!==undefined&&(""+t).length&&n(this).append('<div class="bx-caption"><span>'+t+"<\/span><\/div>")})},rt=function(n){(n.preventDefault(),u.controls.el.hasClass("disabled"))||(u.settings.auto&&u.settings.stopAutoOnClick&&f.stopAuto(),n.originalEvent.detail<=1&&f.goToNextSlide())},ut=function(n){(n.preventDefault(),u.controls.el.hasClass("disabled"))||(u.settings.auto&&u.settings.stopAutoOnClick&&f.stopAuto(),n.originalEvent.detail<=1&&f.goToPrevSlide())},bt=function(n){f.startAuto();n.preventDefault()},kt=function(n){f.stopAuto();n.preventDefault()},dt=function(t){var i,r;(t.preventDefault(),u.controls.el.hasClass("disabled"))||(u.settings.auto&&u.settings.stopAutoOnClick&&f.stopAuto(),i=n(t.currentTarget),i.attr("data-slide-index")!==undefined&&(r=parseInt(i.attr("data-slide-index")),r!==u.active.index&&f.goToSlide(r)))},v=function(t){var i=u.children.length;if(u.settings.pagerType==="short"){u.settings.maxSlides>1&&(i=Math.ceil(u.children.length/u.settings.maxSlides));u.pagerEl.html(t+1+u.settings.pagerShortSeparator+i);return}u.pagerEl.find("a").removeClass("active");u.pagerEl.each(function(i,r){n(r).find("a").eq(t).addClass("active")})},a=function(){if(u.settings.infiniteLoop){var n="";u.active.index===0?n=u.children.eq(0).position():u.active.index===o()-1&&u.carousel?n=u.children.eq((o()-1)*s()).position():u.active.index===u.children.length-1&&(n=u.children.eq(u.children.length-1).position());n&&(u.settings.mode==="horizontal"?e(-n.left,"reset",0):u.settings.mode==="vertical"&&e(-n.top,"reset",0))}u.working=!1;u.settings.onSlideAfter.call(f,u.children.eq(u.active.index),u.oldIndex,u.active.index)},y=function(n){u.settings.autoControlsCombine?u.controls.autoEl.html(u.controls[n]):(u.controls.autoEl.find("a").removeClass("active"),u.controls.autoEl.find("a:not(.bx-"+n+")").addClass("active"))},ft=function(){o()===1?(u.controls.prev.addClass("disabled"),u.controls.next.addClass("disabled")):!u.settings.infiniteLoop&&u.settings.hideControlOnEnd&&(u.active.index===0?(u.controls.prev.addClass("disabled"),u.controls.next.removeClass("disabled")):u.active.index===o()-1?(u.controls.next.addClass("disabled"),u.controls.prev.removeClass("disabled")):(u.controls.prev.removeClass("disabled"),u.controls.next.removeClass("disabled")))},gt=function(){if(u.settings.autoDelay>0)var t=setTimeout(f.startAuto,u.settings.autoDelay);else f.startAuto(),n(window).focus(function(){f.startAuto()}).blur(function(){f.stopAuto()});u.settings.autoHover&&f.hover(function(){u.interval&&(f.stopAuto(!0),u.autoPaused=!0)},function(){u.autoPaused&&(f.startAuto(!0),u.autoPaused=null)})},ni=function(){var c=0,o,a,s,v,i,h,r,t;u.settings.autoDirection==="next"?f.append(u.children.clone().addClass("bx-clone")):(f.prepend(u.children.clone().addClass("bx-clone")),o=u.children.first().position(),c=u.settings.mode==="horizontal"?-o.left:-o.top);e(c,"reset",0);u.settings.pager=!1;u.settings.controls=!1;u.settings.autoControls=!1;u.settings.tickerHover&&(u.usingCSS?(v=u.settings.mode==="horizontal"?4:5,u.viewport.hover(function(){a=f.css("-"+u.cssPrefix+"-transform");s=parseFloat(a.split(",")[v]);e(s,"reset",0)},function(){t=0;u.children.each(function(){t+=u.settings.mode==="horizontal"?n(this).outerWidth(!0):n(this).outerHeight(!0)});i=u.settings.speed/t;h=u.settings.mode==="horizontal"?"left":"top";r=i*(t-Math.abs(parseInt(s)));l(r)})):u.viewport.hover(function(){f.stop()},function(){t=0;u.children.each(function(){t+=u.settings.mode==="horizontal"?n(this).outerWidth(!0):n(this).outerHeight(!0)});i=u.settings.speed/t;h=u.settings.mode==="horizontal"?"left":"top";r=i*(t-Math.abs(parseInt(f.css(h))));l(r)}));l()},l=function(n){var h=n?n:u.settings.speed,t={left:0,top:0},i={left:0,top:0},r,o,s;u.settings.autoDirection==="next"?t=f.find(".bx-clone").first().position():i=u.children.first().position();r=u.settings.mode==="horizontal"?-t.left:-t.top;o=u.settings.mode==="horizontal"?-i.left:-i.top;s={resetValue:o};e(r,"ticker",h,s)},ti=function(t){var u=n(window),i={top:u.scrollTop(),left:u.scrollLeft()},r=t.offset();return i.right=i.left+u.width(),i.bottom=i.top+u.height(),r.right=r.left+t.outerWidth(),r.bottom=r.top+t.outerHeight(),!(i.right<r.left||i.left>r.right||i.bottom<r.top||i.top>r.bottom)},et=function(n){var t=document.activeElement.tagName.toLowerCase(),i=new RegExp(t,["i"]),r=i.exec("input|textarea");if(r==null&&ti(f)){if(n.keyCode===39)return rt(n),!1;if(n.keyCode===37)return ut(n),!1}},ii=function(){u.touch={start:{x:0,y:0},end:{x:0,y:0}};u.viewport.bind("touchstart MSPointerDown pointerdown",ri);u.viewport.on("click",".bxslider a",function(n){u.viewport.hasClass("click-disabled")&&(n.preventDefault(),u.viewport.removeClass("click-disabled"))})},ri=function(n){if(u.controls.el.addClass("disabled"),u.working)n.preventDefault(),u.controls.el.removeClass("disabled");else{u.touch.originalPos=f.position();var t=n.originalEvent,i=typeof t.changedTouches!="undefined"?t.changedTouches:[t];u.touch.start.x=i[0].pageX;u.touch.start.y=i[0].pageY;u.viewport.get(0).setPointerCapture&&(u.pointerId=t.pointerId,u.viewport.get(0).setPointerCapture(u.pointerId));u.viewport.bind("touchmove MSPointerMove pointermove",p);u.viewport.bind("touchend MSPointerUp pointerup",w);u.viewport.bind("MSPointerCancel pointercancel",ot)}},ot=function(){e(u.touch.originalPos.left,"reset",0);u.controls.el.removeClass("disabled");u.viewport.unbind("MSPointerCancel pointercancel",ot);u.viewport.unbind("touchmove MSPointerMove pointermove",p);u.viewport.unbind("touchend MSPointerUp pointerup",w);u.viewport.get(0).releasePointerCapture&&u.viewport.get(0).releasePointerCapture(u.pointerId)},p=function(n){var r=n.originalEvent,t=typeof r.changedTouches!="undefined"?r.changedTouches:[r],o=Math.abs(t[0].pageX-u.touch.start.x),s=Math.abs(t[0].pageY-u.touch.start.y),f=0,i=0;o*3>s&&u.settings.preventDefaultSwipeX?n.preventDefault():s*3>o&&u.settings.preventDefaultSwipeY&&n.preventDefault();u.settings.mode!=="fade"&&u.settings.oneToOneTouch&&(u.settings.mode==="horizontal"?(i=t[0].pageX-u.touch.start.x,f=u.touch.originalPos.left+i):(i=t[0].pageY-u.touch.start.y,f=u.touch.originalPos.top+i),e(f,"reset",0))},w=function(n){u.viewport.unbind("touchmove MSPointerMove pointermove",p);u.controls.el.removeClass("disabled");var r=n.originalEvent,o=typeof r.changedTouches!="undefined"?r.changedTouches:[r],i=0,t=0;u.touch.end.x=o[0].pageX;u.touch.end.y=o[0].pageY;u.settings.mode==="fade"?(t=Math.abs(u.touch.start.x-u.touch.end.x),t>=u.settings.swipeThreshold&&(u.touch.start.x>u.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto())):(u.settings.mode==="horizontal"?(t=u.touch.end.x-u.touch.start.x,i=u.touch.originalPos.left):(t=u.touch.end.y-u.touch.start.y,i=u.touch.originalPos.top),!u.settings.infiniteLoop&&(u.active.index===0&&t>0||u.active.last&&t<0)?e(i,"reset",200):Math.abs(t)>=u.settings.swipeThreshold?(t<0?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):e(i,"reset",200));u.viewport.unbind("touchend MSPointerUp pointerup",w);u.viewport.get(0).releasePointerCapture&&u.viewport.get(0).releasePointerCapture(u.pointerId)},b=function(){if(u.initialized)if(u.working)window.setTimeout(b,10);else{var t=n(window).width(),i=n(window).height();(k!==t||d!==i)&&(k=t,d=i,f.redrawSlider(),u.settings.onSliderResize.call(f,u.active.index))}},st=function(n){var t=h();u.settings.ariaHidden&&!u.settings.ticker&&(u.children.attr("aria-hidden","true"),u.children.slice(n,n+t).attr("aria-hidden","false"))},ui=function(n){return n<0?u.settings.infiniteLoop?o()-1:u.active.index:n>=o()?u.settings.infiniteLoop?0:u.active.index:n};return f.goToSlide=function(t,i){var h=!0,y=0,r={left:0,top:0},l=null,p,w,b,k;if(u.oldIndex=u.active.index,u.active.index=ui(t),!u.working&&u.active.index!==u.oldIndex){if(u.working=!0,h=u.settings.onSlideBefore.call(f,u.children.eq(u.active.index),u.oldIndex,u.active.index),typeof h!="undefined"&&!h){u.active.index=u.oldIndex;u.working=!1;return}i==="next"?u.settings.onSlideNext.call(f,u.children.eq(u.active.index),u.oldIndex,u.active.index)||(h=!1):i==="prev"&&(u.settings.onSlidePrev.call(f,u.children.eq(u.active.index),u.oldIndex,u.active.index)||(h=!1));u.active.last=u.active.index>=o()-1;(u.settings.pager||u.settings.pagerCustom)&&v(u.active.index);u.settings.controls&&ft();u.settings.mode==="fade"?(u.settings.adaptiveHeight&&u.viewport.height()!==c()&&u.viewport.animate({height:c()},u.settings.adaptiveHeightSpeed),u.children.filter(":visible").fadeOut(u.settings.speed).css({zIndex:0}),u.children.eq(u.active.index).css("zIndex",u.settings.slideZIndex+1).fadeIn(u.settings.speed,function(){n(this).css("zIndex",u.settings.slideZIndex);a()})):(u.settings.adaptiveHeight&&u.viewport.height()!==c()&&u.viewport.animate({height:c()},u.settings.adaptiveHeightSpeed),!u.settings.infiniteLoop&&u.carousel&&u.active.last?u.settings.mode==="horizontal"?(l=u.children.eq(u.children.length-1),r=l.position(),y=u.viewport.width()-l.outerWidth()):(p=u.children.length-u.settings.minSlides,r=u.children.eq(p).position()):u.carousel&&u.active.last&&i==="prev"?(w=u.settings.moveSlides===1?u.settings.maxSlides-s():(o()-1)*s()-(u.children.length-u.settings.maxSlides),l=f.children(".bx-clone").eq(w),r=l.position()):i==="next"&&u.active.index===0?(r=f.find("> .bx-clone").eq(u.settings.maxSlides).position(),u.active.last=!1):t>=0&&(k=t*parseInt(s()),r=u.children.eq(k).position()),typeof r!="undefined"?(b=u.settings.mode==="horizontal"?-(r.left-y):-r.top,e(b,"slide",u.settings.speed)):u.working=!1);u.settings.ariaHidden&&st(u.active.index*s())}},f.goToNextSlide=function(){if(u.settings.infiniteLoop||!u.active.last){var n=parseInt(u.active.index)+1;f.goToSlide(n,"next")}},f.goToPrevSlide=function(){if(u.settings.infiniteLoop||u.active.index!==0){var n=parseInt(u.active.index)-1;f.goToSlide(n,"prev")}},f.startAuto=function(n){u.interval||(u.interval=setInterval(function(){u.settings.autoDirection==="next"?f.goToNextSlide():f.goToPrevSlide()},u.settings.pause),u.settings.autoControls&&n!==!0&&y("stop"))},f.stopAuto=function(n){u.interval&&(clearInterval(u.interval),u.interval=null,u.settings.autoControls&&n!==!0&&y("start"))},f.getCurrentSlide=function(){return u.active.index},f.getCurrentSlideElement=function(){return u.children.eq(u.active.index)},f.getSlideElement=function(n){return u.children.eq(n)},f.getSlideCount=function(){return u.children.length},f.isWorking=function(){return u.working},f.redrawSlider=function(){u.children.add(f.find(".bx-clone")).outerWidth(nt());u.viewport.css("height",c());u.settings.ticker||tt();u.active.last&&(u.active.index=o()-1);u.active.index>=o()&&(u.active.last=!0);u.settings.pager&&!u.settings.pagerCustom&&(it(),v(u.active.index));u.settings.ariaHidden&&st(u.active.index*s())},f.destroySlider=function(){u.initialized&&(u.initialized=!1,n(".bx-clone",this).remove(),u.children.each(function(){n(this).data("origStyle")!==undefined?n(this).attr("style",n(this).data("origStyle")):n(this).removeAttr("style")}),n(this).data("origStyle")!==undefined?this.attr("style",n(this).data("origStyle")):n(this).removeAttr("style"),n(this).unwrap().unwrap(),u.controls.el&&u.controls.el.remove(),u.controls.next&&u.controls.next.remove(),u.controls.prev&&u.controls.prev.remove(),u.pagerEl&&u.settings.controls&&!u.settings.pagerCustom&&u.pagerEl.remove(),n(".bx-caption",this).remove(),u.controls.autoEl&&u.controls.autoEl.remove(),clearInterval(u.interval),u.settings.responsive&&n(window).unbind("resize",b),u.settings.keyboardEnabled&&n(document).unbind("keydown",et),n(this).removeData("bxSlider"))},f.reloadSlider=function(t){t!==undefined&&(r=t);f.destroySlider();g();n(f).data("bxSlider",this)},g(),n(f).data("bxSlider",this),this}}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){n.extend({highlight:function(t,i,r,u){var o,s,f,h,e;if(t.nodeType===3){if(o=t.data.match(i),o)return s=document.createElement(r||"span"),s.className=u||"highlight",f=t.splitText(o.index),f.splitText(o[0].length),h=f.cloneNode(!0),s.appendChild(h),f.parentNode.replaceChild(s,f),1}else if(t.nodeType===1&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&!(t.tagName===r.toUpperCase()&&t.className===u))for(e=0;e<t.childNodes.length;e++)e+=n.highlight(t.childNodes[e],i,r,u);return 0}});n.fn.unhighlight=function(t){var i={className:"highlight",element:"span"};return n.extend(i,t),this.find(i.element+"."+i.className).each(function(){var n=this.parentNode;n.replaceChild(this.firstChild,this);n.normalize()}).end()};n.fn.highlight=function(t,i){var r={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1},f,u,e;return(n.extend(r,i),typeof t=="string"&&(t=[t]),t=n.grep(t,function(n){return n!=""}),t=n.map(t,function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),t.length===0)?this:(f=r.caseSensitive?"":"i",u="("+t.join("|")+")",r.wordsOnly&&(u="\\b"+u+"\\b"),e=new RegExp(u,f),this.each(function(){n.highlight(this,e,r.element,r.className)}))}}),function(n,t){"use strict";function v(n,t,r){var e=n.children(),o=!1,u,s,f;for(n.empty(),u=0,s=e.length;u<s;u++)if(f=e.eq(u),n.append(f),r&&n.append(r),i(n,t)){f.remove();o=!0;break}else r&&r.detach();return o}function o(t,r,u,f,e){var s=!1,h="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var a=this,l=n(a);if(typeof a=="undefined")return!0;if(l.is(c))t.append(l);else{if(s)return!0;t.append(l);!e||l.is(f.after)||l.find(f.after).length||t[t.is(h)?"after":"append"](e);i(u,f)&&(s=a.nodeType==3?y(l,r,u,f,e):o(l,r,u,f,e));s||e&&e.detach()}}),r.addClass("is-truncated"),s}function y(t,e,o,s,c){var l=t[0],nt,k,d,tt;if(!l)return!1;var a=h(l),it=a.indexOf(" ")!==-1?" ":"",p=s.wrap=="letter"?"":it,v=a.split(p),g=-1,w=-1,b=0,y=v.length-1;if(s.fallbackToLetter&&b===0&&y===0&&(p="",v=a.split(p),y=v.length-1),s.maxLength)a=f(a.trim().substr(0,s.maxLength),s),r(l,a);else{while(b<=y&&!(b===0&&y===0)){if(nt=Math.floor((b+y)/2),nt==w)break;w=nt;r(l,v.slice(0,w+1).join(p)+s.ellipsis);o.children().each(function(){n(this).toggle().toggle()});i(o,s)?(y=w,s.fallbackToLetter&&b===0&&y===0&&(p="",v=v[0].split(p),g=-1,w=-1,b=0,y=v.length-1)):(g=w,b=w)}g==-1||v.length===1&&v[0].length===0?(k=t.parent(),t.detach(),d=c&&c.closest(k).length?c.length:0,k.contents().length>d?l=u(k.contents().eq(-1-d),e):(l=u(k,e,!0),d||k.detach()),l&&(a=f(h(l),s),r(l,a),d&&c&&(tt=c.parent(),n(l).parent().append(c),n.trim(tt.html())||tt.remove()))):(a=f(v.slice(0,g+1).join(p),s),r(l,a))}return!0}function i(n,t){return n.innerHeight()>t.maxHeight||t.maxLength&&n.text().trim().length>t.maxLength}function f(t,i){while(n.inArray(t.slice(-1),i.lastCharacter.remove)>-1)t=t.slice(0,-1);return n.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function s(n){return{width:n.innerWidth(),height:n.innerHeight()}}function r(n,t){n.innerText?n.innerText=t:n.nodeValue?n.nodeValue=t:n.textContent&&(n.textContent=t)}function h(n){return n.innerText?n.innerText:n.nodeValue?n.nodeValue:n.textContent?n.textContent:""}function c(n){do n=n.previousSibling;while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function u(t,i,r){var e=t&&t[0],f;if(e){if(!r){if(e.nodeType===3)return e;if(n.trim(t.text()))return u(t.contents().last(),i)}for(f=c(e);!f;){if(t=t.parent(),t.is(i)||!t.length)return!1;f=c(t[0])}if(f)return u(n(f),i)}return!1}function p(t,i){return t?typeof t=="string"?(t=n(t,i),t.length?t:!1):t.jquery?t:!1:!1}function w(n){for(var t,r=n.innerHeight(),u=["paddingTop","paddingBottom"],i=0,f=u.length;i<f;i++)t=parseInt(n.css(u[i]),10),isNaN(t)&&(t=0),r-=t;return r}var e,l,a;n.fn.dotdotdot||(n.fn.dotdotdot=function(t){var r,c;if(this.length===0)return n.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){n(this).dotdotdot(t)});r=this;c=r.contents();r.data("dotdotdot")&&r.trigger("destroy.dot");r.data("dotdotdot-style",r.attr("style")||"");r.css("word-wrap","break-word");r.css("white-space")==="nowrap"&&r.css("white-space","normal");r.bind_events=function(){return r.bind("update.dot",function(t,e){r.removeClass("is-truncated");t.preventDefault();t.stopPropagation();switch(typeof u.height){case"number":u.maxHeight=u.height;break;case"function":u.maxHeight=u.height.call(r[0]);break;default:u.maxHeight=w(r)}u.maxHeight+=u.tolerance;typeof e!="undefined"&&((typeof e=="string"||"nodeType"in e&&e.nodeType===1)&&(e=n("<div />").append(e).contents()),e instanceof n&&(c=e));h=r.wrapInner('<div class="dotdotdot" />').children();h.contents().detach().end().append(c.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,l=!1;return f.afterElement&&(s=f.afterElement.clone(!0),s.show(),f.afterElement.detach()),i(h,u)&&(l=u.wrap=="children"?v(h,u,s):o(h,r,h,u,s)),h.replaceWith(h.contents()),h=null,n.isFunction(u.callback)&&u.callback.call(r[0],l,c),f.isTruncated=l,l}).bind("isTruncated.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],f.isTruncated),f.isTruncated}).bind("originalContent.dot",function(n,t){return n.preventDefault(),n.stopPropagation(),typeof t=="function"&&t.call(r[0],c),c}).bind("destroy.dot",function(n){n.preventDefault();n.stopPropagation();r.unwatch().unbind_events().contents().detach().end().append(c).attr("style",r.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),r};r.unbind_events=function(){return r.unbind(".dot"),r};r.watch=function(){if(r.unwatch(),u.watch=="window"){var t=n(window),i=t.width(),e=t.height();t.bind("resize.dot"+f.dotId,function(){i==t.width()&&e==t.height()&&u.windowResizeFix||(i=t.width(),e=t.height(),l&&clearInterval(l),l=setTimeout(function(){r.trigger("update.dot")},100))})}else a=s(r),l=setInterval(function(){if(r.is(":visible")){var n=s(r);(a.width!=n.width||a.height!=n.height)&&(r.trigger("update.dot"),a=n)}},500);return r};r.unwatch=function(){return n(window).unbind("resize.dot"+f.dotId),l&&clearInterval(l),r};var u=n.extend(!0,{},n.fn.dotdotdot.defaults,t),f={},a={},l=null,h=null;return u.lastCharacter.remove instanceof Array||(u.lastCharacter.remove=n.fn.dotdotdot.defaultArrays.lastCharacter.remove),u.lastCharacter.noEllipsis instanceof Array||(u.lastCharacter.noEllipsis=n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),f.afterElement=p(u.after,r),f.isTruncated=!1,f.dotId=e++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),u.watch&&r.watch(),r},n.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,maxLength:null},n.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},n.fn.dotdotdot.debug=function(){},e=1,l=n.fn.html,n.fn.html=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):l.apply(this,arguments)},a=n.fn.text,n.fn.text=function(i){return i!=t&&!n.isFunction(i)&&this.data("dotdotdot")?(i=n("<div />").text(i).html(),this.trigger("update",[i])):a.apply(this,arguments)})}(jQuery);jQuery(document).ready(function(n){n(".dot-ellipsis").each(function(){var r=n(this).hasClass("dot-resize-update"),u=n(this).hasClass("dot-timer-update"),i=0,f=n(this).attr("class").split(/\s+/),t;n.each(f,function(n,t){var r=t.match(/^dot-height-(\d+)$/);r!==null&&(i=Number(r[1]))});t={};u&&(t.watch=!0);r&&(t.watch="window");i>0&&(t.height=i);n(this).dotdotdot(t)})});jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(n,i)}):"object"==typeof exports?t(n,require("jquery")):t(n,n.jQuery)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function b(n,t){for(var i=n.length;--i;)if(+n[i]!=+t[i])return!1;return!0}function v(n){var i={range:!0,animate:!0};return"boolean"==typeof n?i.animate=n:t.extend(i,n),i}function r(n,i,r,u,f,e,o,s,h){this.elements="array"===t.type(n)?[+n[0],+n[2],+n[4],+n[1],+n[3],+n[5],0,0,1]:[n,i,r,u,f,e,o||0,s||0,h||1]}function s(n,t,i){this.elements=[n,t,i]}function i(n,r){var u,f,e,o;if(!(this instanceof i))return new i(n,r);if(1!==n.nodeType&&t.error("Panzoom called on non-Element node"),t.contains(c,n)||t.error("Panzoom element must be attached to the document"),u=t.data(n,l),u)return u;this.options=r=t.extend({},i.defaults,r);this.elem=n;f=this.$elem=t(n);this.$set=r.$set&&r.$set.length?r.$set:f;this.$doc=t(n.ownerDocument||c);this.$parent=f.parent();this.isSVG=g.test(n.namespaceURI)&&"svg"!==n.nodeName.toLowerCase();this.panning=!1;this._buildTransform();this._transform=!this.isSVG&&t.cssProps.transform.replace(d,"-$1").toLowerCase();this._buildTransition();this.resetDimensions();e=t();o=this;t.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(n,t){o[t]=r[t]||e});this.enable();t.data(n,l,this)}var p="over out down up move enter leave cancel".split(" "),f=t.extend({},t.event.mouseHooks),h={},e;n.PointerEvent?t.each(p,function(n,i){t.event.fixHooks[h[i]="pointer"+i]=f}):(e=f.props,f.props=e.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),f.filter=function(n,t){var r,i=e.length;if(!t.pageX&&t.touches&&(r=t.touches[0]))for(;i--;)n[e[i]]=r[e[i]];return n},t.each(p,function(n,i){if(2>n)h[i]="mouse"+i;else{var r="touch"+("down"===i?"start":"up"===i?"end":i);t.event.fixHooks[r]=f;h[i]=r+" mouse"+i}}));t.pointertouch=h;var c=n.document,l="__pz__",w=Array.prototype.slice,a=!!n.PointerEvent,k=function(){var n=c.createElement("input");return n.setAttribute("oninput","return"),"function"==typeof n.oninput}(),d=/([A-Z])/g,g=/^http:[\w\.\/]+svg$/,nt=/^inline/,u="(\\-?[\\d\\.e]+)",o="\\,?\\s*",y=new RegExp("^matrix\\("+u+o+u+o+u+o+u+o+u+o+u+"\\)$");return r.prototype={x:function(n){var u=n instanceof s,i=this.elements,t=n.elements;return u&&3===t.length?new s(i[0]*t[0]+i[1]*t[1]+i[2]*t[2],i[3]*t[0]+i[4]*t[1]+i[5]*t[2],i[6]*t[0]+i[7]*t[1]+i[8]*t[2]):t.length===i.length?new r(i[0]*t[0]+i[1]*t[3]+i[2]*t[6],i[0]*t[1]+i[1]*t[4]+i[2]*t[7],i[0]*t[2]+i[1]*t[5]+i[2]*t[8],i[3]*t[0]+i[4]*t[3]+i[5]*t[6],i[3]*t[1]+i[4]*t[4]+i[5]*t[7],i[3]*t[2]+i[4]*t[5]+i[5]*t[8],i[6]*t[0]+i[7]*t[3]+i[8]*t[6],i[6]*t[1]+i[7]*t[4]+i[8]*t[7],i[6]*t[2]+i[7]*t[5]+i[8]*t[8]):!1},inverse:function(){var t=1/this.determinant(),n=this.elements;return new r(t*(n[8]*n[4]-n[7]*n[5]),t*-(n[8]*n[1]-n[7]*n[2]),t*(n[5]*n[1]-n[4]*n[2]),t*-(n[8]*n[3]-n[6]*n[5]),t*(n[8]*n[0]-n[6]*n[2]),t*-(n[5]*n[0]-n[3]*n[2]),t*(n[7]*n[3]-n[6]*n[4]),t*-(n[7]*n[0]-n[6]*n[1]),t*(n[4]*n[0]-n[3]*n[1]))},determinant:function(){var n=this.elements;return n[0]*(n[8]*n[4]-n[7]*n[5])-n[3]*(n[8]*n[1]-n[7]*n[2])+n[6]*(n[5]*n[1]-n[4]*n[2])}},s.prototype.e=r.prototype.e=function(n){return this.elements[n]},i.rmatrix=y,i.events=t.pointertouch,i.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,increment:.3,minScale:.4,maxScale:5,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},i.prototype={constructor:i,instance:function(){return this},enable:function(){this._initStyle();this._bind();this.disabled=!1},disable:function(){this.disabled=!0;this._resetStyle();this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable();t.removeData(this.elem,l)},resetDimensions:function(){var r=this.$parent;this.container={width:r.innerWidth(),height:r.innerHeight()};var n,u=r.offset(),i=this.elem,f=this.$elem;this.isSVG?(n=i.getBoundingClientRect(),n={left:n.left-u.left,top:n.top-u.top,width:n.width,height:n.height,margin:{left:0,top:0}}):n={left:t.css(i,"left",!0)||0,top:t.css(i,"top",!0)||0,width:f.innerWidth(),height:f.innerHeight(),margin:{top:t.css(i,"marginTop",!0)||0,left:t.css(i,"marginLeft",!0)||0}};n.widthBorder=t.css(i,"borderLeftWidth",!0)+t.css(i,"borderRightWidth",!0)||0;n.heightBorder=t.css(i,"borderTopWidth",!0)+t.css(i,"borderBottomWidth",!0)||0;this.dimensions=n},reset:function(n){n=v(n);var t=this.setMatrix(this._origTransform,n);n.silent||this._trigger("reset",t)},resetZoom:function(n){n=v(n);var t=this.getMatrix(this._origTransform);n.dValue=t[3];this.zoom(t[0],n)},resetPan:function(n){var t=this.getMatrix(this._origTransform);this.pan(t[4],t[5],v(n))},setTransform:function(n){for(var u=this.isSVG?"attr":"style",i=this.$set,r=i.length;r--;)t[u](i[r],"transform",n)},getTransform:function(n){var r=this.$set,i=r[0];return n?this.setTransform(n):n=t[this.isSVG?"attr":"style"](i,"transform"),"none"===n||y.test(n)||this.setTransform(n=t.css(i,"transform")),n||"none"},getMatrix:function(n){var t=y.exec(n||this.getTransform());return t&&t.shift(),t||[1,0,0,1,0,0]},setMatrix:function(n,i){if(!this.disabled){i||(i={});"string"==typeof n&&(n=this.getMatrix(n));var u,r,e,f,h,a,c,l,o,s,v=+n[0],p=this.$parent,y="undefined"!=typeof i.contain?i.contain:this.options.contain;return y&&(u=this._checkDims(),r=this.container,o=u.width+u.widthBorder,s=u.height+u.heightBorder,e=(o*Math.abs(v)-r.width)/2,f=(s*Math.abs(v)-r.height)/2,c=u.left+u.margin.left,l=u.top+u.margin.top,"invert"===y?(h=o>r.width?o-r.width:0,a=s>r.height?s-r.height:0,e+=(r.width-o)/2,f+=(r.height-s)/2,n[4]=Math.max(Math.min(n[4],e-c),-e-c-h),n[5]=Math.max(Math.min(n[5],f-l),-f-l-a+u.heightBorder)):(f+=u.heightBorder/2,h=r.width>o?r.width-o:0,a=r.height>s?r.height-s:0,"center"===p.css("textAlign")&&nt.test(t.css(this.elem,"display"))?h=0:e=f=0,n[4]=Math.min(Math.max(n[4],e-c),-e-c+h),n[5]=Math.min(Math.max(n[5],f-l),-f-l+a))),"skip"!==i.animate&&this.transition(!i.animate),i.range&&this.$zoomRange.val(v),this.setTransform("matrix("+n.join(",")+")"),i.silent||this._trigger("change",n),n}},isPanning:function(){return this.panning},transition:function(n){if(this._transition)for(var u=n||!this.options.transition?"none":this._transition,i=this.$set,r=i.length;r--;)t.style(i[r],"transition")!==u&&t.style(i[r],"transition",u)},pan:function(n,t,i){if(!this.options.disablePan){i||(i={});var r=i.matrix;r||(r=this.getMatrix());i.relative&&(n+=+r[4],t+=+r[5]);r[4]=n;r[5]=t;this.setMatrix(r,i);i.silent||this._trigger("pan",r[4],r[5])}},zoom:function(n,i){var u,l,f,e;if("object"==typeof n?(i=n,n=null):i||(i={}),u=t.extend({},this.options,i),!u.disableZoom){if(l=!1,f=u.matrix||this.getMatrix(),"number"!=typeof n&&(n=+f[0]+u.increment*(n?-1:1),l=!0),n>u.maxScale?n=u.maxScale:n<u.minScale&&(n=u.minScale),e=u.focal,e&&!u.disablePan){var o=this._checkDims(),a=e.clientX,v=e.clientY;this.isSVG||(a-=(o.width+o.widthBorder)/2,v-=(o.height+o.heightBorder)/2);var h=new s(a,v,1),c=new r(f),y=this.parentOffset||this.$parent.offset(),p=new r(1,0,y.left-this.$doc.scrollLeft(),0,1,y.top-this.$doc.scrollTop()),b=c.inverse().x(p.inverse().x(h)),w=n/f[0];c=c.x(new r([w,0,0,w,0,0]));h=p.x(c.x(b));f[4]=+f[4]+(a-h.e(0));f[5]=+f[5]+(v-h.e(1))}f[0]=n;f[3]="number"==typeof u.dValue?u.dValue:n;this.setMatrix(f,{animate:"boolean"==typeof u.animate?u.animate:l,range:!u.noSetRange});u.silent||this._trigger("zoom",f[0],u)}},option:function(n,i){var r;if(!n)return t.extend({},this.options);if("string"==typeof n){if(1===arguments.length)return void 0!==this.options[n]?this.options[n]:null;r={};r[n]=i}else r=n;this._setOptions(r)},_setOptions:function(n){t.each(n,t.proxy(function(n,i){switch(n){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[n]=i,n){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[n]=i;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":t.style(this.elem,"cursor",i);break;case"minScale":this.$zoomRange.attr("min",i);break;case"maxScale":this.$zoomRange.attr("max",i);break;case"rangeStep":this.$zoomRange.attr("step",i);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"$set":i instanceof t&&i.length&&(this.$set=i,this._initStyle(),this._buildTransform())}},this))},_initStyle:function(){var n={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%"},i;this.options.disablePan||(n.cursor=this.options.cursor);this.$set.css(n);i=this.$parent;i.length&&!t.nodeName(i[0],"body")&&(n={overflow:"hidden"},"static"===i.css("position")&&(n.position="relative"),i.css(n))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""});this.$parent.css({overflow:"",position:""})},_bind:function(){var f=this,n=this.options,r=n.eventNamespace,l=a?"pointerdown"+r:"touchstart"+r+" mousedown"+r,o=a?"pointerup"+r:"touchend"+r+" click"+r,u={},c=this.$reset,e=this.$zoomRange,s,h;(t.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var i=n["on"+this];t.isFunction(i)&&(u["panzoom"+this.toLowerCase()+r]=i)}),n.disablePan&&n.disableZoom||(u[l]=function(t){var i;("touchstart"===t.type?(i=t.touches)&&(1===i.length&&!n.disablePan||2===i.length):!n.disablePan&&1===t.which)&&(t.preventDefault(),t.stopPropagation(),f._startMove(t,i))}),this.$elem.on(u),c.length&&c.on(o,function(n){n.preventDefault();f.reset()}),e.length&&e.attr({step:n.rangeStep===i.defaults.rangeStep&&e.attr("step")||n.rangeStep,min:n.minScale,max:n.maxScale}).prop({value:this.getMatrix()[0]}),n.disableZoom)||(s=this.$zoomIn,h=this.$zoomOut,s.length&&h.length&&(s.on(o,function(n){n.preventDefault();f.zoom()}),h.on(o,function(n){n.preventDefault();f.zoom(!0)})),e.length&&(u={},u[(a?"pointerdown":"mousedown")+r]=function(){f.transition(!0)},u[(k?"input":"change")+r]=function(){f.zoom(+this.value,{noSetRange:!0})},e.on(u)))},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var n=this.options;this._transition=this._transform+" "+n.duration+"ms "+n.easing}},_checkDims:function(){var n=this.dimensions;return n.width&&n.height||this.resetDimensions(),this.dimensions},_getDistance:function(n){var t=n[0],i=n[1];return Math.sqrt(Math.pow(Math.abs(i.clientX-t.clientX),2)+Math.pow(Math.abs(i.clientY-t.clientY),2))},_getMiddle:function(n){var t=n[0],i=n[1];return{clientX:(i.clientX-t.clientX)/2+t.clientX,clientY:(i.clientY-t.clientY)/2+t.clientY}},_trigger:function(n){"string"==typeof n&&(n="panzoom"+n);this.$elem.triggerHandler(n,[this].concat(w.call(arguments,1)))},_startMove:function(n,i){var h,f,e,v,y,o,p,w,u=this,k=this.options,s=k.eventNamespace,r=this.getMatrix(),l=r.slice(0),g=+l[4],nt=+l[5],d={matrix:r,animate:"skip"};a?(f="pointermove",e="pointerup"):"touchstart"===n.type?(f="touchmove",e="touchend"):(f="mousemove",e="mouseup");f+=s;e+=s;this.transition(!0);this.panning=!0;this._trigger("start",n,i);i&&2===i.length?(v=this._getDistance(i),y=+r[0],o=this._getMiddle(i),h=function(n){n.preventDefault();var t=u._getMiddle(i=n.touches),f=u._getDistance(i)-v;u.zoom(f*(k.increment/100)+y,{focal:t,matrix:r,animate:!1});u.pan(+r[4]+t.clientX-o.clientX,+r[5]+t.clientY-o.clientY,d);o=t}):(p=n.pageX,w=n.pageY,h=function(n){n.preventDefault();u.pan(g+n.pageX-p,nt+n.pageY-w,d)});t(c).off(s).on(f,h).on(e,function(n){n.preventDefault();t(this).off(s);u.panning=!1;n.type="panzoomend";u._trigger(n,r,!b(r,l))})}},t.Panzoom=i,t.fn.panzoom=function(n){var u,e,f,r;return"string"==typeof n?(r=[],e=w.call(arguments,1),this.each(function(){u=t.data(this,l);u?"_"!==n.charAt(0)&&"function"==typeof(f=u[n])&&void 0!==(f=f.apply(u,e))&&r.push(f):r.push(void 0)}),r.length?1===r.length?r[0]:r:this):this.each(function(){new i(this,n)})},i}),function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.PhotoSwipe=t()}(this,function(){"use strict";return function(n,t,i,r){var f={features:null,bind:function(n,t,i,r){var f=(r?"remove":"add")+"EventListener",u;for(t=t.split(" "),u=0;u<t.length;u++)t[u]&&n[f](t[u],i,!1)},isArray:function(n){return n instanceof Array},createEl:function(n,t){var i=document.createElement(t||"div");return n&&(i.className=n),i},getScrollY:function(){var n=window.pageYOffset;return n!==undefined?n:document.documentElement.scrollTop},unbind:function(n,t,i){f.bind(n,t,i,!0)},removeClass:function(n,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(n,t){f.hasClass(n,t)||(n.className+=(n.className?" ":"")+t)},hasClass:function(n,t){return n.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n.className)},getChildByClass:function(n,t){for(var i=n.firstChild;i;){if(f.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(n,t,i){for(var r=n.length;r--;)if(n[r][i]===t)return r;return-1},extend:function(n,t,i){for(var r in t)if(t.hasOwnProperty(r)){if(i&&n.hasOwnProperty(r))continue;n[r]=t[r]}},easing:{sine:{out:function(n){return Math.sin(n*(Math.PI/2))},inOut:function(n){return-(Math.cos(Math.PI*n)-1)/2}},cubic:{out:function(n){return--n*n*n+1}}},detectFeatures:function(){var s,i,h,r,a,v,u,c,e,o,l;if(f.features)return f.features;var y=f.createEl(),p=y.style,t="",n={};for(n.oldIE=document.all&&!document.addEventListener,n.touch=("ontouchstart"in window),window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,n.pointerEvent||(s=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i&&i.length>0&&(i=parseInt(i[1],10),i>=1&&i<8&&(n.isOldIOSPhone=!0))),h=s.match(/Android\s([0-9\.]*)/),r=h?h[1]:0,r=parseFloat(r),r>=1&&(r<4.4&&(n.isOldAndroid=!0),n.androidVersion=r),n.isMobileOpera=/opera mini|opera mobi/i.test(s)),a=["transform","perspective","animationName"],v=["","webkit","Moz","ms","O"],e=0;e<4;e++){for(t=v[e],o=0;o<3;o++)u=a[o],c=t+(t?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&c in p&&(n[u]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}return n.raf||(l=0,n.raf=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-l)),r=window.setTimeout(function(){n(t+i)},i);return l=t+i,r},n.caf=function(n){clearTimeout(n)}),n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=n,n}},hi,uf,ff,et;f.detectFeatures();f.features.oldIE&&(f.bind=function(n,t,i,r){var e,u,o,f;for(t=t.split(" "),e=(r?"detach":"attach")+"Event",o=function(){i.handleEvent.call(i)},f=0;f<t.length;f++)if(u=t[f],u)if(typeof i=="object"&&i.handleEvent){if(r){if(!i["oldIE"+u])return!1}else i["oldIE"+u]=o;n[e]("on"+u,i["oldIE"+u])}else n[e]("on"+u,i)});var u=this,ye=25,dt=3,e={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(n){return n.tagName==="A"},getDoubleTapZoom:function(n,t){return n?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};f.extend(e,r);var gt=function(){return{x:0,y:0}},gi,pe,of,h,we,yt,ni=gt(),nr=gt(),o=gt(),lr,ou,b,k={},l,ci,sf,hf,cf,su,ti=0,tr={},rt=gt(),y,be,ht=0,hu,cu,ar,vr,ir,ii,lu=!0,pt,lf=[],au,af,ke,de,vf,li,a,yr={},ai=!1,pr=function(n,t){f.extend(u,t.publicMethods);lf.push(n)},vu=function(n){var t=ft();return n>t-1?n-t:n<0?t+n:n},wr={},v=function(n,t){return wr[n]||(wr[n]=[]),wr[n].push(t)},c=function(n){var i=wr[n],r,t;if(i)for(r=Array.prototype.slice.call(arguments),r.shift(),t=0;t<i.length;t++)i[t].apply(u,r)},ct=function(){return(new Date).getTime()},wt=function(n){gu=n;u.bg.style.opacity=n*e.bgOpacity},ge=function(n,t,i,r,f){(!ai||f&&f!==u.currItem)&&(r=r/(f?f.fitRatio:u.currItem.fitRatio));n[ir]=sf+t+"px, "+i+"px"+hf+" scale("+r+")"},p=function(n){at&&(n&&(l>u.currItem.fitRatio?ai||(di(u.currItem,!1,!0),ai=!0):ai&&(di(u.currItem),ai=!1)),ge(at,o.x,o.y,l))},br=function(n){n.container&&ge(n.container.style,n.initialPosition.x,n.initialPosition.y,n.initialZoomLevel,n)},rr=function(n,t){t[ir]=sf+n+"px, 0px"+hf},yu=function(n,t){if(!e.loop&&t){var r=h+(rt.x*ti-n)/rt.x,i=Math.round(n-kt.x);(r<0&&i>0||r>=ft()-1&&i<0)&&(n=kt.x+i*e.mainScrollEndFriction)}kt.x=n;rr(n,we)},yf=function(n,t){var i=ru[n]-tr[n];return nr[n]+ni[n]+i-i*(t/ci)},d=function(n,t){n.x=t.x;n.y=t.y;t.id&&(n.id=t.id)},no=function(n){n.x=Math.round(n.x);n.y=Math.round(n.y)},pf=null,wf=function(){pf&&(f.unbind(document,"mousemove",wf),f.addClass(n,"pswp--has_mouse"),e.mouseUsed=!0,c("mouseUsed"));pf=setTimeout(function(){pf=null},100)},es=function(){f.bind(document,"keydown",u);a.transform&&f.bind(u.scrollWrap,"click",u);e.mouseUsed||f.bind(document,"mousemove",wf);f.bind(window,"resize scroll",u);c("bindEvents")},os=function(){f.unbind(window,"resize",u);f.unbind(window,"scroll",b.scroll);f.unbind(document,"keydown",u);f.unbind(document,"mousemove",wf);a.transform&&f.unbind(u.scrollWrap,"click",u);lt&&f.unbind(window,lr,u);c("unbindEvents")},bf=function(n,t){var i=fu(u.currItem,k,n);return t&&(s=i),i},to=function(n){return n||(n=u.currItem),n.initialZoomLevel},io=function(n){return n||(n=u.currItem),n.w>0?e.maxSpreadZoom:1},ro=function(n,t,i,r){return r===u.currItem.initialZoomLevel?(i[n]=u.currItem.initialPosition[n],!0):(i[n]=yf(n,r),i[n]>t.min[n])?(i[n]=t.min[n],!0):i[n]<t.max[n]?(i[n]=t.max[n],!0):!1},ss=function(){if(ir){var t=a.perspective&&!pt;sf="translate"+(t?"3d(":"(");hf=a.perspective?", 0px)":")";return}ir="left";f.addClass(n,"pswp--ie");rr=function(n,t){t.left=n+"px"};br=function(n){var i=n.fitRatio>1?1:n.fitRatio,t=n.container.style,r=i*n.w,u=i*n.h;t.width=r+"px";t.height=u+"px";t.left=n.initialPosition.x+"px";t.top=n.initialPosition.y+"px"};p=function(){if(at){var n=at,t=u.currItem,i=t.fitRatio>1?1:t.fitRatio,r=i*t.w,f=i*t.h;n.width=r+"px";n.height=f+"px";n.left=o.x+"px";n.top=o.y+"px"}}},hs=function(n){var t="";e.escKey&&n.keyCode===27?t="close":e.arrowKeys&&(n.keyCode===37?t="prev":n.keyCode===39&&(t="next"));t&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||(n.preventDefault?n.preventDefault():n.returnValue=!1,u[t]()))},cs=function(n){n&&(or||wi||it||tu)&&(n.preventDefault(),n.stopPropagation())},uo=function(){u.setScrollOffset(0,f.getScrollY())},ut={},ur=0,kr=function(n){ut[n]&&(ut[n].raf&&af(ut[n].raf),ur--,delete ut[n])},kf=function(n){ut[n]&&kr(n);ut[n]||(ur++,ut[n]={})},dr=function(){for(var n in ut)ut.hasOwnProperty(n)&&kr(n)},gr=function(n,t,i,r,u,f,e){var h=ct(),o,s;kf(n);s=function(){if(ut[n]){if(o=ct()-h,o>=r){kr(n);f(i);e&&e();return}f((i-t)*u(o/r)+t);ut[n].raf=au(s)}};s()},ls={shout:c,listen:v,viewportSize:k,options:e,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return l},getCurrentIndex:function(){return h},isDragging:function(){return lt},isZooming:function(){return bt},setScrollOffset:function(n,t){tr.x=n;li=tr.y=t;c("updateScrollOffset",tr)},applyZoomPan:function(n,t,i,r){o.x=t;o.y=i;l=n;p(r)},init:function(){var i,o,s,r;if(!gi&&!pe){for(u.framework=f,u.template=n,u.bg=f.getChildByClass(n,"pswp__bg"),ke=n.className,gi=!0,a=f.detectFeatures(),au=a.raf,af=a.caf,ir=a.transform,vf=a.oldIE,u.scrollWrap=f.getChildByClass(n,"pswp__scroll-wrap"),u.container=f.getChildByClass(u.scrollWrap,"pswp__container"),we=u.container.style,u.itemHolders=y=[{el:u.container.children[0],wrap:0,index:-1},{el:u.container.children[1],wrap:0,index:-1},{el:u.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",ss(),b={resize:u.updateSize,scroll:uo,keydown:hs,click:cs},o=a.isOldIOSPhone||a.isOldAndroid||a.isMobileOpera,a.animationName&&a.transform&&!o||(e.showAnimationDuration=e.hideAnimationDuration=0),i=0;i<lf.length;i++)u["init"+lf[i]]();for(t&&(s=u.ui=new t(u,f),s.init()),c("firstUpdate"),h=h||e.index||0,(isNaN(h)||h<0||h>=ft())&&(h=0),u.currItem=si(h),(a.isOldIOSPhone||a.isOldAndroid)&&(lu=!1),n.setAttribute("aria-hidden","false"),e.modal&&(lu?n.style.position="fixed":(n.style.position="absolute",n.style.top=f.getScrollY()+"px")),li===undefined&&(c("initialLayout"),li=de=f.getScrollY()),r="pswp--open ",e.mainClass&&(r+=e.mainClass+" "),e.showHideOpacity&&(r+="pswp--animate_opacity "),r+=pt?"pswp--touch":"pswp--notouch",r+=a.animationName?" pswp--css_animation":"",r+=a.svg?" pswp--svg":"",f.addClass(n,r),u.updateSize(),yt=-1,ht=null,i=0;i<dt;i++)rr((i+yt)*rt.x,y[i].el.style);vf||f.bind(u.scrollWrap,ou,u);v("initialZoomInEnd",function(){u.setContent(y[0],h-1);u.setContent(y[2],h+1);y[0].el.style.display=y[2].el.style.display="block";e.focus&&n.focus();es()});u.setContent(y[1],h);u.updateCurrItem();c("afterInit");lu||(cf=setInterval(function(){ur||lt||bt||l!==u.currItem.initialZoomLevel||u.updateSize()},1e3));f.addClass(n,"pswp--visible")}},close:function(){gi&&(gi=!1,pe=!0,c("close"),os(),bo(u.currItem,null,!0,u.destroy))},destroy:function(){c("destroy");bi&&clearTimeout(bi);n.setAttribute("aria-hidden","true");n.className=ke;cf&&clearInterval(cf);f.unbind(u.scrollWrap,ou,u);f.unbind(window,"scroll",u);re();dr();wr=null},panTo:function(n,t,i){i||(n>s.min.x?n=s.min.x:n<s.max.x&&(n=s.max.x),t>s.min.y?t=s.min.y:t<s.max.y&&(t=s.max.y));o.x=n;o.y=t;p()},handleEvent:function(n){n=n||window.event;b[n.type]&&b[n.type](n)},goTo:function(n){n=vu(n);var t=n-h;ht=t;h=n;u.currItem=si(h);ti-=t;yu(rt.x*ti);dr();it=!1;u.updateCurrItem()},next:function(){u.goTo(h+1)},prev:function(){u.goTo(h-1)},updateCurrZoomItem:function(n){if(n&&c("beforeChange",0),y[1].el.children.length){var t=y[1].el.children[0];at=f.hasClass(t,"pswp__zoom-wrap")?t.style:null}else at=null;s=u.currItem.bounds;ci=l=u.currItem.initialZoomLevel;o.x=s.center.x;o.y=s.center.y;n&&c("afterChange")},invalidateCurrItems:function(){su=!0;for(var n=0;n<dt;n++)y[n].item&&(y[n].item.needsUpdate=!0)},updateCurrItem:function(n){var i,t,r,f;if(ht!==0&&(i=Math.abs(ht),!n||!(i<2))){for(u.currItem=si(h),ai=!1,c("beforeChange",ht),i>=dt&&(yt+=ht+(ht>0?-dt:dt),i=dt),r=0;r<i;r++)ht>0?(t=y.shift(),y[dt-1]=t,yt++,rr((yt+2)*rt.x,t.el.style),u.setContent(t,h-i+r+1+1)):(t=y.pop(),y.unshift(t),yt--,rr(yt*rt.x,t.el.style),u.setContent(t,h+i-r-2));at&&Math.abs(ht)===1&&(f=si(be),f.initialZoomLevel!==l&&(fu(f,k),di(f),br(f)));ht=0;u.updateCurrZoomItem();be=h;c("afterChange")}},updateSize:function(t){var w,v,i,r,a;if(!lu&&e.modal){if(w=f.getScrollY(),li!==w&&(n.style.top=w+"px",li=w),!t&&yr.x===window.innerWidth&&yr.y===window.innerHeight)return;yr.x=window.innerWidth;yr.y=window.innerHeight;n.style.height=yr.y+"px"}if(k.x=u.scrollWrap.clientWidth,k.y=u.scrollWrap.clientHeight,uo(),rt.x=k.x+Math.round(k.x*e.spacing),rt.y=k.y,yu(rt.x*ti),c("beforeResize"),yt!==undefined){for(a=0;a<dt;a++)v=y[a],rr((a+yt)*rt.x,v.el.style),r=h+a-1,e.loop&&ft()>2&&(r=vu(r)),i=si(r),i&&(su||i.needsUpdate||!i.bounds)?(u.cleanSlide(i),u.setContent(v,r),a===1&&(u.currItem=i,u.updateCurrZoomItem(!0)),i.needsUpdate=!1):v.index===-1&&r>=0&&u.setContent(v,r),i&&i.container&&(fu(i,k),di(i),br(i));su=!1}ci=l=u.currItem.initialZoomLevel;s=u.currItem.bounds;s&&(o.x=s.center.x,o.y=s.center.y,p(!0));c("resize")},zoomTo:function(n,t,i,r,u){var h,e,c,s,a;t&&(ci=l,ru.x=Math.abs(t.x)-o.x,ru.y=Math.abs(t.y)-o.y,d(nr,o));h=bf(n,!1);e={};ro("x",h,e,n);ro("y",h,e,n);c=l;s={x:o.x,y:o.y};no(e);a=function(t){t===1?(l=n,o.x=e.x,o.y=e.y):(l=(n-c)*t+c,o.x=(e.x-s.x)*t+s.x,o.y=(e.y-s.y)*t+s.y);u&&u(t);p(t===1)};i?gr("customZoomTo",0,1,i,r||f.easing.sine.inOut,a):a(1)}},fo=30,df=10,eo,pu,g={},vi={},nt={},tt={},fr={},ri=[],yi={},nu,pi=[],er={},gf,tu,iu,wu=0,bu=gt(),ne=0,lt,te,wi,or,ku,ui,ot,bt,oo,so,s,kt=gt(),at,it,ru=gt(),sr=gt(),fi,ie,du,gu,nf,as=function(n,t){return n.x===t.x&&n.y===t.y},vs=function(n,t){return Math.abs(n.x-t.x)<ye&&Math.abs(n.y-t.y)<ye},ho=function(n,t){return er.x=Math.abs(n.x-t.x),er.y=Math.abs(n.y-t.y),Math.sqrt(er.x*er.x+er.y*er.y)},re=function(){ku&&(af(ku),ku=null)},co=function(){lt&&(ku=au(co),ds())},ys=function(){return!(e.scaleMode==="fit"&&l===u.currItem.initialZoomLevel)},lo=function(n,t){return n?n.className&&n.className.indexOf("pswp__scroll-wrap")>-1?!1:t(n)?n:lo(n.parentNode,t):!1},ue={},ao=function(n,t){return ue.prevent=!lo(n.target,e.isClickableElement),c("preventDragEvent",n,t,ue),ue.prevent},vo=function(n,t){return t.x=n.pageX,t.y=n.pageY,t.id=n.identifier,t},yo=function(n,t,i){i.x=(n.x+t.x)*.5;i.y=(n.y+t.y)*.5},ps=function(n,t,i){if(n-pu>50){var r=pi.length>2?pi.shift():{};r.x=t;r.y=i;pi.push(r);pu=n}},po=function(){var n=o.y-u.currItem.initialPosition.y;return 1-Math.abs(n/(k.y/2))},uu={},ws={},ei=[],tf,fe=function(n){while(ei.length>0)ei.pop();return ii?(tf=0,ri.forEach(function(n){tf===0?ei[0]=n:tf===1&&(ei[1]=n);tf++})):n.type.indexOf("touch")>-1?n.touches&&n.touches.length>0&&(ei[0]=vo(n.touches[0],uu),n.touches.length>1&&(ei[1]=vo(n.touches[1],ws))):(uu.x=n.pageX,uu.y=n.pageY,uu.id="",ei[0]=uu),ei},wo=function(n,t){var f,y=0,i=o[n]+t[n],c,p=t[n]>0,h=kt.x+t.x,a=kt.x-yi.x,v,r;if(f=i>s.min[n]||i<s.max[n]?e.panEndFriction:1,i=o[n]+t[n]*f,(e.allowPanToNext||l===u.currItem.initialZoomLevel)&&(at?fi!=="h"||n!=="x"||wi||(p?(i>s.min[n]&&(f=e.panEndFriction,y=s.min[n]-i,c=s.min[n]-nr[n]),(c<=0||a<0)&&ft()>1?(r=h,a<0&&h>yi.x&&(r=yi.x)):s.min.x!==s.max.x&&(v=i)):(i<s.max[n]&&(f=e.panEndFriction,y=i-s.max[n],c=nr[n]-s.max[n]),(c<=0||a>0)&&ft()>1?(r=h,a>0&&h<yi.x&&(r=yi.x)):s.min.x!==s.max.x&&(v=i))):r=h,n==="x"))return r!==undefined&&(yu(r,!0),ui=r===yi.x?!1:!0),s.min.x!==s.max.x&&(v!==undefined?o.x=v:ui||(o.x+=t.x*f)),r!==undefined;it||ui||l>u.currItem.fitRatio&&(o[n]+=t[n]*f)},bs=function(n){var i,t,r;if(n.type!=="mousedown"||!(n.button>0)){if(hr){n.preventDefault();return}iu&&n.type==="mousedown"||(ao(n,!0)&&n.preventDefault(),c("pointerDown"),ii&&(i=f.arraySearch(ri,n.pointerId,"id"),i<0&&(i=ri.length),ri[i]={x:n.pageX,y:n.pageY,id:n.pointerId}),t=fe(n),r=t.length,ot=null,dr(),lt&&r!==1||(lt=ie=!0,f.bind(window,lr,u),gf=nf=du=tu=ui=or=te=wi=!1,fi=null,c("firstTouchStart",t),d(nr,o),ni.x=ni.y=0,d(tt,t[0]),d(fr,tt),yi.x=rt.x*ti,pi=[{x:tt.x,y:tt.y}],pu=eo=ct(),bf(l,!0),re(),co()),!bt&&r>1&&!it&&!ui&&(ci=l,wi=!1,bt=te=!0,ni.y=ni.x=0,d(nr,o),d(g,t[0]),d(vi,t[1]),yo(g,vi,sr),ru.x=Math.abs(sr.x)-o.x,ru.y=Math.abs(sr.y)-o.y,oo=so=ho(g,vi)))}},ks=function(n){var i,r,t,u;n.preventDefault();ii&&(i=f.arraySearch(ri,n.pointerId,"id"),i>-1&&(r=ri[i],r.x=n.pageX,r.y=n.pageY));lt&&(t=fe(n),fi||or||bt?ot=t:kt.x!==rt.x*ti?fi="h":(u=Math.abs(t[0].x-tt.x)-Math.abs(t[0].y-tt.y),Math.abs(u)>=df&&(fi=u>0?"h":"v",ot=t)))},ds=function(){var r,f,n,y,a,v,w;if(ot&&(r=ot.length,r!==0))if(d(g,ot[0]),nt.x=g.x-tt.x,nt.y=g.y-tt.y,bt&&r>1){if(tt.x=g.x,tt.y=g.y,!nt.x&&!nt.y&&as(ot[1],vi))return;d(vi,ot[1]);wi||(wi=!0,c("zoomGestureStarted"));f=ho(g,vi);n=rh(f);n>u.currItem.initialZoomLevel+u.currItem.initialZoomLevel/15&&(nf=!0);var t=1,i=to(),h=io();n<i?e.pinchToClose&&!nf&&ci<=u.currItem.initialZoomLevel?(y=i-n,a=1-y/(i/1.2),wt(a),c("onPinchClose",a),du=!0):(t=(i-n)/i,t>1&&(t=1),n=i-t*(i/3)):n>h&&(t=(n-h)/(i*6),t>1&&(t=1),n=h+t*i);t<0&&(t=0);oo=f;yo(g,vi,bu);ni.x+=bu.x-sr.x;ni.y+=bu.y-sr.y;d(sr,bu);o.x=yf("x",n);o.y=yf("y",n);gf=n>l;l=n;p()}else{if(!fi)return;if(ie&&(ie=!1,Math.abs(nt.x)>=df&&(nt.x-=ot[0].x-fr.x),Math.abs(nt.y)>=df&&(nt.y-=ot[0].y-fr.y)),tt.x=g.x,tt.y=g.y,nt.x===0&&nt.y===0)return;if(fi==="v"&&e.closeOnVerticalDrag&&!ys()){ni.y+=nt.y;o.y+=nt.y;v=po();tu=!0;c("onVerticalDrag",v);wt(v);p();return}ps(ct(),g.x,g.y);or=!0;s=u.currItem.bounds;w=wo("x",nt);w||(wo("y",nt),no(o),p())}},gs=function(n){var i,h,b,v,r,t,s,k,y,w,g;if(a.isOldAndroid){if(iu&&n.type==="mouseup")return;n.type.indexOf("touch")>-1&&(clearTimeout(iu),iu=setTimeout(function(){iu=0},600))}if(c("pointerUp"),ao(n,!1)&&n.preventDefault(),ii&&(h=f.arraySearch(ri,n.pointerId,"id"),h>-1&&(i=ri.splice(h,1)[0],navigator.pointerEnabled?i.type=n.pointerType||"mouse":(b={4:"mouse",2:"touch",3:"pen"},i.type=b[n.pointerType],i.type||(i.type=n.pointerType||"mouse")))),v=fe(n),t=v.length,n.type==="mouseup"&&(t=0),t===2)return ot=null,!0;if(t===1&&d(fr,v[0]),t!==0||fi||it||(i||(n.type==="mouseup"?i={x:n.pageX,y:n.pageY,type:"mouse"}:n.changedTouches&&n.changedTouches[0]&&(i={x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY,type:"touch"})),c("touchRelease",n,i)),s=-1,t===0&&(lt=!1,f.unbind(window,lr,u),re(),bt?s=0:ne!==-1&&(s=ct()-ne)),ne=t===1?ct():-1,r=s!==-1&&s<150?"zoom":"swipe",bt&&t<2&&(bt=!1,t===1&&(r="zoomPointerUp"),c("zoomGestureEnded")),ot=null,or||wi||it||tu){if(dr(),nu||(nu=nh()),nu.calculateSwipeSpeed("x"),tu){k=po();k<e.verticalDragRange?u.close():(y=o.y,w=gu,gr("verticalDrag",0,1,300,f.easing.cubic.out,function(n){o.y=(u.currItem.initialPosition.y-y)*n+y;wt((1-w)*n+w);p()}),c("onVerticalDrag",1));return}if((ui||it)&&t===0){if(g=ih(r,nu),g)return;r="zoomPointerUp"}if(!it){if(r!=="swipe"){uh();return}!ui&&l>u.currItem.fitRatio&&th(nu)}}},nh=function(){var t,i,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){pi.length>1?(t=ct()-pu+50,i=pi[pi.length-2][r]):(t=ct()-eo,i=fr[r]);n.lastFlickOffset[r]=tt[r]-i;n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]);n.lastFlickSpeed[r]=n.lastFlickDist[r]>20?n.lastFlickOffset[r]/t:0;Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0);n.slowDownRatio[r]=.95;n.slowDownRatioReverse[r]=1-n.slowDownRatio[r];n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(t,i){n.backAnimStarted[t]||(o[t]>s.min[t]?n.backAnimDestination[t]=s.min[t]:o[t]<s.max[t]&&(n.backAnimDestination[t]=s.max[t]),n.backAnimDestination[t]!==undefined&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,gr("bounceZoomPan"+t,o[t],n.backAnimDestination[t],i||300,f.easing.sine.out,function(n){o[t]=n;p()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,o[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(ut.zoomPan&&(ut.zoomPan.raf=au(n.panAnimLoop),n.now=ct(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),p(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)){o.x=Math.round(o.x);o.y=Math.round(o.y);p();kr("zoomPan");return}}};return n},th=function(n){if(n.calculateSwipeSpeed("y"),s=u.currItem.bounds,n.backAnimDestination={},n.backAnimStarted={},Math.abs(n.lastFlickSpeed.x)<=.05&&Math.abs(n.lastFlickSpeed.y)<=.05)return n.speedDecelerationRatioAbs.x=n.speedDecelerationRatioAbs.y=0,n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),!0;kf("zoomPan");n.lastNow=ct();n.panAnimLoop()},ih=function(n,t){var r,o,l,a,v,s,y,i;return it||(wu=h),n==="swipe"&&(l=tt.x-fr.x,a=t.lastFlickDist.x<10,l>fo&&(a||t.lastFlickOffset.x>20)?o=-1:l<-fo&&(a||t.lastFlickOffset.x<-20)&&(o=1)),o&&(h+=o,h<0?(h=e.loop?ft()-1:0,v=!0):h>=ft()&&(h=e.loop?0:ft()-1,v=!0),(!v||e.loop)&&(ht+=o,ti-=o,r=!0)),s=rt.x*ti,y=Math.abs(s-kt.x),r||s>kt.x==t.lastFlickSpeed.x>0?(i=Math.abs(t.lastFlickSpeed.x)>0?y/Math.abs(t.lastFlickSpeed.x):333,i=Math.min(i,400),i=Math.max(i,250)):i=333,wu===h&&(r=!1),it=!0,c("mainScrollAnimStart"),gr("mainScroll",kt.x,s,i,f.easing.cubic.out,yu,function(){dr();it=!1;wu=-1;(r||wu!==h)&&u.updateCurrItem();c("mainScrollAnimComplete")}),r&&u.updateCurrItem(!0),r},rh=function(n){return 1/so*n*ci},uh=function(){var n=l,t=to(),r=io(),e,o,i;return(l<t?n=t:l>r&&(n=r),e=1,i=gu,du&&!gf&&!nf&&l<t)?(u.close(),!0):(du&&(o=function(n){wt((e-i)*n+i)}),u.zoomTo(n,0,200,f.easing.cubic.out,o),!0)};pr("Gestures",{publicMethods:{initGestures:function(){var n=function(n,t,i,r,u){hu=n+t;cu=n+i;ar=n+r;vr=u?n+u:""};ii=a.pointerEvent;ii&&a.touch&&(a.touch=!1);ii?navigator.pointerEnabled?n("pointer","down","move","up","cancel"):n("MSPointer","Down","Move","Up","Cancel"):a.touch?(n("touch","start","move","end","cancel"),pt=!0):n("mouse","down","move","up");lr=cu+" "+ar+" "+vr;ou=hu;ii&&!pt&&(pt=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1);u.likelyTouchDevice=pt;b[hu]=bs;b[cu]=ks;b[ar]=gs;vr&&(b[vr]=b[ar]);a.touch&&(ou+=" mousedown",lr+=" mousemove mouseup",b.mousedown=b[hu],b.mousemove=b[cu],b.mouseup=b[ar]);pt||(e.allowPanToNext=!1)}}});var bi,bo=function(t,i,r,s){var a,v,y,w;if(bi&&clearTimeout(bi),hr=!0,ee=!0,t.initialLayout?(a=t.initialLayout,t.initialLayout=null):a=e.getThumbBoundsFn&&e.getThumbBoundsFn(h),v=r?e.hideAnimationDuration:e.showAnimationDuration,y=function(){kr("initialZoom");r?(u.template.removeAttribute("style"),u.bg.removeAttribute("style")):(wt(1),i&&(i.style.display="block"),f.addClass(n,"pswp--animated-in"),c("initialZoom"+(r?"OutEnd":"InEnd")));s&&s();hr=!1},!v||!a||a.x===undefined){c("initialZoom"+(r?"Out":"In"));l=t.initialZoomLevel;d(o,t.initialPosition);p();n.style.opacity=r?0:1;wt(1);v?setTimeout(function(){y()},v):y();return}w=function(){var s=of,i=!u.currItem.src||u.currItem.loadError||e.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden");r||(l=a.w/t.w,o.x=a.x,o.y=a.y-de,u[i?"template":"bg"].style.opacity=.001,p());kf("initialZoom");r&&!s&&f.removeClass(n,"pswp--animated-in");i&&(r?f[(s?"remove":"add")+"Class"](n,"pswp--animate_opacity"):setTimeout(function(){f.addClass(n,"pswp--animate_opacity")},30));bi=setTimeout(function(){if(c("initialZoom"+(r?"Out":"In")),r){var e=a.w/t.w,u={x:o.x,y:o.y},h=l,w=gu,b=function(t){t===1?(l=e,o.x=a.x,o.y=a.y-li):(l=(e-h)*t+h,o.x=(a.x-u.x)*t+u.x,o.y=(a.y-li-u.y)*t+u.y);p();i?n.style.opacity=1-t:wt(w-t*w)};s?gr("initialZoom",0,1,v,f.easing.cubic.out,b,y):(b(1),bi=setTimeout(y,v+20))}else l=t.initialZoomLevel,d(o,t.initialPosition),p(),wt(1),i?n.style.opacity=1:wt(1),bi=setTimeout(y,v+20)},r?25:90)};w()},oi,st={},ki=[],ee,hr,fh={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image<\/a> could not be loaded.<\/div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return oi.length}},si,ft,eh,ko=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},oh=function(n,t,i){var r=n.bounds;r.center.x=Math.round((st.x-t)/2);r.center.y=Math.round((st.y-i)/2)+n.vGap.top;r.max.x=t>st.x?Math.round(st.x-t):r.center.x;r.max.y=i>st.y?Math.round(st.y-i)+n.vGap.top:r.center.y;r.min.x=t>st.x?0:r.center.x;r.min.y=i>st.y?n.vGap.top:r.center.y},fu=function(n,t,i){var r,u,f,o;return n.src&&!n.loadError?(r=!i,r&&(n.vGap||(n.vGap={top:0,bottom:0}),c("parseVerticalMargin",n)),st.x=t.x,st.y=t.y-n.vGap.top-n.vGap.bottom,r&&(u=st.x/n.w,f=st.y/n.h,n.fitRatio=u<f?u:f,o=e.scaleMode,o==="orig"?i=1:o==="fit"&&(i=n.fitRatio),i>1&&(i=1),n.initialZoomLevel=i,n.bounds||(n.bounds=ko())),!i)?void 0:(oh(n,n.w*i,n.h*i),r&&i===n.initialZoomLevel&&(n.initialPosition=n.bounds.center),n.bounds):(n.w=n.h=0,n.initialZoomLevel=n.fitRatio=1,n.bounds=ko(),n.initialPosition=n.bounds.center,n.bounds)},rf=function(n,t,i,r,f,e){t.loadError||r&&(t.imageAppended=!0,di(t,r,t===u.currItem&&ai),i.appendChild(r),e&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},go=function(n){n.loading=!0;n.loaded=!1;var t=n.img=f.createEl("pswp__img","img"),i=function(){n.loading=!1;n.loaded=!0;n.loadComplete?n.loadComplete(n):n.img=null;t.onload=t.onerror=null;t=null};return t.onload=i,t.onerror=function(){n.loadError=!0;i()},t.src=n.src,t},ns=function(n,t){if(n.src&&n.loadError&&n.container)return t&&(n.container.innerHTML=""),n.container.innerHTML=e.errorMsg.replace("%url%",n.src),!0},di=function(n,t,i){if(n.src){t||(t=n.container.lastChild);var r=i?n.w:Math.round(n.w*n.fitRatio),u=i?n.h:Math.round(n.h*n.fitRatio);n.placeholder&&!n.loaded&&(n.placeholder.style.width=r+"px",n.placeholder.style.height=u+"px");t.style.width=r+"px";t.style.height=u+"px"}},ts=function(){var n,t;if(ki.length){for(t=0;t<ki.length;t++)n=ki[t],n.holder.index===n.index&&rf(n.index,n.item,n.baseDiv,n.img,!1,n.clearPlaceholder);ki=[]}};pr("Controller",{publicMethods:{lazyLoadItem:function(n){n=vu(n);var t=si(n);!t||(t.loaded||t.loading)&&!su||(c("gettingData",n,t),t.src)&&go(t)},initController:function(){f.extend(e,fh,!0);u.items=oi=i;si=u.getItemAt;ft=e.getNumItemsFn;eh=e.loop;ft()<3&&(e.loop=!1);v("beforeChange",function(n){for(var i=e.preload,r=n===null?!0:n>=0,f=Math.min(i[0],ft()),o=Math.min(i[1],ft()),t=1;t<=(r?o:f);t++)u.lazyLoadItem(h+t);for(t=1;t<=(r?f:o);t++)u.lazyLoadItem(h-t)});v("initialLayout",function(){u.currItem.initialLayout=e.getThumbBoundsFn&&e.getThumbBoundsFn(h)});v("mainScrollAnimComplete",ts);v("initialZoomInEnd",ts);v("destroy",function(){for(var n,t=0;t<oi.length;t++)n=oi[t],n.container&&(n.container=null),n.placeholder&&(n.placeholder=null),n.img&&(n.img=null),n.preloader&&(n.preloader=null),n.loadError&&(n.loaded=n.loadError=!1);ki=null})},getItemAt:function(n){return n>=0?oi[n]!==undefined?oi[n]:!1:!1},allowProgressiveImg:function(){return e.forceProgressiveLoading||!pt||e.mouseUsed||screen.width>1200},setContent:function(n,t){var l,i,o,r,v,s;if(e.loop&&(t=vu(t)),l=u.getItemAt(n.index),l&&(l.container=null),i=u.getItemAt(t),!i){n.el.innerHTML="";return}c("gettingData",t,i);n.index=t;n.item=i;r=i.container=f.createEl("pswp__zoom-wrap");!i.src&&i.html&&(i.html.tagName?r.appendChild(i.html):r.innerHTML=i.html);ns(i);fu(i,k);!i.src||i.loadError||i.loaded?i.src&&!i.loadError&&(o=f.createEl("pswp__img","img"),o.style.opacity=1,o.src=i.src,di(i,o),rf(t,i,r,o,!0)):(i.loadComplete=function(i){if(gi){if(n&&n.index===t){if(ns(i,!0)){i.loadComplete=i.img=null;fu(i,k);br(i);n.index===h&&u.updateCurrZoomItem();return}i.imageAppended?!hr&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):a.transform&&(it||hr)?ki.push({item:i,baseDiv:r,img:i.img,index:t,holder:n,clearPlaceholder:!0}):rf(t,i,r,i.img,it||hr,!0)}i.loadComplete=null;i.img=null;c("imageLoadComplete",t,i)}},f.features.transform&&(v="pswp__img pswp__img--placeholder",v+=i.msrc?"":" pswp__img--placeholder--blank",s=f.createEl(v,i.msrc?"img":""),i.msrc&&(s.src=i.msrc),di(i,s),r.appendChild(s),i.placeholder=s),i.loading||go(i),u.allowProgressiveImg()&&(!ee&&a.transform?ki.push({item:i,baseDiv:r,img:i.img,index:t,holder:n}):rf(t,i,r,i.img,!0,!0)));ee||t!==h?br(i):(at=r.style,bo(i,o||i.img));n.el.innerHTML="";n.el.appendChild(r)},cleanSlide:function(n){n.img&&(n.img.onload=n.img.onerror=null);n.loaded=n.loading=n.img=n.imageAppended=!1}}});uf={};ff=function(n,t,i){var r=document.createEvent("CustomEvent"),u={origEvent:n,target:n.target,releasePoint:t,pointerType:i||"touch"};r.initCustomEvent("pswpTap",!0,!0,u);n.target.dispatchEvent(r)};pr("Tap",{publicMethods:{initTap:function(){v("firstTouchStart",u.onTapStart);v("touchRelease",u.onTapRelease);v("destroy",function(){uf={};hi=null})},onTapStart:function(n){n.length>1&&(clearTimeout(hi),hi=null)},onTapRelease:function(n,t){var i,r;if(t&&!or&&!te&&!ur){if(i=t,hi&&(clearTimeout(hi),hi=null,vs(i,uf))){c("doubleTap",i);return}if(t.type==="mouse"){ff(n,t,"mouse");return}if(r=n.target.tagName.toUpperCase(),r==="BUTTON"||f.hasClass(n.target,"pswp__single-tap")){ff(n,t);return}d(uf,i);hi=setTimeout(function(){ff(n,t);hi=null},300)}}}});pr("DesktopZoom",{publicMethods:{initDesktopZoom:function(){vf||(pt?v("mouseUsed",function(){u.setupDesktopZoom()}):u.setupDesktopZoom(!0))},setupDesktopZoom:function(t){var r,e,i,o;et={};r="wheel mousewheel DOMMouseScroll";v("bindEvents",function(){f.bind(n,r,u.handleMouseWheel)});v("unbindEvents",function(){et&&f.unbind(n,r,u.handleMouseWheel)});u.mouseZoomedIn=!1;i=function(){u.mouseZoomedIn&&(f.removeClass(n,"pswp--zoomed-in"),u.mouseZoomedIn=!1);l<1?f.addClass(n,"pswp--zoom-allowed"):f.removeClass(n,"pswp--zoom-allowed");o()};o=function(){e&&(f.removeClass(n,"pswp--dragging"),e=!1)};v("resize",i);v("afterChange",i);v("pointerDown",function(){u.mouseZoomedIn&&(e=!0,f.addClass(n,"pswp--dragging"))});v("pointerUp",o);t||i()},handleMouseWheel:function(n){if(l<=u.currItem.fitRatio)return e.modal&&(!e.closeOnScroll||ur||lt?n.preventDefault():ir&&Math.abs(n.deltaY)>2&&(of=!0,u.close())),!0;if(n.stopPropagation(),et.x=0,"deltaX"in n)n.deltaMode===1?(et.x=n.deltaX*18,et.y=n.deltaY*18):(et.x=n.deltaX,et.y=n.deltaY);else if("wheelDelta"in n)n.wheelDeltaX&&(et.x=-.16*n.wheelDeltaX),et.y=n.wheelDeltaY?-.16*n.wheelDeltaY:-.16*n.wheelDelta;else if("detail"in n)et.y=n.detail;else return;bf(l,!0);var t=o.x-et.x,i=o.y-et.y;(e.modal||t<=s.min.x&&t>=s.max.x&&i<=s.min.y&&i>=s.max.y)&&n.preventDefault();u.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:k.x/2+tr.x,y:k.y/2+tr.y};var r=e.getDoubleTapZoom(!0,u.currItem),i=l===r;u.mouseZoomedIn=!i;u.zoomTo(i?u.currItem.initialZoomLevel:r,t,333);f[(i?"remove":"add")+"Class"](n,"pswp--zoomed-in")}}});var sh={history:!0,galleryUID:1},oe,is,eu,ef,se,rs,w,cr,he,ce,vt,le,ae=function(){return vt.hash.substring(1)},us=function(){oe&&clearTimeout(oe);eu&&clearTimeout(eu)},fs=function(){var u=ae(),n={},t,i,r,f;if(u.length<5)return n;for(i=u.split("&"),t=0;t<i.length;t++)i[t]&&((r=i[t].split("="),r.length<2)||(n[r[0]]=r[1]));if(e.galleryPIDs){for(f=n.pid,n.pid=0,t=0;t<oi.length;t++)if(oi[t].pid===f){n.pid=t;break}}else n.pid=parseInt(n.pid,10)-1;return n.pid<0&&(n.pid=0),n},ve=function(){var t,i,n,r;if(eu&&clearTimeout(eu),ur||lt){eu=setTimeout(ve,500);return}ef?clearTimeout(is):ef=!0;t=h+1;i=si(h);i.hasOwnProperty("pid")&&(t=i.pid);n=w+"&gid="+e.galleryUID+"&pid="+t;cr||vt.hash.indexOf(n)===-1&&(ce=!0);r=vt.href.split("#")[0]+"#"+n;le?"#"+n!==window.location.hash&&history[cr?"replaceState":"pushState"]("",document.title,r):cr?vt.replace(r):vt.hash=n;cr=!0;is=setTimeout(function(){ef=!1},60)};pr("History",{publicMethods:{initHistory:function(){var n,t;(f.extend(e,sh,!0),e.history)&&(vt=window.location,ce=!1,he=!1,cr=!1,w=ae(),le="pushState"in history,w.indexOf("gid=")>-1&&(w=w.split("&gid=")[0],w=w.split("?gid=")[0]),v("afterChange",u.updateURL),v("unbindEvents",function(){f.unbind(window,"hashchange",u.onHashChange)}),n=function(){rs=!0;he||(ce?history.back():w?vt.hash=w:le?history.pushState("",document.title,vt.pathname+vt.search):vt.hash="");us()},v("unbindEvents",function(){of&&n()}),v("destroy",function(){rs||n()}),v("firstUpdate",function(){h=fs().pid}),t=w.indexOf("pid="),t>-1&&(w=w.substring(0,t),w.slice(-1)==="&"&&(w=w.slice(0,-1))),setTimeout(function(){gi&&f.bind(window,"hashchange",u.onHashChange)},40))},onHashChange:function(){if(ae()===w){he=!0;u.close();return}ef||(se=!0,u.goTo(fs().pid),se=!1)},updateURL:function(){(us(),se)||(cr?oe=setTimeout(ve,800):ve())}}});f.extend(u,ls)}}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)}(function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(n,t){var e,u,a,c,rt,ut,s,ft,b,f,et,ot,st,ht,i,y,yt,k,d,r=this,g=!1,h=!0,o=!0,pt={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(n,t){return n.title?(t.children[0].innerHTML=n.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / "},ct=function(n){var e;if(y)return!0;n=n||window.event;i.timeToIdle&&i.mouseUsed&&!b&&it();for(var r,f,o=n.target||n.srcElement,s=o.className,u=0;u<w.length;u++)r=w[u],r.onTap&&s.indexOf("pswp__"+r.name)>-1&&(r.onTap(),f=!0);f&&(n.stopPropagation&&n.stopPropagation(),y=!0,e=t.features.isOldAndroid?600:30,yt=setTimeout(function(){y=!1},e))},wt=function(){return!n.likelyTouchDevice||i.mouseUsed||screen.width>1200},l=function(n,i,r){t[(r?"add":"remove")+"Class"](n,"pswp__"+i)},lt=function(){var n=1===i.getNumItemsFn();n!==ht&&(l(u,"ui--one-slide",n),ht=n)},at=function(){l(s,"share-modal--hidden",o)},v=function(){return o=!o,o?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout(function(){o&&at()},300)):(at(),setTimeout(function(){o||t.addClass(s,"pswp__share-modal--fade-in")},30)),o||kt(),!1},bt=function(t){t=t||window.event;var i=t.target||t.srcElement;return n.shout("shareLinkClick",t,i),i.href?i.hasAttribute("download")?!0:(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),o||v(),!1):!1},kt=function(){for(var n,f,r,e,o,t="",u=0;u<i.shareButtons.length;u++)n=i.shareButtons[u],r=i.getImageURLForShare(n),e=i.getPageURLForShare(n),o=i.getTextForShare(n),f=n.url.replace("{{url}}",encodeURIComponent(e)).replace("{{image_url}}",encodeURIComponent(r)).replace("{{raw_image_url}}",r).replace("{{text}}",encodeURIComponent(o)),t+='<a href="'+f+'" target="_blank" class="pswp__share--'+n.id+'"'+(n.download?"download":"")+">"+n.label+"<\/a>",i.parseShareButtonOut&&(t=i.parseShareButtonOut(n,t));s.children[0].innerHTML=t;s.children[0].onclick=bt},nt=function(n){for(var r=0;r<i.closeElClasses.length;r++)if(t.hasClass(n,"pswp__"+i.closeElClasses[r]))return!0},tt=0,it=function(){clearTimeout(d);tt=0;b&&r.setIdle(!1)},vt=function(n){n=n?n:window.event;var t=n.relatedTarget||n.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(d),d=setTimeout(function(){r.setIdle(!0)},i.timeToIdleOutside))},dt=function(){i.fullscreenEl&&!t.features.isOldAndroid&&(e||(e=r.getFullscreenAPI()),e?(t.bind(document,e.eventK,r.updateFullscreen),r.updateFullscreen(),t.addClass(n.template,"pswp--supports-fs")):t.removeClass(n.template,"pswp--supports-fs"))},gt=function(){i.preloaderEl&&(p(!0),f("beforeChange",function(){clearTimeout(st);st=setTimeout(function(){n.currItem&&n.currItem.loading?(!n.allowProgressiveImg()||n.currItem.img&&!n.currItem.img.naturalWidth)&&p(!1):p(!0)},i.loadingIndicatorDelay)}),f("imageLoadComplete",function(t,i){n.currItem===i&&p(!0)}))},p=function(n){ot!==n&&(l(et,"preloader--active",!n),ot=n)},ni=function(n){var r=n.vGap,f,e;wt()?(f=i.barsSize,i.captionEl&&"auto"===f.bottom?(c||(c=t.createEl("pswp__caption pswp__caption--fake"),c.appendChild(t.createEl("pswp__caption__center")),u.insertBefore(c,a),t.addClass(u,"pswp__ui--fit")),i.addCaptionHTMLFn(n,c,!0))?(e=c.clientHeight,r.bottom=parseInt(e,10)||44):r.bottom=f.top:r.bottom="auto"===f.bottom?0:f.bottom,r.top=f.top):r.top=r.bottom=0},ti=function(){i.timeToIdle&&f("mouseUsed",function(){t.bind(document,"mousemove",it);t.bind(document,"mouseout",vt);k=setInterval(function(){tt++;2===tt&&r.setIdle(!0)},i.timeToIdle/2)})},ii=function(){f("onVerticalDrag",function(n){h&&.95>n?r.hideControls():!h&&n>=.95&&r.showControls()});var n;f("onPinchClose",function(t){h&&.9>t?(r.hideControls(),n=!0):n&&!h&&t>.9&&r.showControls()});f("zoomGestureEnded",function(){n=!1;n&&!h&&r.showControls()})},w=[{name:"caption",option:"captionEl",onInit:function(n){a=n}},{name:"share-modal",option:"shareEl",onInit:function(n){s=n},onTap:function(){v()}},{name:"button--share",option:"shareEl",onInit:function(n){ut=n},onTap:function(){v()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(n){rt=n}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(n){et=n}}],ri=function(){var n,e,r,o=function(u){var s,f,o;if(u)for(s=u.length,f=0;s>f;f++)for(n=u[f],e=n.className,o=0;o<w.length;o++)r=w[o],e.indexOf("pswp__"+r.name)>-1&&(i[r.option]?(t.removeClass(n,"pswp__element--disabled"),r.onInit&&r.onInit(n)):t.addClass(n,"pswp__element--disabled"))},f;o(u.children);f=t.getChildByClass(u,"pswp__top-bar");f&&o(f.children)};r.init=function(){t.extend(n.options,pt,!0);i=n.options;u=t.getChildByClass(n.scrollWrap,"pswp__ui");f=n.listen;ii();f("beforeChange",r.update);f("doubleTap",function(t){var r=n.currItem.initialZoomLevel;n.getZoomLevel()!==r?n.zoomTo(r,t,333):n.zoomTo(i.getDoubleTapZoom(!1,n.currItem),t,333)});f("preventDragEvent",function(n,t,i){var r=n.target||n.srcElement;r&&r.className&&n.type.indexOf("mouse")>-1&&(r.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(i.prevent=!1)});f("bindEvents",function(){t.bind(u,"pswpTap click",ct);t.bind(n.scrollWrap,"pswpTap",r.onGlobalTap);n.likelyTouchDevice||t.bind(n.scrollWrap,"mouseover",r.onMouseOver)});f("unbindEvents",function(){o||v();k&&clearInterval(k);t.unbind(document,"mouseout",vt);t.unbind(document,"mousemove",it);t.unbind(u,"pswpTap click",ct);t.unbind(n.scrollWrap,"pswpTap",r.onGlobalTap);t.unbind(n.scrollWrap,"mouseover",r.onMouseOver);e&&(t.unbind(document,e.eventK,r.updateFullscreen),e.isFullscreen()&&(i.hideAnimationDuration=0,e.exit()),e=null)});f("destroy",function(){i.captionEl&&(c&&u.removeChild(c),t.removeClass(a,"pswp__caption--empty"));s&&(s.children[0].onclick=null);t.removeClass(u,"pswp__ui--over-close");t.addClass(u,"pswp__ui--hidden");r.setIdle(!1)});i.showAnimationDuration||t.removeClass(u,"pswp__ui--hidden");f("initialZoomIn",function(){i.showAnimationDuration&&t.removeClass(u,"pswp__ui--hidden")});f("initialZoomOut",function(){t.addClass(u,"pswp__ui--hidden")});f("parseVerticalMargin",ni);ri();i.shareEl&&ut&&s&&(o=!0);lt();ti();dt();gt()};r.setIdle=function(n){b=n;l(u,"ui--idle",n)};r.update=function(){h&&n.currItem?(r.updateIndexIndicator(),i.captionEl&&(i.addCaptionHTMLFn(n.currItem,a),l(a,"caption--empty",!n.currItem.title)),g=!0):g=!1;o||v();lt()};r.updateFullscreen=function(i){i&&setTimeout(function(){n.setScrollOffset(0,t.getScrollY())},50);t[(e.isFullscreen()?"add":"remove")+"Class"](n.template,"pswp--fs")};r.updateIndexIndicator=function(){i.counterEl&&(rt.innerHTML=n.getCurrentIndex()+1+i.indexIndicatorSep+i.getNumItemsFn())};r.onGlobalTap=function(u){u=u||window.event;var f=u.target||u.srcElement;if(!y)if(u.detail&&"mouse"===u.detail.pointerType){if(nt(f))return void n.close();t.hasClass(f,"pswp__img")&&(1===n.getZoomLevel()&&n.getZoomLevel()<=n.currItem.fitRatio?i.clickToCloseNonZoomable&&n.close():n.toggleDesktopZoom(u.detail.releasePoint))}else if(i.tapToToggleControls&&(h?r.hideControls():r.showControls()),i.tapToClose&&(t.hasClass(f,"pswp__img")||nt(f)))return void n.close()};r.onMouseOver=function(n){n=n||window.event;var t=n.target||n.srcElement;l(u,"ui--over-close",nt(t))};r.hideControls=function(){t.addClass(u,"pswp__ui--hidden");h=!1};r.showControls=function(){h=!0;g||r.update();t.removeClass(u,"pswp__ui--hidden")};r.supportsFullscreen=function(){var n=document;return!!(n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen)};r.getFullscreenAPI=function(){var t,r=document.documentElement,u="fullscreenchange";return r.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:u}:r.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+u}:r.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+u}:r.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return ft=i.closeOnScroll,i.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?n.template[this.enterK]():void n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return i.closeOnScroll=ft,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(){function t(){}function r(n,t){for(var i=n.length;i--;)if(n[i].listener===t)return i;return-1}function i(n){return function(){return this[n].apply(this,arguments)}}var n=t.prototype,u=this,f=u.EventEmitter;n.getListeners=function(n){var r,t,i=this._getEvents();if("object"==typeof n){r={};for(t in i)i.hasOwnProperty(t)&&n.test(t)&&(r[t]=i[t])}else r=i[n]||(i[n]=[]);return r};n.flattenListeners=function(n){for(var i=[],t=0;n.length>t;t+=1)i.push(n[t].listener);return i};n.getListenersAsObject=function(n){var t,i=this.getListeners(n);return i instanceof Array&&(t={},t[n]=i),t||i};n.addListener=function(n,t){var i,u=this.getListenersAsObject(n),f="object"==typeof t;for(i in u)u.hasOwnProperty(i)&&-1===r(u[i],t)&&u[i].push(f?t:{listener:t,once:!1});return this};n.on=i("addListener");n.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})};n.once=i("addOnceListener");n.defineEvent=function(n){return this.getListeners(n),this};n.defineEvents=function(n){for(var t=0;n.length>t;t+=1)this.defineEvent(n[t]);return this};n.removeListener=function(n,t){var f,i,u=this.getListenersAsObject(n);for(i in u)u.hasOwnProperty(i)&&(f=r(u[i],t),-1!==f&&u[i].splice(f,1));return this};n.off=i("removeListener");n.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)};n.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)};n.manipulateListeners=function(n,t,i){var r,u,f=n?this.removeListener:this.addListener,e=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=i.length;r--;)f.call(this,t,i[r]);else for(r in t)t.hasOwnProperty(r)&&(u=t[r])&&("function"==typeof u?f.call(this,r,u):e.call(this,r,u));return this};n.removeEvent=function(n){var t,r=typeof n,i=this._getEvents();if("string"===r)delete i[n];else if("object"===r)for(t in i)i.hasOwnProperty(t)&&n.test(t)&&delete i[t];else delete this._events;return this};n.removeAllListeners=i("removeEvent");n.emitEvent=function(n,t){var i,f,r,e,u=this.getListenersAsObject(n);for(r in u)if(u.hasOwnProperty(r))for(f=u[r].length;f--;)i=u[r][f],i.once===!0&&this.removeListener(n,i.listener),e=i.listener.apply(this,t||[]),e===this._getOnceReturnValue()&&this.removeListener(n,i.listener);return this};n.trigger=i("emitEvent");n.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)};n.setOnceReturnValue=function(n){return this._onceReturnValue=n,this};n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};n._getEvents=function(){return this._events||(this._events={})};t.noConflict=function(){return u.EventEmitter=f,t};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(n){function f(t){var i=n.event;return i.target=i.target||i.srcElement||t,i}var t=document.documentElement,r=function(){},i,u;t.addEventListener?r=function(n,t,i){n.addEventListener(t,i,!1)}:t.attachEvent&&(r=function(n,t,i){n[t+i]=i.handleEvent?function(){var t=f(n);i.handleEvent.call(i,t)}:function(){var t=f(n);i.call(n,t)};n.attachEvent("on"+t,n[t+i])});i=function(){};t.removeEventListener?i=function(n,t,i){n.removeEventListener(t,i,!1)}:t.detachEvent&&(i=function(n,t,i){n.detachEvent("on"+t,n[t+i]);try{delete n[t+i]}catch(r){n[t+i]=void 0}});u={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",u):n.eventie=u}(this),function(n,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("wolfy87-eventemitter"),require("eventie")):n.imagesLoaded=t(n,n.EventEmitter,n.eventie)}(window,function(n,t,i){function s(n,t){for(var i in t)n[i]=t[i];return n}function c(n){return"[object Array]"===v.call(n)}function l(n){var t=[],i,r;if(c(n))t=n;else if("number"==typeof n.length)for(i=0,r=n.length;r>i;i++)t.push(n[i]);else t.push(n);return t}function r(n,t,i){if(!(this instanceof r))return new r(n,t);"string"==typeof n&&(n=document.querySelectorAll(n));this.elements=l(n);this.options=s({},this.options);"function"==typeof t?i=t:s(this.options,t);i&&this.on("always",i);this.getImages();f&&(this.jqDeferred=new f.Deferred);var u=this;setTimeout(function(){u.check()})}function e(n){this.img=n}function u(n){this.src=n;o[n]=this}var f=n.jQuery,h=n.console,a=h!==void 0,v=Object.prototype.toString,o;return r.prototype=new t,r.prototype.options={},r.prototype.getImages=function(){var i,u,n,t,e;for(this.images=[],i=0,u=this.elements.length;u>i;i++)if(n=this.elements[i],"IMG"===n.nodeName&&this.addImage(n),t=n.nodeType,t&&(1===t||9===t||11===t))for(var f=n.querySelectorAll("img"),r=0,o=f.length;o>r;r++)e=f[r],this.addImage(e)},r.prototype.addImage=function(n){var t=new e(n);this.images.push(t)},r.prototype.check=function(){function f(n,r){return t.options.debug&&a&&h.log("confirm",n,r),t.progress(n),u++,u===i&&t.complete(),!0}var t=this,u=0,i=this.images.length,n,r;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(n=0;i>n;n++)r=this.images[n],r.on("confirm",f),r.check()},r.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,n);t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,n)})},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done",n;this.isComplete=!0;n=this;setTimeout(function(){if(n.emit(t,n),n.emit("always",n),n.jqDeferred){var i=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[i](n)}})},f&&(f.fn.imagesLoaded=function(n,t){var i=new r(this,n,t);return i.jqDeferred.promise(f(this))}),e.prototype=new t,e.prototype.check=function(){var n=o[this.img.src]||new u(this.img.src),t;if(n.isConfirmed)return this.confirm(n.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;t=this;n.on("confirm",function(n,i){return t.confirm(n.isLoaded,i),!0});n.check()},e.prototype.confirm=function(n,t){this.isLoaded=n;this.emit("confirm",this,t)},o={},u.prototype=new t,u.prototype.check=function(){if(!this.isChecked){var n=new Image;i.bind(n,"load",this);i.bind(n,"error",this);n.src=this.src;this.isChecked=!0}},u.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},u.prototype.onload=function(n){this.confirm(!0,"onload");this.unbindProxyEvents(n)},u.prototype.onerror=function(n){this.confirm(!1,"onerror");this.unbindProxyEvents(n)},u.prototype.confirm=function(n,t){this.isConfirmed=!0;this.isLoaded=n;this.emit("confirm",this,t)},u.prototype.unbindProxyEvents=function(n){i.unbind(n.target,"load",this);i.unbind(n.target,"error",this)},r}),function(n){var i=[],r={},e="routie",h=n[e],u=function(n,t){this.name=t;this.path=n;this.keys=[];this.fns=[];this.params={};this.regex=c(this.path,this.keys,!1,!1)};u.prototype.addHandler=function(n){this.fns.push(n)};u.prototype.removeHandler=function(n){for(var r,t=0,i=this.fns.length;t<i;t++)if(r=this.fns[t],n==r){this.fns.splice(t,1);return}};u.prototype.run=function(n){for(var t=0,i=this.fns.length;t<i;t++)this.fns[t].apply(this,n)};u.prototype.match=function(n,t){var r=this.regex.exec(n),i,e,u,f;if(!r)return!1;for(i=1,e=r.length;i<e;++i)u=this.keys[i-1],f="string"==typeof r[i]?decodeURIComponent(r[i]):r[i],u&&(this.params[u.name]=f),t.push(f);return!0};u.prototype.toURL=function(n){var t=this.path;for(var i in n)t=t.replace("/:"+i,"/"+n[i]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),t.indexOf(":")!=-1)throw new Error("missing parameters for url: "+t);return t};var c=function(n,t,i,r){return n instanceof RegExp?n:(n instanceof Array&&(n="("+n.join("|")+")"),n=n.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,i,r,u,f,e){return t.push({name:u,optional:!!e}),i=i||"",""+(e?"":i)+"(?:"+(e?i:"")+(r||"")+(f||r&&"([^/.]+?)"||"([^/]+?)")+")"+(e||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+n+"$",i?"":"i"))},o=function(n,t){var f=n.split(" "),e=f.length==2?f[0]:null;n=f.length==2?f[1]:f[0];r[n]||(r[n]=new u(n,e),i.push(r[n]));r[n].addHandler(t)},t=function(n,i){if(typeof i=="function")o(n,i),t.reload();else if(typeof n=="object"){for(var r in n)o(r,n[r]);t.reload()}else typeof i=="undefined"&&t.navigate(n)};t.lookup=function(n,t){for(var u,r=0,f=i.length;r<f;r++)if(u=i[r],u.name==n)return u.toURL(t)};t.remove=function(n,t){var i=r[n];i&&i.removeHandler(t)};t.removeAll=function(){r={};i=[]};t.navigate=function(n,t){t=t||{};var i=t.silent||!1;i&&v();setTimeout(function(){OpenriceApp.Helpers.changeHash(n[0]=="#"?n.substring(1):n);i&&setTimeout(function(){s()},1)},1)};t.noConflict=function(){return n[e]=h,t};var l=function(){return window.location.hash.substring(1)},a=function(n,t){var i=[];return t.match(n,i)?(t.run(i),!0):!1},f=t.reload=function(n){for(var r,u=typeof n=="string"?n:l(),t=0,f=i.length;t<f;t++)if(r=i[t],a(u,r))return},s=function(){n.addEventListener?n.addEventListener("hashchange",f,!1):n.attachEvent("onhashchange",f)},v=function(){n.removeEventListener?n.removeEventListener("hashchange",f):n.detachEvent("onhashchange",f)};s();n[e]=t}(window),function(){function k(n,t,i){var u=t&&i||0,r=0;for(t=t||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){r<16&&(t[u+r++]=y[n])});r<16;)t[u+r++]=0;return t}function c(n,t){var i=t||0,r=h;return r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+"-"+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]+r[n[i++]]}function g(n,t,i){var u=t&&i||0,r=t||[],s,h,w,v;n=n||{};var e=n.clockseq!=null?n.clockseq:p,f=n.msecs!=null?n.msecs:(new Date).getTime(),o=n.nsecs!=null?n.nsecs:a+1,y=f-l+(o-a)/1e4;if(y<0&&n.clockseq==null&&(e=e+1&16383),(y<0||f>l)&&n.nsecs==null&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");for(l=f,a=o,p=e,f+=122192928e5,s=((f&268435455)*1e4+o)%4294967296,r[u++]=s>>>24&255,r[u++]=s>>>16&255,r[u++]=s>>>8&255,r[u++]=s&255,h=f/4294967296*1e4&268435455,r[u++]=h>>>8&255,r[u++]=h&255,r[u++]=h>>>24&15|16,r[u++]=h>>>16&255,r[u++]=e>>>8|128,r[u++]=e&255,w=n.node||d,v=0;v<6;v++)r[u+v]=w[v];return t?t:c(r)}function w(n,t,i){var e=t&&i||0,u,f;if(typeof n=="string"&&(t=n=="binary"?new v(16):null,n=null),n=n||{},u=n.random||(n.rng||r)(),u[6]=u[6]&15|64,u[8]=u[8]&63|128,t)for(f=0;f<16;f++)t[e+f]=u[f];return t||c(u)}var t=this,r,f=t.crypto||t.msCrypto,e,o,s,u,n,b;if(typeof t.require=="function")try{e=t.require("crypto").randomBytes;r=e&&function(){return e(16)}}catch(nt){}!r&&f&&f.getRandomValues&&(o=new Uint8Array(16),r=function(){return f.getRandomValues(o),o});r||(s=new Array(16),r=function(){for(var n=0,t;n<16;n++)(n&3)==0&&(t=Math.random()*4294967296),s[n]=t>>>((n&3)<<3)&255;return s});var v=typeof t.Buffer=="function"?t.Buffer:Array,h=[],y={};for(u=0;u<256;u++)h[u]=(u+256).toString(16).substr(1),y[h[u]]=u;var i=r(),d=[i[0]|1,i[1],i[2],i[3],i[4],i[5]],p=(i[6]<<8|i[7])&16383,l=0,a=0;n=w;n.v1=g;n.v4=w;n.parse=k;n.unparse=c;n.BufferClass=v;typeof module!="undefined"&&module.exports?module.exports=n:typeof define=="function"&&define.amd?define(function(){return n}):(b=t.uuid,n.noConflict=function(){return t.uuid=b,n},t.uuid=n)}.call(this),function(){var n,i,u,f,e,o,t,s,r=[].slice,h={}.hasOwnProperty,c=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};t=function(){};i=function(){function n(){}return n.prototype.addEventListener=n.prototype.on,n.prototype.on=function(n,t){return this._callbacks=this._callbacks||{},this._callbacks[n]||(this._callbacks[n]=[]),this._callbacks[n].push(t),this},n.prototype.emit=function(){var i,u,n,f,t,e;if(f=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[f],n)for(t=0,e=n.length;t<e;t++)u=n[t],u.apply(this,i);return this},n.prototype.removeListener=n.prototype.off,n.prototype.removeAllListeners=n.prototype.off,n.prototype.removeEventListener=n.prototype.off,n.prototype.off=function(n,t){var f,i,r,u,e;if(!this._callbacks||arguments.length===0)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(arguments.length===1)return delete this._callbacks[n],this;for(r=u=0,e=i.length;u<e;r=++u)if(f=i[r],f===t){i.splice(r,1);break}return this},n}();n=function(n){function u(n,t){var r,i,e;if(this.element=n,this.version=u.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!(this.element&&this.element.nodeType!=null))throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(u.instances.push(this),this.element.dropzone=this,r=(e=u.optionsForElement(this.element))!=null?e:{},this.options=f({},this.defaultOptions,r,t!=null?t:{}),this.options.forceFallback||!u.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i);this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?u.getElement(this.options.previewsContainer,"previewsContainer"):this.element);this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:u.getElements(this.options.clickable,"clickable"));this.init()}var f,e;return c(u,n),u.prototype.Emitter=i,u.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],u.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(n,t){return t()},init:function(){return t},forceFallback:!1,fallback:function(){var i,t,n,r,e,f;for(this.element.className=""+this.element.className+" dz-browser-not-supported",f=this.element.getElementsByTagName("div"),r=0,e=f.length;r<e;r++)if(i=f[r],/(^| )dz-message($| )/.test(i.className)){t=i;i.className="dz-message";continue}return t||(t=u.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent!=null?n.textContent=this.options.dictFallbackMessage:n.innerText!=null&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(n){var t,i,r;return t={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},i=n.width/n.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,t.optWidth==null&&t.optHeight==null?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):t.optWidth==null?t.optWidth=i*t.optHeight:t.optHeight==null&&(t.optHeight=1/i*t.optWidth),r=t.optWidth/t.optHeight,n.height<t.optHeight||n.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>r?(t.srcHeight=n.height,t.srcWidth=t.srcHeight*r):(t.srcWidth=n.width,t.srcHeight=t.srcWidth/r),t.srcX=(n.width-t.srcWidth)/2,t.srcY=(n.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:t,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:t,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var t,c,l,i,r,f,a,v,y,e,o,s,h;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(n.previewElement=u.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement),e=n.previewElement.querySelectorAll("[data-dz-name]"),i=0,a=e.length;i<a;i++)t=e[i],t.textContent=n.name;for(o=n.previewElement.querySelectorAll("[data-dz-size]"),r=0,v=o.length;r<v;r++)t=o[r],t.innerHTML=this.filesize(n.size);for(this.options.addRemoveLinks&&(n._removeLink=u.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"<\/a>"),n.previewElement.appendChild(n._removeLink)),c=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),n.status===u.UPLOADING?u.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(n)}):t.options.dictRemoveFileConfirmation?u.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(n)}):t.removeFile(n)}}(this),s=n.previewElement.querySelectorAll("[data-dz-remove]"),h=[],f=0,y=s.length;f<y;f++)l=s[f],h.push(l.addEventListener("click",c));return h}},removedfile:function(n){var t;return n.previewElement&&(t=n.previewElement)!=null&&t.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var r,i,f,u;if(n.previewElement){for(n.previewElement.classList.remove("dz-file-preview"),u=n.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,f=u.length;i<f;i++)r=u[i],r.alt=n.name,r.src=t;return setTimeout(function(){return function(){return n.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(n,t){var f,i,e,r,u;if(n.previewElement){for(n.previewElement.classList.add("dz-error"),typeof t!="String"&&t.error&&(t=t.error),r=n.previewElement.querySelectorAll("[data-dz-errormessage]"),u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.textContent=t);return u}},errormultiple:t,processing:function(n){if(n.previewElement&&(n.previewElement.classList.add("dz-processing"),n._removeLink))return n._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:t,uploadprogress:function(n,t){var i,r,e,f,u;if(n.previewElement){for(f=n.previewElement.querySelectorAll("[data-dz-uploadprogress]"),u=[],r=0,e=f.length;r<e;r++)i=f[r],i.nodeName==="PROGRESS"?u.push(i.value=t):u.push(i.style.width=""+t+"%");return u}},totaluploadprogress:t,sending:t,sendingmultiple:t,success:function(n){if(n.previewElement)return n.previewElement.classList.add("dz-success")},successmultiple:t,canceled:function(n){return this.emit("error",n,"Upload canceled.")},canceledmultiple:t,complete:function(n){return n._removeLink&&(n._removeLink.textContent=this.options.dictRemoveFile),n.previewElement?n.previewElement.classList.add("dz-complete"):void 0},completemultiple:t,maxfilesexceeded:t,maxfilesreached:t,queuecomplete:t,addedfiles:t,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /><\/div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size><\/span><\/div>\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"><\/path>\n      <\/g>\n    <\/svg>\n  <\/div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"><\/path>\n        <\/g>\n      <\/g>\n    <\/svg>\n  <\/div>\n<\/div>'},f=function(){var t,i,u,f,e,n,o;for(f=arguments[0],u=2<=arguments.length?r.call(arguments,1):[],n=0,o=u.length;n<o;n++){i=u[n];for(t in i)e=i[t],f[t]=e}return f},u.prototype.getAcceptedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted&&r.push(t);return r},u.prototype.getRejectedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted||r.push(t);return r},u.prototype.getFilesWithStatus=function(n){var i,t,f,r,u;for(r=this.files,u=[],t=0,f=r.length;t<f;t++)i=r[t],i.status===n&&u.push(i);return u},u.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(u.QUEUED)},u.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(u.UPLOADING)},u.prototype.getAddedFiles=function(){return this.getFilesWithStatus(u.ADDED)},u.prototype.getActiveFiles=function(){var n,t,f,i,r;for(i=this.files,r=[],t=0,f=i.length;t<f;t++)n=i[t],(n.status===u.UPLOADING||n.status===u.QUEUED)&&r.push(n);return r},u.prototype.init=function(){var i,n,r,t,e,o,f;for(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(u.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>")),this.clickableElements.length&&(r=function(n){return function(){return n.hiddenFileInput&&n.hiddenFileInput.parentNode.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),(n.options.maxFiles==null||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple"),n.hiddenFileInput.className="dz-hidden-input",n.options.acceptedFiles!=null&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),n.options.capture!=null&&n.hiddenFileInput.setAttribute("capture",n.options.capture),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.querySelector(n.options.hiddenInputContainer).appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var u,t,i,f;if(t=n.hiddenFileInput.files,t.length)for(i=0,f=t.length;i<f;i++)u=t[i],n.addFile(u);return n.emit("addedfiles",t),r()})}}(this),r()),this.URL=(o=window.URL)!=null?o:window.webkitURL,f=this.events,t=0,e=f.length;t<e;t++){i=f[t];this.on(i,this.options[i])}this.on("uploadprogress",function(n){return function(){return n.updateTotalUploadProgress()}}(this));this.on("removedfile",function(n){return function(){return n.updateTotalUploadProgress()}}(this));this.on("canceled",function(n){return function(t){return n.emit("complete",t)}}(this));this.on("complete",function(n){return function(){if(n.getAddedFiles().length===0&&n.getUploadingFiles().length===0&&n.getQueuedFiles().length===0)return setTimeout(function(){return n.emit("queuecomplete")},0)}}(this));return n=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(n){return function(t){return n.emit("dragstart",t)}}(this),dragenter:function(t){return function(i){return n(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var r;try{r=i.dataTransfer.effectAllowed}catch(u){}return i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",n(i),t.emit("dragover",i)}}(this),dragleave:function(n){return function(t){return n.emit("dragleave",t)}}(this),drop:function(t){return function(i){return n(i),t.drop(i)}}(this),dragend:function(n){return function(t){return n.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(n){return function(t){return n.listeners.push({element:t,events:{click:function(i){return(t!==n.element||i.target===n.element||u.elementInside(i.target,n.element.querySelector(".dz-message")))&&n.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},u.prototype.destroy=function(){var n;return this.disable(),this.removeAllFiles(!0),((n=this.hiddenFileInput)!=null?n.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,u.instances.splice(u.instances.indexOf(this),1)},u.prototype.updateTotalUploadProgress=function(){var e,r,n,t,u,i,o,f;if(t=0,n=0,e=this.getActiveFiles(),e.length){for(f=this.getActiveFiles(),i=0,o=f.length;i<o;i++)r=f[i],t+=r.upload.bytesSent,n+=r.upload.total;u=100*t/n}else u=100;return this.emit("totaluploadprogress",u,n,t)},u.prototype._getParamName=function(n){return typeof this.options.paramName=="function"?this.options.paramName(n):""+this.options.paramName+(this.options.uploadMultiple?"["+n+"]":"")},u.prototype.getFallbackForm=function(){var r,i,n,t;return(r=this.getExistingFallback())?r:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"<\/p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"><\/div>',i=u.createElement(n),this.element.tagName!=="FORM"?(t=u.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),t.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t!=null?t:i)},u.prototype.getExistingFallback=function(){var i,r,u,n,f,t;for(r=function(n){for(var i,t=0,r=n.length;t<r;t++)if(i=n[t],/(^| )fallback($| )/.test(i.className))return i},t=["div","form"],n=0,f=t.length;n<f;n++)if(u=t[n],i=r(this.element.getElementsByTagName(u)))return i},u.prototype.setupEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.addEventListener(i,f,!1));return r}());return u},u.prototype.removeEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.removeEventListener(i,f,!1));return r}());return u},u.prototype.disable=function(){var r,n,u,t,i;for(this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),t=this.files,i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(this.cancelUpload(r));return i},u.prototype.enable=function(){return this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()},u.prototype.filesize=function(n){var e,t,i,r,o,u,f,s;if(i=0,r="b",n>0){for(u=["TB","GB","MB","KB","b"],t=f=0,s=u.length;f<s;t=++f)if(o=u[t],e=Math.pow(this.options.filesizeBase,4-t)/10,n>=e){i=n/Math.pow(this.options.filesizeBase,4-t);r=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"<\/strong> "+r},u.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},u.prototype.drop=function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,this.emit("addedfiles",i),i.length&&(t=n.dataTransfer.items,t&&t.length&&t[0].webkitGetAsEntry!=null?this._addFilesFromItems(t):this.handleFiles(i)))},u.prototype.paste=function(n){var t,i;if((n!=null?(i=n.clipboardData)!=null?i.items:void 0:void 0)!=null)return this.emit("paste",n),t=n.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},u.prototype.handleFiles=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push(this.addFile(r));return i},u.prototype._addFilesFromItems=function(n){var r,t,u,f,i;for(i=[],u=0,f=n.length;u<f;u++)t=n[u],t.webkitGetAsEntry!=null&&(r=t.webkitGetAsEntry())?r.isFile?i.push(this.addFile(t.getAsFile())):r.isDirectory?i.push(this._addFilesFromDirectory(r,r.name)):i.push(void 0):t.getAsFile!=null?t.kind==null||t.kind==="file"?i.push(this.addFile(t.getAsFile())):i.push(void 0):i.push(void 0);return i},u.prototype._addFilesFromDirectory=function(n,t){var i,r;return i=n.createReader(),r=function(n){return function(i){for(var r,u=0,f=i.length;u<f;u++)r=i[u],r.isFile?r.file(function(i){if(!n.options.ignoreHiddenFiles||i.name.substring(0,1)!==".")return i.fullPath=""+t+"/"+i.name,n.addFile(i)}):r.isDirectory&&n._addFilesFromDirectory(r,""+t+"/"+r.name)}}(this),i.readEntries(r,function(n){if(typeof console!="undefined"&&console!==null)return typeof console.log=="function"?console.log(n):void 0})},u.prototype.accept=function(n,t){return n.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):u.isValidFile(n,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,t):t(this.options.dictInvalidFileType)},u.prototype.addFile=function(n){return n.upload={progress:0,total:n.size,bytesSent:0},this.files.push(n),n.status=u.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(t){return function(i){return i?(n.accepted=!1,t._errorProcessing([n],i)):(n.accepted=!0,t.options.autoQueue&&t.enqueueFile(n)),t._updateMaxFilesReachedClass()}}(this))},u.prototype.enqueueFiles=function(n){for(var i,t=0,r=n.length;t<r;t++)i=n[t],this.enqueueFile(i);return null},u.prototype.enqueueFile=function(n){if(n.status===u.ADDED&&n.accepted===!0){if(n.status=u.QUEUED,this.options.autoProcessQueue)return setTimeout(function(n){return function(){return n.processQueue()}}(this),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.");},u.prototype._thumbnailQueue=[],u.prototype._processingThumbnail=!1,u.prototype._enqueueThumbnail=function(n){if(this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(n),setTimeout(function(n){return function(){return n._processThumbnailQueue()}}(this),0)},u.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&this._thumbnailQueue.length!==0)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(n){return function(){return n._processingThumbnail=!1,n._processThumbnailQueue()}}(this))},u.prototype.removeFile=function(n){return n.status===u.UPLOADING&&this.cancelUpload(n),this.files=s(this.files,n),this.emit("removedfile",n),this.files.length===0?this.emit("reset"):void 0},u.prototype.removeAllFiles=function(n){var i,t,f,r;for(n==null&&(n=!1),r=this.files.slice(),t=0,f=r.length;t<f;t++)i=r[t],(i.status!==u.UPLOADING||n)&&this.removeFile(i);return null},u.prototype.createThumbnail=function(n,t){var i;return i=new FileReader,i.onload=function(r){return function(){if(n.type==="image/svg+xml"){r.emit("thumbnail",n,i.result);t!=null&&t();return}return r.createThumbnailFromUrl(n,i.result,t)}}(this),i.readAsDataURL(n)},u.prototype.createThumbnailFromUrl=function(n,t,i,r){var u;return u=document.createElement("img"),r&&(u.crossOrigin=r),u.onload=function(t){return function(){var f,e,r,s,h,c,l,a;return n.width=u.width,n.height=u.height,r=t.options.resize.call(t,n),r.trgWidth==null&&(r.trgWidth=r.optWidth),r.trgHeight==null&&(r.trgHeight=r.optHeight),f=document.createElement("canvas"),e=f.getContext("2d"),f.width=r.trgWidth,f.height=r.trgHeight,o(e,u,(h=r.srcX)!=null?h:0,(c=r.srcY)!=null?c:0,r.srcWidth,r.srcHeight,(l=r.trgX)!=null?l:0,(a=r.trgY)!=null?a:0,r.trgWidth,r.trgHeight),s=f.toDataURL("image/png"),t.emit("thumbnail",n,s),i!=null?i():void 0}}(this),i!=null&&(u.onerror=i),u.src=t},u.prototype.processQueue=function(){var r,t,i,n;if((t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,!(i>=t))&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));while(r<t){if(!n.length)return;this.processFile(n.shift());r++}}},u.prototype.processFile=function(n){return this.processFiles([n])},u.prototype.processFiles=function(n){for(var t,i=0,r=n.length;i<r;i++)t=n[i],t.processing=!0,t.status=u.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)},u.prototype._getFilesWithXhr=function(n){var t;return function(){var i,f,r,u;for(r=this.files,u=[],i=0,f=r.length;i<f;i++)t=r[i],t.xhr===n&&u.push(t);return u}.call(this)},u.prototype.cancelUpload=function(n){var i,t,r,f,e,o,s;if(n.status===u.UPLOADING){for(t=this._getFilesWithXhr(n.xhr),r=0,e=t.length;r<e;r++)i=t[r],i.status=u.CANCELED;for(n.xhr.abort(),f=0,o=t.length;f<o;f++)i=t[f],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else((s=n.status)===u.ADDED||s===u.QUEUED)&&(n.status=u.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()},e=function(){var t,n;return(n=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],typeof n=="function")?n.apply(this,t):n},u.prototype.uploadFile=function(n){return this.uploadFiles([n])},u.prototype.uploadFiles=function(n){var i,r,b,k,d,a,h,o,g,nt,tt,ot,it,st,s,rt,ht,ct,t,v,y,p,w,lt,at,vt,yt,c,pt,ut,ft,et,wt,l;for(t=new XMLHttpRequest,v=0,lt=n.length;v<lt;v++)i=n[v],i.xhr=t;ot=e(this.options.method,n);ht=e(this.options.url,n);t.open(ot,ht,!0);t.withCredentials=!!this.options.withCredentials;s=null;b=function(r){return function(){var u,e,f;for(f=[],u=0,e=n.length;u<e;u++)i=n[u],f.push(r._errorProcessing(n,s||r.options.dictResponseError.replace("{{statusCode}}",t.status),t));return f}}(this);rt=function(t){return function(r){var s,u,f,e,o,c,l,a,h;if(r!=null)for(u=100*r.loaded/r.total,f=0,c=n.length;f<c;f++)i=n[f],i.upload={progress:u,total:r.total,bytesSent:r.loaded};else{for(s=!0,u=100,e=0,l=n.length;e<l;e++)i=n[e],i.upload.progress===100&&i.upload.bytesSent===i.upload.total||(s=!1),i.upload.progress=u,i.upload.bytesSent=i.upload.total;if(s)return}for(h=[],o=0,a=n.length;o<a;o++)i=n[o],h.push(t.emit("uploadprogress",i,u,i.upload.bytesSent));return h}}(this);t.onload=function(i){return function(r){var f;if(n[0].status!==u.CANCELED&&t.readyState===4){if(s=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json"))try{s=JSON.parse(s)}catch(e){r=e;s="Invalid JSON response from server."}return rt(),200<=(f=t.status)&&f<300?i._finished(n,s,r):b()}}}(this);t.onerror=function(){return function(){if(n[0].status!==u.CANCELED)return b()}}(this);st=(pt=t.upload)!=null?pt:t;st.onprogress=rt;a={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&f(a,this.options.headers);for(k in a)d=a[k],d&&t.setRequestHeader(k,d);if(r=new FormData,this.options.params){ut=this.options.params;for(tt in ut)ct=ut[tt],r.append(tt,ct)}for(y=0,at=n.length;y<at;y++)i=n[y],this.emit("sending",i,t,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",n,t,r),this.element.tagName==="FORM")for(ft=this.element.querySelectorAll("input, textarea, select, button"),p=0,vt=ft.length;p<vt;p++)if(o=ft[p],g=o.getAttribute("name"),nt=o.getAttribute("type"),o.tagName==="SELECT"&&o.hasAttribute("multiple"))for(et=o.options,w=0,yt=et.length;w<yt;w++)it=et[w],it.selected&&r.append(g,it.value);else(!nt||(wt=nt.toLowerCase())!=="checkbox"&&wt!=="radio"||o.checked)&&r.append(g,o.value);for(h=c=0,l=n.length-1;0<=l?c<=l:c>=l;h=0<=l?++c:--c)r.append(this._getParamName(h),n[h],n[h].name);return this.submitRequest(t,r,n)},u.prototype.submitRequest=function(n,t){return n.send(t)},u.prototype._finished=function(n,t,i){for(var r,f=0,e=n.length;f<e;f++)r=n[f],r.status=u.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",n,t,i),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},u.prototype._errorProcessing=function(n,t,i){for(var r,f=0,e=n.length;f<e;f++)r=n[f],r.status=u.ERROR,this.emit("error",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",n,t,i),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},u}(i);n.version="4.2.0";n.options={};n.optionsForElement=function(t){if(t.getAttribute("id"))return n.options[u(t.getAttribute("id"))]};n.instances=[];n.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};n.autoDiscover=!0;n.discover=function(){var u,f,t,i,e,r;for(document.querySelectorAll?t=document.querySelectorAll(".dropzone"):(t=[],u=function(n){var u,i,f,r;for(r=[],i=0,f=n.length;i<f;i++)u=n[i],/(^| )dropzone($| )/.test(u.className)?r.push(t.push(u)):r.push(void 0);return r},u(document.getElementsByTagName("div")),u(document.getElementsByTagName("form"))),r=[],i=0,e=t.length;i<e;i++)f=t[i],n.optionsForElement(f)!==!1?r.push(new n(f)):r.push(void 0);return r};n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];n.isBrowserSupported=function(){var t,u,i,f,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){for(r=n.blacklistedBrowsers,i=0,f=r.length;i<f;i++)if(u=r[i],u.test(navigator.userAgent)){t=!1;continue}}else t=!1;else t=!1;return t};s=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;i<f;i++)r=n[i],r!==t&&u.push(r);return u};u=function(n){return n.replace(/[\-_](\w)/g,function(n){return n.charAt(1).toUpperCase()})};n.createElement=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]};n.elementInside=function(n,t){if(n===t)return!0;while(n=n.parentNode)if(n===t)return!0;return!1};n.getElement=function(n,t){var i;if(typeof n=="string"?i=document.querySelector(n):n.nodeType!=null&&(i=n),i==null)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};n.getElements=function(n,t){var h,r,i,u,f,o,s,e;if(n instanceof Array){i=[];try{for(u=0,o=n.length;u<o;u++)r=n[u],i.push(this.getElement(r,t))}catch(c){h=c;i=null}}else if(typeof n=="string")for(i=[],e=document.querySelectorAll(n),f=0,s=e.length;f<s;f++)r=e[f],i.push(r);else n.nodeType!=null&&(i=[n]);if(!(i!=null&&i.length))throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};n.confirm=function(n,t,i){return window.confirm(n)?t():i!=null?i():void 0};n.isValidFile=function(n,t){var f,u,i,r,e;if(!t)return!0;for(t=t.split(","),u=n.type,f=u.replace(/\/.*$/,""),r=0,e=t.length;r<e;r++)if(i=t[r],i=i.trim(),i.charAt(0)==="."){if(n.name.toLowerCase().indexOf(i.toLowerCase(),n.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(f===i.replace(/\/.*$/,""))return!0}else if(u===i)return!0;return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new n(this,t)})});typeof module!="undefined"&&module!==null?module.exports=n:window.Dropzone=n;n.ADDED="added";n.QUEUED="queued";n.ACCEPTED=n.QUEUED;n.UPLOADING="uploading";n.PROCESSING=n.UPLOADING;n.CANCELED="canceled";n.ERROR="error";n.SUCCESS="success";e=function(n){var s,r,f,h,e,i,c,t,o,u;for(c=n.naturalWidth,i=n.naturalHeight,r=document.createElement("canvas"),r.width=1,r.height=i,f=r.getContext("2d"),f.drawImage(n,0,0),h=f.getImageData(0,0,1,i).data,u=0,e=i,t=i;t>u;)s=h[(t-1)*4+3],s===0?e=t:u=t,t=e+u>>1;return o=t/i,o===0?1:o};o=function(n,t,i,r,u,f,o,s,h,c){var l;return l=e(t),n.drawImage(t,i,r,u,f,o,s,h,c/l)};f=function(n,t){var f,i,e,r,o,u,c,s,h;if(e=!1,h=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){if(f.type!=="readystatechange"||i.readyState==="complete")return(f.type==="load"?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0},o=function(){var n;try{s.doScroll("left")}catch(t){n=t;setTimeout(o,50);return}return r("poll")},i.readyState!=="complete"){if(i.createEventObject&&s.doScroll){try{h=!n.frameElement}catch(l){}h&&o()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()};f(window,n._autoDiscoverFunction)}.call(this);!function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return u({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return r||(r=i()),t=n("#"+r.containerId),t.length?t:(u&&(t=nt(r)),t)}function y(n,t,r){return u({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){o=n}function w(n,t,r){return u({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return u({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n,u){var f=i();t||r(f);h(n,f,u)||g(f)}function d(u){var f=i();return t||r(f),u&&0===n(":focus",u).length?void e(u):void(t.children().length&&t.remove())}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)h(n(u[r]),i)}function h(t,i,r){var u=r&&r.force?r.force:!1;return t&&(u||0===n(":focus",t).length)?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){e(t)}}),!0):!1}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;<\/button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function c(n){o&&o(n)}function u(u){function k(n){return null==n&&(n=""),new String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(){rt();ft();et();ot();st();ut()}function tt(){o.hover(lt,ct);!f.onclick&&f.tapToDismiss&&o.click(v);f.closeButton&&y&&y.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0);v(!0)});f.onclick&&o.click(function(n){f.onclick(n);v()})}function it(){o.hide();o[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown});f.timeOut>0&&(w=setTimeout(v,f.timeOut),h.maxHideTime=parseFloat(f.timeOut),h.hideEta=(new Date).getTime()+h.maxHideTime,f.progressBar&&(h.intervalId=setInterval(at,10)))}function rt(){u.iconClass&&o.addClass(f.toastClass).addClass(p)}function ut(){f.newestOnTop?t.prepend(o):t.append(o)}function ft(){u.title&&(d.append(f.escapeHtml?k(u.title):u.title).addClass(f.titleClass),o.append(d))}function et(){u.message&&(g.append(f.escapeHtml?k(u.message):u.message).addClass(f.messageClass),o.append(g))}function ot(){f.closeButton&&(y.addClass("toast-close-button").attr("role","button"),o.prepend(y))}function st(){f.progressBar&&(b.addClass("toast-progress"),o.prepend(b))}function ht(n,t){if(n.preventDuplicates){if(t.message===s)return!0;s=t.message}return!1}function v(t){var i=t&&f.closeMethod!==!1?f.closeMethod:f.hideMethod,r=t&&f.closeDuration!==!1?f.closeDuration:f.hideDuration,u=t&&f.closeEasing!==!1?f.closeEasing:f.hideEasing;if(!n(":focus",o).length||t)return(clearTimeout(h.intervalId),o[i]({duration:r,easing:u,complete:function(){e(o);f.onHidden&&"hidden"!==a.state&&f.onHidden();a.state="hidden";a.endTime=new Date;c(a)}}))}function ct(){(f.timeOut>0||f.extendedTimeOut>0)&&(w=setTimeout(v,f.extendedTimeOut),h.maxHideTime=parseFloat(f.extendedTimeOut),h.hideEta=(new Date).getTime()+h.maxHideTime)}function lt(){clearTimeout(w);h.hideEta=0;o.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function at(){var n=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;b.width(n+"%")}var f=i(),p=u.iconClass||f.iconClass;if("undefined"!=typeof u.optionsOverride&&(f=n.extend(f,u.optionsOverride),p=u.optionsOverride.iconClass||p),!ht(f,u)){l++;t=r(f,!0);var w=null,o=n("<div/>"),d=n("<div/>"),g=n("<div/>"),b=n("<div/>"),y=n(f.closeHtml),h={intervalId:null,hideEta:null,maxHideTime:null},a={toastId:l,state:"visible",startTime:new Date,options:f,map:u};return nt(),it(),tt(),c(a),f.debug&&console&&console.log(a),o}}function i(){return n.extend({},tt(),a.options)}function e(n){t||(t=r());n.is(":visible")||(n.remove(),n=null,0===t.children().length&&(t.remove(),s=void 0))}var t,o,s,l=0,f={error:"error",info:"info",success:"success",warning:"warning"},a={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.2",warning:b};return a}()})}("function"==typeof define&&define.amd?define:function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var o=this,h,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1;(t.attr("src")===r||t.attr("src")===!1)&&t.is("img")&&t.attr("src",e.placeholder);t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var r=t.attr("data-"+e.data_attribute),u,f;t.hide();t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')");t[e.effect](e.effect_speed);i.loaded=!0;u=n.grep(o,function(n){return!n.loaded});o=n(u);e.load&&(f=o.length,e.load.call(i,f,e))}).attr("src",t.attr("data-"+e.data_attribute))}});0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this};n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold};n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold};n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()};n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()};n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document);OpenriceAppCore={isReady:!1,initCore:function(){this.Class.Event.call(this);var n=this;n.referrer=document.referrer;window.addEventListener?window.addEventListener("hashchange",function(){$("body").trigger("app.hashchange",[window.location.hash.substring(1)])},!1):window.attachEvent("onhashchange",function(){$("body").trigger("app.hashchange",[window.location.hash.substring(1)])});n.initViews();n.Analytic.init()},initViews:function(){var n=this;n.Helpers.initJsHashLink();n.Helpers.isLoggedIn()?n.Helpers.syncUserDetail(function(){n.executeViewControllers()}):n.executeViewControllers()},executeViewControllers:function(){var n=this;$("[data-controller]").each(function(){var t=$(this).data("controller"),i=$(this).data("action")?$(this).data("action"):"init";t!==""&&n[t]!==undefined&&typeof n[t].Controller[i]=="function"&&n[t].Controller[i]()});$("body").trigger("app.view.ready");n.isReady=!0}};OpenriceAppCore.Util={initCore:function(){$("body").trigger("app.util.ready")}};OpenriceAppCore.Helpers={isMobile:$("html").hasClass("or-mobile-web"),initJsHashLink:function(){var n=this;$("body").on("click","[data-href]",function(){var t=$(this).attr("data-href").substring(1);n.changeHash(t)})},hideNodeProjectPopupForm:function(){var n=this;$("html").removeClass("no-scroll");$(".login-frame").hide();$("body").css({position:"",top:""});n.resetBodyScrollPosition()},hideNodeProjectPopupLoginForm:function(){this.hideNodeProjectPopupForm();$(window).trigger("nodeProjectLoginPopup:hide")},setBodyScrollPosition:function(){var t=this,n;~~$("body").attr("data-body-scroll-top")==0&&(n=~~$(window).scrollTop(),$("body").attr("data-body-scroll-top",n))},resetBodyScrollPosition:function(){var n=~~$("body").attr("data-body-scroll-top");n>0&&($(window).scrollTop(n),$("body").attr("data-body-scroll-top",0))},changeHash:function(n){var t=this;routie.reload(n);$("body").trigger("app.hashchange",[n]);(n===""||n==="#")&&t.enableMobileBodyScroll()},isLoggedIn:function(){return console.warn("missing implementation of OpenriceApp.Helpers.isLoggedIn()"),!1},syncUserDetail:function(n){console.warn("missing implementation of OpenriceApp.Helpers.syncUserDetail()");typeof n=="function"&&n()},disableMobileBodyScroll:function(){$("html").addClass("no-scroll")},enableMobileBodyScroll:function(){$("html").removeClass("no-scroll")},changeMobileBodyScroll:function(n){n?this.enableMobileBodyScroll():this.disableMobileBodyScroll()},buildTemplate:function(n,t){var i=$(n).html(),r=Handlebars.compile(i);return r(t)},sendGAEvent:function(n,t,i,r,u){return OpenriceApp.Analytic.sendGAEvent(n,t,i,r,u)}};OpenriceAppCore.Widgets={};OpenriceAppCore.Class={Event:undefined,View:undefined,SubView:undefined};OpenriceAppCore.Nav={Controller:undefined};Modernizr.localstorage?OpenriceAppCore.localStorage={length:localStorage.length,key:function(n){return window.localStorage.key(n)},getItem:function(n){try{return window.localStorage.getItem(n)}catch(t){return console.warn(t),!1}},setItem:function(n,t){try{var i=window.localStorage.setItem(n,t);return this.length=window.localStorage.length,i}catch(r){return console.warn(r),!1}},removeItem:function(n){try{var t=window.localStorage.removeItem(n);return this.length=window.localStorage.length,t}catch(i){return console.warn(i),!1}},clear:function(){var n=window.localStorage.clear();return this.length=window.localStorage.length,n}}:(OpenriceAppCore.localStorage={_prefix:"_storage_",_getKeys:function(){var n=[];return!$.cookie("ORLocalStorageKeys")||(n=$.parseJSON($.cookie("ORLocalStorageKeys"))),n},length:0,key:function(n){isNaN(parseInt(n))&&(n=0);var t=this._getKeys();return n>=t.length?null:t[n]},getItem:function(n){if(n!=="ORLocalStorageKeys"){var t=jQuery.cookie((this._prefix+n).toString());return!t?null:t}},setItem:function(n,t){if(n!=="ORLocalStorageKeys"){$.cookie((this._prefix+n).toString(),t,{path:"/"});var i=this._getKeys();i.indexOf(n)===-1&&(this.length=i.push(n),$.cookie("ORLocalStorageKeys",JSON.stringify(i),{path:"/"}))}},removeItem:function(n){var r=$.removeCookie((this._prefix+n).toString(),{path:"/"}),t,i;r&&(t=this._getKeys(),i=t.indexOf(n),i>-1&&t.splice(i,1),this.length=t.length,$.cookie("ORLocalStorageKeys",JSON.stringify(t),{path:"/"}))},clear:function(){var n=this._getKeys();n.forEach(function(n){$.removeCookie((this._prefix+n).toString(),{path:"/"})});$.removeCookie("ORLocalStorageKeys",{path:"/"});this.length=0}},!$.cookie("ORLocalStorageKeys")||(OpenriceAppCore.localStorage.length=$.parseJSON($.cookie("ORLocalStorageKeys")).length));OpenriceAppCore.Analytic={init:function(){this.initGAEventClick()},initGAEventClick:function(){function t(t,i){function e(t,i){var s=t.pop(),u=n.manipulateGAData(r,s),h=i==="ga"?n.sendGAEvent:OpenriceApp.Api.Orga.click;h(u.category,u.action,u.label,u.value,function(){t.length===0?f&&n.simulateClickEvent(r,o):e(t,"orga")})}var r=t.currentTarget,o={ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,button:t.button},f=r.tagName=="A",u;t.originalEvent.orSimulateClick||(u=JSON.parse($(r).attr("data-"+i+"-event")),u!==""&u.length>0&&(f&&t.preventDefault(),e(u,i)))}var n=this;$("body").on("app.ga.add",function(n,i){t(i,"ga")});$("body").on("app.orga.add",function(n,i){t(i,"orga")});$("body").on("click",'[data-ga-event!=""][data-ga-event]',function(n){$("body").trigger("app.ga.add",[n])});$("body").on("click",'[data-orga-event!=""][data-orga-event]',function(n){$("body").trigger("app.orga.add",[n])})},manipulateGAData:function(n,t){var r=t.action,u,i,f;return r[0]=="."&&(u=$(n).closest("[data-ga-action-prefix]").data("ga-action-prefix"),typeof u!="undefined"?r=u+r:OpenriceApp.Config.env!="production"&&console.error("GA action prefix is missing: ",t)),i=t.label,f=$(n).closest("[data-ga-source]").data("ga-source"),typeof f!="undefined"&&(i!==null&&i!==""&&(i+="; "),i+="Sr:"+f),{category:t.category,action:r,label:i,value:t.value}},sendGAEvent:function(n,t,i,r,u){var f,e,o;typeof n!="undefined"&&typeof t!="undefined"&&(f={event:"click",category:n,action:t},typeof i!="undefined"&&i!=null&&(f.label=i),typeof r!="undefined"&&r!=null&&(f.value=r),typeof u=="function"&&(e=!1,o=function(){e||(e=!0,u())},f.eventCallback=o,setTimeout(o,2e3)),typeof dataLayer=="undefined"&&(dataLayer=[]),dataLayer.push(f),OpenriceApp.Config.env!="production"&&console.log("Send GA event: ",f))},simulateClickEvent:function(n,t){var i=null;try{if(typeof MouseEvent=="function")i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,button:t.button});else throw"noMouseEventException";}catch(r){i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null)}i.orSimulateClick=!0;n.dispatchEvent?n.dispatchEvent(i):n.click&&n.nodeName.toLowerCase()==="input"?n.click():n.fireEvent&&n.fireEvent("onclick",i)}};$(function(){OpenriceApp.init()});typeof console=="undefined"&&(window.console=window.console||{},window.console.log=window.console.log||function(){},window.console.debug=window.console.debug||window.console.log,window.console.assert=window.console.assert||window.console.log,window.console.warn=window.console.warn||window.console.log,window.console.info=window.console.info||window.console.log,window.console.error=window.console.error||window.console.log);$.extend($.expr[":"],{containsIn:function(n,t,i){return(n.textContent||n.innerText||"").toLowerCase().indexOf((i[3]||"").toLowerCase())>=0}});$.extend($.expr[":"],{containsInTagOrSynonyms:function(n,t,i){var r="",u,f;return typeof $(n).data("tag")!="undefined"&&(r+=$(n).data("tag").toString()||"||"),typeof $(n).data("synonyms")!="undefined"&&(r+=$(n).data("synonyms").toString()||""),u=r.toLowerCase().replace(/\s+/g,""),f=(i[3]||"").toLowerCase().replace(/\s+/g,""),u.indexOf(f)>=0}});$.extend($.expr[":"],{countAbove:function(n,t,i){var r=$(n).attr("data-count");return!isNaN(r)&&r>i[3]?!0:!1}});OpenriceApp=$.extend({},OpenriceAppCore);$.extend(OpenriceApp,{events:{},init:function(){this.v4NoConflict();this.initToastr();OpenriceApp.Widgets.init();$("body").on("app.hashchange",function(n,t){OpenriceApp.trigger("hashchange",t)});$("body").on("app.view.ready",function(){OpenriceApp.Helpers.updateLoginBtnUrl();OpenriceApp.trigger("ready");OpenriceApp.trigger("hashchange",window.location.hash.substring(1));OpenriceApp.Helpers.saveRegionCookie();OpenriceApp.Api.Orga.pageview();OpenriceApp.Util.init()});this.initCore();this.wrapHistoryEvent();this.initTooltip();this.initImpressionClick();OpenriceApp.Helpers.setWindowsHostedWebAppNavigation()},initToastr:function(){toastr.options=$("html").hasClass("or-mobile-web")?{closeButton:!1,progressBar:!1,newestOnTop:!0,positionClass:"toast-top-full-width",preventDuplicates:!0,showDuration:300,hideDuration:300,timeOut:3e4}:{closeButton:!1,progressBar:!1,newestOnTop:!0,positionClass:"toast-top-center",preventDuplicates:!0,showDuration:300,hideDuration:300,timeOut:2e3}},wrapHistoryEvent:function(){var n=function(n){var t=history[n];return function(){var r=t.apply(this,arguments),i=document.createEvent("CustomEvent");return i.initCustomEvent(n,!1,!1,{arguments:arguments}),window.dispatchEvent(i),r}};history.pushState=n("pushState");history.replaceState=n("replaceState")},registerDocumentEventHandler:function(n,t){typeof t=="function"&&typeof n=="string"&&(this.events[n]===undefined&&this.registerNewDocumentEvent(n),this.events[n].queue.push(t))},registerNewDocumentEvent:function(n){var t=this;t.events[n]={};t.events[n].queue=[];$(document).on(n,function(i){for(var u=t.events[n].queue,r=0;r<u.length;r++)typeof u[r]=="function"&&u[r](i)})},updateBrowserState:function(n,t){var i=document.title;n==="replace"&&typeof history.replaceState!="undefined"?history.replaceState(i,document.title,t):n==="push"&&typeof history.replaceState!="undefined"&&history.pushState(i,document.title,t)},updateListingBrowserState:function(n,t,i,r){var u={page:r,data:i};n==="replace"&&typeof history.replaceState!="undefined"?history.replaceState(u,document.title,t):n==="push"&&typeof history.replaceState!="undefined"&&history.pushState(u,document.title,t)},changeUrlWithoutReloadTo:function(n){typeof history.replaceState!="undefined"?history.replaceState({},{},n):alert("Browser does not support HTML5.")},changeParamWithoutReloadTo:function(n){var t=window.location.origin,i=window.location.pathname;this.changeUrlWithoutReloadTo(t+i+"?"+n)},v4NoConflict:function(){typeof OpenriceAppv4!="undefined"&&typeof OpenriceAppv4.resolveConflict=="function"&&OpenriceAppv4.resolveConflict()},initTooltip:function(){$('[data-toggle="tooltip"]').tooltip()},initImpressionClick:function(){if(OpenriceApp.Api&&OpenriceApp.Api.Orga){var n=[];if($('[data-impression!=""][data-impression]:not(.bx-clone [data-impression])').each(function(){var t=this,i=$(t).data("impression");Array.isArray(i)?Array.prototype.push.apply(n,i):n.push(i);$(t).attr("data-impression-click",$(t).attr("data-impression"));$(t).removeAttr("data-impression");$(t).removeData("impression")}),$('[data-impression!=""][data-impression]').each(function(){var n=this;$(n).attr("data-impression-click",$(n).attr("data-impression"));$(n).removeAttr("data-impression");$(n).removeData("impression")}),n.length>0){OpenriceApp.Api.Orga.impression({datalabels:n});$('[data-impression-click!=""][data-impression-click]').on("click",function(n){var i;if(!n.originalEvent.orSimulateClick){var r=this,u={ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,button:n.button},t=$(r).data("impression-click");t!==""&&(n.preventDefault(),i=[],Array.isArray(t)?Array.prototype.push.apply(i,t):i.push(t),OpenriceApp.Api.Orga.impressionClick({datalabels:i},function(){OpenriceApp.Analytic.simulateClickEvent(r,u)}))}})}}}});$.extend(OpenriceApp.Util,{init:function(){var n=this;n.recoverTokens();n.applyHistoryManipulation();n.generateWebHash();n.generateGuestTokens();n.initCore()},applyHistoryManipulation:function(){window.addEventListener("popstate",function(){},!1)},generateWebHash:function(){$.cookie("webhash")||typeof uuid=="function"&&typeof uuid.v4=="function"&&$.cookie("webhash",uuid.v4(),{expires:3650,domain:OpenriceApp.Config.cookieDomain,path:"/"})},setUserLoginData:function(n){n!=null&&(OpenriceApp.localStorage.removeItem("ORSearchHistory"),OpenriceApp.localStorage.setItem("userId",n.userId),OpenriceApp.localStorage.setItem("username",n.username),OpenriceApp.localStorage.setItem("userGrade",n.userGrade),OpenriceApp.localStorage.setItem("isVipUser",n.isVipUser),typeof n.photo!="undefined"&&OpenriceApp.localStorage.setItem("userPhotoUrl",n.photo.urls.thumbnail),typeof n.coverPhoto!="undefined"&&OpenriceApp.localStorage.setItem("userCoverPhotoUrl",n.coverPhoto.urls.icon),OpenriceApp.Helpers.setSyncUsernameCookie(n.username))},removeUserLoginData:function(){OpenriceApp.localStorage.removeItem("userId");OpenriceApp.localStorage.removeItem("username");OpenriceApp.localStorage.removeItem("userGrade");OpenriceApp.localStorage.removeItem("userPhotoUrl");OpenriceApp.localStorage.removeItem("userCoverPhotoUrl");OpenriceApp.localStorage.removeItem("isVipUser");$.removeCookie("syncUsername",{domain:OpenriceApp.Config.cookieDomain,path:"/"})},recoverTokens:function(){var n=$.cookie(OpenriceApp.Config.authACookie)!=null;if(n){var t=$.cookie(OpenriceApp.Config.authECookie)!=null,i=$.cookie(OpenriceApp.Config.ssoToken)!=null,r=$.cookie(OpenriceApp.Config.isGuestCookie)==="1";if(!t||!i&&!r){var u=$.cookie(OpenriceApp.Config.authACookie),f=$.cookie(OpenriceApp.Config.authRCookie),e=$.cookie(OpenriceApp.Config.authECookie),o=$.cookie(OpenriceApp.Config.isGuestCookie);OpenriceApp.Api.PopupLogin.syncLogin("",u,f,e,"","",o,"Country")}}},generateGuestTokens:function(){var t=this,n=$.cookie(OpenriceApp.Config.authACookie)!=null;n||OpenriceApp.Api.PopupLogin.generateGuestTokens(function(){},function(){})}});$.extend(OpenriceApp.Helpers,{isIOS:function(){var n=new MobileDetect(window.navigator.userAgent);return n.is("iOS")},disableScroll:function(){function n(n){n=n||window.event;n.preventDefault&&n.preventDefault();n.returnValue=!1}function i(i){for(var r=t.length;r--;)if(i.keyCode===t[r]){n(i);return}}var t=[37,38,39,40];window.addEventListener&&window.addEventListener("DOMMouseScroll",n,!1);window.onmousewheel=document.onmousewheel=n;document.onkeydown=i},enableScroll:function(){function n(n){n=n||window.event;n.preventDefault&&n.preventDefault();n.returnValue=!1}window.removeEventListener&&window.removeEventListener("DOMMouseScroll",n,!1);window.onmousewheel=document.onmousewheel=document.onkeydown=null},onCloseAddEmailPage:function(){$("#is-standalone-page").length?window.location.href="/":OpenriceAppCore.Helpers.hideNodeProjectPopupForm()},getCurrentLocation:function(n,t){Modernizr.geolocation?navigator.geolocation.getCurrentPosition(function(t){OpenriceApp.localStorage.setItem("OR_AcceptedGeoLocation","1");typeof n=="function"&&n(t)},function(n){OpenriceApp.localStorage.setItem("OR_AcceptedGeoLocation","0");typeof t=="function"&&t(n)}):alert("geolocation is not supported!")},getCurrentUrl:function(){return window.location.origin+window.location.pathname},changeCurrentParam:function(n){window.href=this.getCurrentUrl+n},print:function(){window.print()},Loaders:{},showLoader:function(n){for(var t,i=0;i<10;i++)if(this.Loaders[i]===undefined){t=i;break}return n?($(n).append('<div id="or-temp-loader"><div class="loader"><\/div><\/div>'),this.Loaders[t]=$(n).find("#or-temp-loader")):($("html").append('<div id="or-temp-loader" class="full"><div class="loader"><\/div><\/div>'),this.Loaders[t]=$("html").find("#or-temp-loader.full")),t},deleteLoader:function(n){$(this.Loaders[n]).remove()},isLoggedIn:function(){return OpenriceApp.Helpers.isWebViewInApp()?$.cookie("or_app_accesstoken")!=null:$.cookie(OpenriceApp.Config.authACookie)!=null&&$.cookie(OpenriceApp.Config.isGuestCookie)!=="1"},isLoginRequired:function(){return OpenriceApp.Helpers.isLoggedIn()?!1:(routie("loginForm"),!0)},isWebViewInApp:function(){return $("html").hasClass("or-webview-in-app")},getParameterByName:function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))},isOverMinimumLength:function(n){var i=new RegExp("[-|-|-|-|-]"),t=!1;return i.test(n)?n.length>0&&(t=!0):(n.length>1||n.length===0)&&(t=!0),t},updateLoginBtnUrl:function(n){var i=window.location.href,t=$("#js-login-url").data("loginurlbase")+"?returnUrl="+encodeURIComponent(i);return!n||n!==!0||(t=t+"&phoneSignUpOnly=true"),$("#js-login-url").data("href",t),t},redirectLogin:function(n){var i=!!n&&!!n.isPhoneSignUpOnly&&n.isPhoneSignUpOnly?!0:!1,t;!!n&&!!n.url&&n.url.length>0?(t=$("#js-login-url").data("loginurlbase")+"?returnUrl="+encodeURIComponent(n.url),i&&(t=t+"&phoneSignUpOnly=true"),window.location.href=t):window.location.href=this.updateLoginBtnUrl(i)},refreshLikeCount:function(n,t){var i=parseInt($(n).text(),10);isNaN(i)||(t.toUpperCase()==="PUT"&&$(n).html(++i),t.toUpperCase()==="DELETE"&&$(n).html(--i))},getUserDetail:function(n,t,i){var r=n||function(){},u=t||function(){},f=i||function(){};$.get("/api/auth/userdetail",{dataType:"json"}).done(r).fail(u).always(f)},setSyncUsernameCookie:function(n){var t=new Date;t.setTime(t.getTime()+9e5);$.cookie("syncUsername",n,{expires:t,domain:OpenriceApp.Config.cookieDomain,path:"/"})},syncUserDetail:function(n){var t=this;$.cookie("syncUsername")===undefined||$.cookie("syncUsername")!==OpenriceApp.localStorage.getItem("username")?OpenriceApp.Helpers.getUserDetail(function(n){OpenriceApp.Helpers.updateLocalStorage(n);OpenriceApp.Helpers.setSyncUsernameCookie(n.username)},function(){},function(){n()}):n()},updateLocalStorage:function(n){var t=n.coverPhoto.urls.thumbnail,i=n.userGrade,r=n.userId,u=n.photo.urls.thumbnail,f=n.username,e=n.isVipUser;OpenriceApp.localStorage.setItem("userCoverPhotoUrl",t);OpenriceApp.localStorage.setItem("userGrade",i);OpenriceApp.localStorage.setItem("userId",r);OpenriceApp.localStorage.setItem("userPhotoUrl",u);OpenriceApp.localStorage.setItem("username",f);OpenriceApp.localStorage.setItem("isVipUser",e)},userGradeConvertor:function(n){return $("nav").data("user-grade-format").replace("{0}",n)},checkIsVipUser:function(){return OpenriceApp.localStorage.getItem("isVipUser")==="1"},sendGA:function(n){var t={url:window.location.pathname,event:"virtual-page-view"};$.extend(t,n);typeof dataLayer=="undefined"&&(dataLayer=[]);dataLayer.push(t)},setWindowsHostedWebAppNavigation:function(){if(typeof Windows!="undefined"&&typeof window.Windows.UI!="undefined"){var n=Windows.UI.Core.SystemNavigationManager.getForCurrentView();n.addEventListener("backrequested",function(n){n.handled=!0;history.back()});window.addEventListener("load",function(){n.appViewBackButtonVisibility=Windows.UI.Core.AppViewBackButtonVisibility.visible})}},saveRegionCookie:function(){var n={};typeof $.cookie($("body").data("region-cookie-name"))!="undefined"&&(n=JSON.parse($.cookie($("body").data("region-cookie-name"))));typeof n[$("body").data("country-code").toLowerCase()]=="undefined"&&(n[$("body").data("country-code").toLowerCase()]=$("body").data("regionid"),$.cookie($("body").data("region-cookie-name"),JSON.stringify(n),{expires:$("body").data("region-cookie-age"),domain:OpenriceApp.Config.cookieDomain,path:"/"}),$.cookie("RegionId",$("body").data("regionid"),{expires:$("body").data("region-cookie-age"),path:"/"}))},formatBookmarkCounter:function(n){return n=n>-1?n:0,n<=0?"":n>=1e3?(parseInt(n)/1e3).toFixed(1).replace(/\.?0*$/,"")+"K":n}});OpenriceApp.referrer="",function(){var n="#popup-ad-container",t=$(n).find("#popup-ad div[id^=div-gpt]"),i=function(n){var i=$(window).width()/$(n).width(),r=($(window).height()-40)/$(n).height(),t=Math.min(i,r);t=t<1?1:t;$(n).css("transform","scale("+t+")")};window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(r){if(r.slot.getSlotElementId()==t.attr("id")&&!r.isEmpty){$(n).removeClass("hide");i(t);$(window).on("resize",function(){i(t)})}})});$(n).on("click",function(){return $(n).remove(),!1})}();typeof OpenriceApp!="undefined"&&(OpenriceApp.Config={cookieDomain:".openrice.com",orgaUrlPrefix:"https://orga.openrice.com"},window.location.hostname.indexOf(".openrice.com.cn")>-1&&(OpenriceApp.Config.cookieDomain=".openrice.com.cn",OpenriceApp.Config.orgaUrlPrefix="https://orga.openrice.com.cn"));typeof OpenriceAppCampaign!="undefined"&&(OpenriceAppCampaign.Config={cookieDomain:".openrice.com",orgaUrlPrefix:"https://orga.openrice.com"},window.location.hostname.indexOf(".openrice.com.cn")>-1&&(OpenriceAppCampaign.Config.cookieDomain=".openrice.com.cn",OpenriceAppCampaign.Config.orgaUrlPrefix="https://orga.openrice.com.cn"));typeof OpenriceApp!="undefined"&&(OpenriceApp.Config.env="production",OpenriceApp.Config.ssoToken="orst2",OpenriceApp.Config.authACookie="autha",OpenriceApp.Config.authRCookie="authr",OpenriceApp.Config.authECookie="authe",OpenriceApp.Config.authCookie="auth",OpenriceApp.Config.isGuestCookie="isguest");typeof OpenriceAppCampaign!="undefined"&&(OpenriceAppCampaign.Config.env="production",OpenriceAppCampaign.Config.ssoToken="orst2",OpenriceAppCampaign.Config.authACookie="autha",OpenriceAppCampaign.Config.authRCookie="authr",OpenriceAppCampaign.Config.authECookie="authe",OpenriceAppCampaign.Config.authCookie="auth",OpenriceAppCampaign.Config.isGuestCookie="isguest",OpenriceAppCampaign.Config.GTMContainerId="GTM-K6M5TR");OpenriceApp.Api={Poi:undefined,User:undefined,Media:undefined,Review:undefined,PopupLogin:undefined,Booking:undefined,readystate:{networkError:0,done:4},statusText:{error:"error",timeout:"timeout",abort:"abort"}};OpenriceApp.Api.call=function(n,t,i,r,u,f){return $.ajax({url:n,type:t,data:i,success:r,error:u,complete:f})};OpenriceApp.Api.callwithCredentials=function(n,t,i,r,u,f,e){var o=0;return typeof e!=undefined&&e>0&&(o=e),$.ajax({url:n,type:t,data:i,xhrFields:{withCredentials:!0},success:r,error:u,complete:f,timeout:o})};OpenriceApp.Api.callNoCache=function(n,t,i,r,u,f){return $.ajax({url:n,type:t,data:i,cache:!1,success:r,error:u,complete:f})};OpenriceApp.Api.upload=function(n,t,i,r,u,f,e){function s(){var n=new window.XMLHttpRequest;return n.upload.addEventListener("progress",h,!1),n}function h(n){if(n.lengthComputable){var t=(n.loaded/n.total*100).toFixed(2);typeof e=="function"&&e(t)}}var o=this;return $.ajax({xhr:s,url:n,type:t,data:i,processData:!1,contentType:!1,success:r,error:function(n){var t=n.readyState;t===o.readystate.done?u(n):t===o.readystate.networkError&&f(n)}})};OpenriceApp.Api.abort=function(n){this.isPending(n)&&n.abort()};OpenriceApp.Api.isPending=function(n){return n&&n.abort&&n.readyState!=this.readystate.done};OpenriceApp.Api.isAbort=function(n){return n&&n.statusText&&n.statusText==OpenriceApp.Api.statusText.abort};OpenriceApp.Api.isError=function(n){return n&&n.statusText&&n.statusText==OpenriceApp.Api.statusText.error};OpenriceApp.Api.isTimeout=function(n){return n&&n.statusText&&n.statusText==OpenriceApp.Api.statusText.timeout};OpenriceApp.Api.scriptBundles=function(n){var t=this;return n.split(",").map(function(n){return t.scriptBundle(n)})};OpenriceApp.Api.scriptBundle=function(n){return $.ajax({url:n,dataType:"script",cache:!0})};OpenriceApp.Api.Orga={ajax:function(n,t,i){OpenriceApp.Config.env=="production"?$.ajax(t).always(function(){typeof i=="function"&&i()}):(console.log("Send ORGA "+n+" on production / preprod only: ",t),typeof i=="function"&&i())},pageview:function(){OpenriceApp.Api.Orga.ajax("pageview",{url:OpenriceApp.Config.orgaUrlPrefix+"/orga/api/log/pageview",type:"get",xhrFields:{withCredentials:!0}})},runClickEventApi:function(n,t){var i=typeof t=="function"?1e3:6e4;OpenriceApp.Api.Orga.ajax("click event",{url:OpenriceApp.Config.orgaUrlPrefix+"/orga/api/log/webevents",type:"post",xhrFields:{withCredentials:!0},data:n,timeout:i},t)},impression:function(n){if(typeof n!="undefined"){var t={action:"Impression",label:typeof n=="object"?JSON.stringify(n):n};OpenriceApp.Api.Orga.ajax("impression",{url:OpenriceApp.Config.orgaUrlPrefix+"/orga/api/log/webevents",type:"post",xhrFields:{withCredentials:!0},data:t})}},impressionClick:function(n,t){if(typeof n!="undefined"){var i={action:"Click",label:typeof n=="object"?JSON.stringify(n):n};OpenriceApp.Api.Orga.runClickEventApi(i,t)}},click:function(n,t,i,r,u){var f={action:t,label:typeof i=="object"?JSON.stringify(i):i};!n||(f.category=n);!r||(f.value=r);OpenriceApp.Api.Orga.runClickEventApi(f,u);OpenriceApp.Config.env!="production"&&console.log("Send ORGA event: ",f)},event:function(n,t,i,r){return OpenriceApp.Api.Orga.adclick(i,t,n,r)},adclick:function(n,t,i,r){if(typeof n!="undefined"&&typeof t!="undefined"){var u={label:n,action:t};typeof i!="undefined"&&(u.category=i);typeof r!="undefined"&&(u.value=r);OpenriceApp.Api.Orga.ajax("adsclick event",{url:OpenriceApp.Config.orgaUrlPrefix+"/orga/api/log/adsclick",type:"get",xhrFields:{withCredentials:!0},data:u})}}};OpenriceApp.Api.Poi={uiCity:$("body").data("uicity"),uiLang:$("body").data("uilang"),getStatus:function(n,t){var i=this,r={uiCity:i.uiCity,uiLang:i.uiLang,poiId:n};return OpenriceApp.Api.call("/api/poi/status","get",r,t)},directBookmark:function(n,t){var r=this,i={poiId:n.poiId};return OpenriceApp.Api.call("/api/poi/direct-bookmark","put",i,t)},bookmark:function(n,t){var i=this,r={uiLang:i.uiLang,poiId:n.poiId,categoryIds:n.categoryIds,categoryNames:n.categoryNames,isPrivate:n.isPrivate,preselect:!n.preselect?!0:n.preselect};return OpenriceApp.Api.call("/api/poi/bookmark","put",r,t)},unbookmark:function(n,t){var i=this,n={uiLang:i.uiLang,poiId:n.poiId,preselect:!n.preselect?!0:n.preselect};return OpenriceApp.Api.call("/api/poi/bookmark","delete",n,t)},getBookmarkStatus:function(n,t){var i={poiId:n};return OpenriceApp.Api.call("/api/poi/bookmark","get",i,t)},getBookmarkCategory:function(n,t){var i=this,n={uiLang:i.uiLang,preselect:!n.preselect?!0:n.preselect};return OpenriceApp.Api.call("/api/poi/bookmark/category","get",n,t)},createBookmarkCategory:function(n,t){var i=this,r={uiLang:i.uiLang,nameLang1:n};return OpenriceApp.Api.call("/api/poi/bookmark/category","put",r,t)},updateBookmarkCategory:function(n,t,i){var r=this,u={uiLang:r.uiLang,bookmarkCategoryId:t,nameLang1:n};return OpenriceApp.Api.call("/api/poi/bookmark/category","put",u,i)},deleteBookmarkCategory:function(n,t){var i=this,r={uiLang:i.uiLang,bookmarkCategoryId:n};return OpenriceApp.Api.call("/api/poi/bookmark/category","delete",r,t)},sendSearchHistory:function(n,t,i){var r=this,u="/api/poi/sendhistory?"+n,f={uiCity:r.uiCity,uiLang:r.uiLang,userId:t};return OpenriceApp.Api.call(u,"get",f,i)},getQueuingStatus:function(n,t,i){var r=this,u={uiCity:r.uiCity,uiLang:r.uiLang,poiId:n};return OpenriceApp.Api.callNoCache("/api/poi/queuing/status","get",u,t,i)}};OpenriceApp.Api.PopupLogin={uiCity:$("body").data("uicity"),uiLang:$("body").data("uilang"),logout:function(n){return OpenriceApp.Api.call("/api/auth/logout","post",null,n)},forgetPassword:function(n,t,i,r){var u={email:n,uiLang:t};return OpenriceApp.Api.call("/api/user/forgetpassword","post",u,i,null,r)},login:function(n,t,i,r,u){var f={username:n,password:t,uiLang:i};return OpenriceApp.Api.call("/api/auth/login","post",f,r,null,u)},generateGuestTokens:function(n,t){return OpenriceApp.Api.call("/api/auth/guest","post",{},n,null,t)},syncLogin:function(n,t,i,r,u,f,e,o,s){var l=this;typeof n=="undefined"&&(n="");var h=n+"/api/auth/sync/login",c={authACookie:t,authRCookie:i,authECookie:r,authCookie:u,username:f,isGuest:e,type:o};return OpenriceApp.Api.callwithCredentials(h,"post",c,null,null,s,3e3)},syncLogout:function(n,t,i){var f=this;typeof n=="undefined"&&(n="");var r=n+"/api/auth/sync/logout",u={type:t};return OpenriceApp.Api.callwithCredentials(r,"post",u,null,null,i,3e3)},socialLogin:function(n,t,i,r){var f=this,u={token:n,socialLoginType:i,uiLang:t};return OpenriceApp.Api.call("/api/auth/social/login","post",u,r)},registration:function(n,t,i){return OpenriceApp.Api.call("/api/user/registration","post",n,t,null,i)},getSuggestedName:function(n,t){var i={name:n};return OpenriceApp.Api.call("/api/user/suggestion/name","get",i,t)},resendActivateEmail:function(n,t,i){var r={username:n,uiLang:t};return OpenriceApp.Api.call("/api/user/activate/resend","post",r,i)},setforgetpassword:function(n,t,i,r,u,f){var e={confirmCode:n,email:t,password:i,uiLang:r};return OpenriceApp.Api.call("/api/user/setforgetpassword","post",e,u,null,f)}};OpenriceApp.Api.User={uiCity:$("body").data("uicity"),uiLang:$("body").data("uilang"),checkEmailVerified:function(n,t){return OpenriceApp.Api.call("/api/user/check-email-verified","get",{},n,t)},follow:function(n,t,i){var r={userId:n};return OpenriceApp.Api.call("/api/user/follow","put",r,t,i)},unfollow:function(n,t,i){var r={userId:n};return OpenriceApp.Api.call("/api/user/follow","delete",r,t,i)},getFollowStatus:function(n,t,i){var r={userId:n};return OpenriceApp.Api.call("/api/user/followstatus","get",r,t,i)}};OpenriceApp.Class={};OpenriceApp.Class.Event=function(){var t=this,n={};t.on=function(t,i){if(typeof t=="string"){if(t==="ready"&&OpenriceApp.isReady===!0){typeof i=="function"&&i();return}n[t]===undefined&&(n[t]=[]);typeof i=="function"&&n[t].push(i)}};t.off=function(t,i){if(typeof t=="string"){n[t]===undefined&&(n[t]=[]);for(var r=0;r<n[t].length;r++)i===n[t][r]&&n[t].splice(r,1)}};t.trigger=function(t,i,r){if(n[t]!==undefined){Array.isArray(i)||(i=[i]);r||(r=this);for(var u=0;u<n[t].length;u++)n[t][u].apply(r,i)}}};OpenriceApp.Class.View=function(n){OpenriceApp.Class.Event.call(this);var t=this;t.isShowing=!1;t.el=n;t.shouldBodyScroll=!0;routie({"scrollTop=?:offsetY":function(n){n=n&&n>=0?n:0;$("html, body").scrollTop(n);history.replaceState("",document.title,window.location.pathname)},scrollTop:function(){$("html, body").scrollTop(0);history.replaceState("",document.title,window.location.pathname)}})};OpenriceApp.Class.View.prototype.setNav=function(n){var t=OpenriceApp.Nav.Controller;!!t&&t.hasInit&&(n&&(this.nav=n),t.setNav(this.nav))};OpenriceApp.Class.View.prototype.setMainRoutes=function(n){var i=this,t;Array.isArray(n)||typeof n!="object"||(n=[n]);OpenriceApp.on("hashchange",function(i){for(var u,f,r=0;r<n.length;r++)t=n[r],i===t&&(f=!0);f&&($("#global-container").removeClass("subview-active"),u=Math.abs(parseInt($("#global-container")[0].style.top,10)),isNaN(u)||$(window).scrollTop(u))})};OpenriceApp.Class.SubView=function(n,t){OpenriceApp.Class.View.call(this,n,t);var i=this;i.components={};i.shouldBodyScroll=!1;i.isShowing=!1;i.nav=t.nav;i.routes=t.routes;i.components.$header=$(i.el).find(".modal-header, .js-modal-header");i._initSubViewEvents();i._initRightButtonEvent()};OpenriceApp.Class.SubView.prototype=Object.create(OpenriceApp.Class.View.prototype);OpenriceApp.Class.SubView.prototype.constructor=OpenriceApp.Class.SubView;OpenriceApp.Class.SubView.prototype._initRightButtonEvent=function(){var n=this;n.components.$header.on("click",'button.close, [type="button"].close',function(){var t=n.rightButtonAction;!t||typeof t!="function"||t.call(this)});n.setNav(n.nav)};OpenriceApp.Class.SubView.prototype.setNav=function(n){function i(n){var i=n.action;typeof i=="function"&&(t.rightButtonAction=i)}var t=this;!n||i(n.right)};OpenriceApp.Class.SubView.prototype._initSubViewEvents=function(){function t(t,i,r){$(n.el).on(i,function(i){n.trigger(t);r&&typeof r=="function"&&r(i)})}var n=this;t("preshow","show.bs.modal",function(){var n=(0-$(window).scrollTop()).toString()+"px";$("#global-container:not(.subview-active)").attr("style","top:"+n+" !important;");$("#global-container").addClass("subview-active")});t("show","shown.bs.modal",function(){$(n.el).find(".modal-backdrop").attr("data-href",$(n.el).data("close-href"));n.isShowing=!0});t("prehide","hide.bs.modal");t("hide","hidden.bs.modal",function(){n.isShowing=!1})};OpenriceApp.Class.SubView.prototype.show=function(){this.isShowing||(typeof OpenriceAppv4!="undefined"?$(this.el)[OpenriceAppv4.v5Prefix+"modal"]("show"):$(this.el).modal("show"))};OpenriceApp.Class.SubView.prototype.hide=function(){this.isShowing&&(typeof OpenriceAppv4!="undefined"?$(this.el)[OpenriceAppv4.v5Prefix+"modal"]("hide"):$(this.el).modal("hide"))};OpenriceApp.Class.SubView.prototype.setDisplayRoutes=function(n){var i=this,t;Array.isArray(n)||typeof n!="string"||(n=[n]);OpenriceApp.on("hashchange",function(r){for(var f=!1,u=0;u<n.length;u++)t=n[u],(r===t||r.substr(0,t.length+1)===t+"/")&&(f=!0),r===t;f?i.show():i.hide()})};OpenriceApp.Class.Modal=function(n,t){OpenriceApp.Class.SubView.call(this,n,t)};OpenriceApp.Class.Modal.prototype=Object.create(OpenriceApp.Class.SubView.prototype);OpenriceApp.Class.Modal.prototype.constructor=OpenriceApp.Class.Modal;OpenriceApp.Class.MainView=function(n,t){OpenriceApp.Class.View.call(this,n,t);var i=this};OpenriceApp.Class.MainView.prototype=Object.create(OpenriceApp.Class.View.prototype);OpenriceApp.Class.MainView.prototype.constructor=OpenriceApp.Class.MainView;OpenriceApp.Class.ShareModal=function(n,t){OpenriceApp.Class.Modal.call(this,n,t);var i=this;i.on("show",function(){i.setNav(i.nav)})};OpenriceApp.Class.ShareModal.prototype=Object.create(OpenriceApp.Class.Modal.prototype);OpenriceApp.Class.ShareModal.prototype.constructor=OpenriceApp.Class.Modal;OpenriceApp.Class.ShareModal.prototype.setUrl=function(n){function r(n,t){for(var f,r,i=n,u=0;u<=1;u++)f="{"+u+"}",r=i.indexOf(f),r>=0&&(i=i.substring(0,r)+t+i.substring(r+f.length));return i}var t=this,i=$(t.el).find(".js-share-item");n!==undefined&&$(i).each(function(t,i){var u=$(i).data("url");$(i).attr("href",r(u,n))})};OpenriceApp.Class.ShareModal.prototype.renderShareModal=function(n,t){function u(n,t){var i=$(n).html(),r=Handlebars.compile(i);return r(t)}var i=this,r=u(n,t);$(i.el).html(r)};OpenriceApp.Class.FilterMain=function(n){var t,i;OpenriceApp.Class.Event.call(this);t=this;for(i in n)t[i]=n[i];t.data={};t.backupData={}};OpenriceApp.Class.FilterMain.prototype.renderFilterTag=function(){var n=this;n.filterTag!==undefined&&(n.filterTag.updateData(),n.filterTag.render())};OpenriceApp.Class.FilterMain.prototype.refreshSelection=function(){var n=this;n.eachFilter(function(n){n.refreshSelection()});n.trigger("refresh");n.refreshFilterTitleAll()};OpenriceApp.Class.FilterMain.prototype.refreshFilterTitleAll=function(){function t(n){return n=n.replace(/-/g," "),n.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})}var n=this;n.refreshTitleFilters!==undefined&&n.refreshTitleFilters.forEach(function(i){var u=n.filters[i.type],r=i.toggle,o=i.placeholder,f,e;u.getData().length>0?(f=u.toString(),e=t(f),$(r).addClass("active-filter"),$(r).find(".subtitle").html(e)):($(r).removeClass("active-filter"),$(r).find(".subtitle").html(o))})};OpenriceApp.Class.FilterMain.prototype.eachFilter=function(n){var r=this,t,i;for(t in r.filters)i=r.filters[t],typeof n=="function"&&n.apply(i,[i,t])};OpenriceApp.Class.FilterMain.prototype.backupFilterAll=function(){var n=this;n.backupData={};n.eachFilter(function(t,i){n.backupData[i]=$.extend(!0,[],t.data)})};OpenriceApp.Class.FilterMain.prototype.restoreFilterAll=function(){var n=this;n.eachFilter(function(t,i){n.backupData[i]!==undefined&&(t.data=$.extend(!0,[],n.backupData[i]))})};OpenriceApp.Class.FilterMain.prototype.clearFilterAll=function(){var n=this;n.eachFilter(function(n){typeof n.clear=="function"&&n.clear()})};OpenriceApp.Class.FilterMain.prototype.initApplyButton=function(){var n=this,t=$(".js-btn-filter.js-filter-count").first(),f=$(".apply-button-container"),i=$("main > .js-btn-filter").first(),r=$(".js-poi-list-main").data("is-nearby-search");if(t.length>0){var e=$(".js-btn-filter-message").first().html(),o=t.data("defaultText"),u=r||n.filterTag.hasFilterData()?$(".js-btn-filter-message").first().html():$(".js-btn-search-message").first().text();t.hide().html(u);n.on("show",function(){t.show()});n.on("hide",function(){t.hide()})}i.length>0&&(i.hide(),n.eachFilter(function(n){n.on("show",function(){i.show()});n.on("hide",function(){i.hide()})}));$(".js-btn-filter").on("click",function(){n.trigger("apply")})};OpenriceApp.Class.FilterMain.prototype.updateApplyButton=function(){var n=this,t=$(".js-btn-filter.js-filter-count").first(),r=$(".js-poi-list-main").data("is-nearby-search"),i=t.data("ajax-count-url"),u=$(".js-btn-filter-message").html(),f=$(".js-loader").html(),e=t.data("defaultText");!n.updateApplyButtonAjax||n.updateApplyButtonAjax.abort();i+=n.buildParam();t.html(f);n.updateApplyButtonAjax=$.get(i).done(function(i,f,o){r||n.filterTag.hasFilterData()?t.html(u).find("span").text(o.responseJSON.count):t.text(e)}).fail(function(){})};OpenriceApp.Class.FilterMain.prototype.buildParam=function(){var i=this,n=[],t;return i.eachFilter(function(t){var i=t.getData();i.forEach(function(t){n.push(t.param)})}),t=n.join("&"),!!n&&n.length>0&&(t="&"+t),t};OpenriceApp.Class.FilterMain.prototype.buildRedirectParam=function(){};OpenriceApp.Class.Filter=function(n,t){OpenriceApp.Class.Event.call(this);var i=this;i.el=n;i.filterType=t.filterType;i.maxCount=t.maxCount;i.initParamSelector=t.initParamSelector;i.options=$(i.el).find('[data-toggle="select"]');i.countedOptionsSelector=t.countedOptionsSelector;i.data=[];i.backupData=[]};OpenriceApp.Class.Filter.prototype.initFilter=function(){this.on("update",function(){this.refreshSelection()});this.on("warning",function(){this.showWarning()});this.initOptionOnClick();this.initSelection()};OpenriceApp.Class.Filter.prototype.initSelection=function(){var n=this,t=$(n.options).filter(".active");!n.initParamSelector||(t=$(n.initParamSelector).find("li"));$.each(t,function(t,i){var r=$(i).data("param"),u=$(i).data("tag");n.select(r,u)});this.trigger("select");this.trigger("update")};OpenriceApp.Class.Filter.prototype.initOptionOnClick=function(){var n=this;$(n.options).each(function(t,i){$(i).on("click",function(){var r=$(i).hasClass("active"),u=$(i).data("isGroup"),f=$(i).siblings('[data-toggle="select"]'),o=$(f).filter(".active"),e=$(i).data("param"),s=$(i).data("tag"),t;if(r){n.deselect(e);n.trigger("update");n.trigger("deselect");return}if(!r){t=!n.isFull();u&&(t=$(o).length>0||t);t?(u&&$(f).each(function(t,i){var r=$(i).data("param");$(i).removeClass("active");n.deselect(r)}),n.select(e,s),n.trigger("update"),n.trigger("select")):n.trigger("warning");return}})})};OpenriceApp.Class.Filter.prototype.enableOptions=function(n){$(n).removeAttr("disabled")};OpenriceApp.Class.Filter.prototype.disableOptions=function(n){var t=this;$(n).each(function(n,t){$(t).attr("disabled","disabled")})};OpenriceApp.Class.Filter.prototype.enableGroupOptions=function(n){$(n).removeClass("disabled")};OpenriceApp.Class.Filter.prototype.disableGroupOptions=function(n){var t=this;$(n).each(function(){$(n).addClass("disabled")})};OpenriceApp.Class.Filter.prototype.refreshSelection=function(){function i(n){return n.replace(/(\\|'|")/g,"\\\\\\$1")}var n=this,t;$(n.options).removeClass("active");n.enableOptions(n.options);t=$(n.el).find('[data-toggle="collapse"]');n.enableGroupOptions(t);n.data.forEach(function(t){var u='[data-param="'+i(t.param)+'"]',r=$(n.options).filter(u);$(r).each(function(t,i){var r=$(i).siblings('[data-toggle="select"]'),u=$(i).data("isGroup");u&&n.disableOptions(r)});$(r).addClass("active")});n.disableZeroCountItems();n.disableZeroCountGroupItems()};OpenriceApp.Class.Filter.prototype.select=function(n,t){var i=this,u={param:n,tag:t,filter:i.filterType,timestamp:Date.now()},r;if(typeof n=="string")return(r=!0,i.data.forEach(function(t){t.param===n&&(r=!1)}),!r)?void 0:i.isFull()?(this.trigger("warning"),null):(this.data.push(u),u)};OpenriceApp.Class.Filter.prototype.deselect=function(n){var t=this;return t.data.forEach(function(i,r){if(String(n)===i.param)return t.data.splice(r,1)}),-1};OpenriceApp.Class.Filter.prototype.clear=function(){this.data=[]};OpenriceApp.Class.Filter.prototype.backup=function(){this.backupData=$.extend(!0,[],this.data)};OpenriceApp.Class.Filter.prototype.restore=function(){this.data=$.extend(!0,[],this.backupData)};OpenriceApp.Class.Filter.prototype.isFull=function(){return this.data.length>=this.maxCount};OpenriceApp.Class.Filter.prototype.getData=function(){return this.data};OpenriceApp.Class.Filter.prototype.toString=function(n){return n=typeof n=="string"?n:", ",this.data.map(function(n){return n.tag}).join(n)};OpenriceApp.Class.Filter.prototype.showWarning=function(){var t=this,n=$(t.el).find(".js-toastr-error-template").html();n=n.replace("{maxSelectCount}",t.maxCount);toastr.options.timeOut=2e3;toastr.error(n)};OpenriceApp.Class.Filter.prototype.refreshCount=function(){var n=this;n.setCounts();n.disableZeroCountItems();n.disableZeroCountGroupItems()};OpenriceApp.Class.Filter.prototype.disableZeroCountItems=function(){var n=this,t=$(n.el).find('[data-toggle="select"]'),i=t.has('[data-count="0"].js-filter-count');n.disableOptions(i)};OpenriceApp.Class.Filter.prototype.disableZeroCountGroupItems=function(){var n=this,t=$(n.el).find('[data-toggle="collapse"]');$(t).each(function(){var t=$(this).data("target");$(t).find('[data-param]:not([disabled="disabled"])').length==0&&n.disableGroupOptions($(this))})};OpenriceApp.Class.Filter.prototype.setCounts=function(){function t(){var t=$(n.el).find("[data-param]");n.renderCount(t,0)}function i(){$(n.countedOptionsSelector).each(function(){var i=$(this).data("param"),r=$(this).data("count"),t=$(n.el).find('[data-param="'+i+'"]').filter('[data-toggle="select"]');t.length>0&&n.renderCount(t,r)})}var n=this;t();i()};OpenriceApp.Class.Filter.prototype.renderCount=function(n,t){var i=$(n).find(".js-filter-count");t===0?$(i).attr("data-count",t).html(""):$(i).attr("data-count",t).html("("+t+")")};OpenriceApp.Class.FilterSubView=function(n,t){OpenriceApp.Class.Filter.call(this,n,t);OpenriceApp.Class.SubView.call(this,n,t);var i=this;i.routes=t.routes;i.isExpandAll=t.isExpandAll;i.parent=!!t&&!!t.parent?t.parent:OpenriceApp};OpenriceApp.Class.FilterSubView.prototype=Object.create($.extend({},OpenriceApp.Class.SubView.prototype,OpenriceApp.Class.Filter.prototype));OpenriceApp.Class.FilterSubView.prototype.constructor=OpenriceApp.Class.FilterSubView;OpenriceApp.Class.FilterSubView.prototype.initFilterSubView=function(){var n=this;n.initFilter();n.parent.on("ready",function(){n.setDisplayRoutes(n.routes)});n.on("preshow",function(){n.backup();n.refreshSelection();$(n.el).find("input").prop("disabled",!1)});n.on("prehide",function(){$(n.el).find("input").prop("disabled",!0)});n.initCollapse()};OpenriceApp.Class.FilterSubView.prototype.initCollapse=function(){var n=this,t=$(n.el).find(".collapse");$(t).each(function(n,t){$(t).collapse({toggle:!1})});n.on("preshow",function(){!n.isExpandAll||n.isExpandAll!=!0?n.data.forEach(function(n){var i='[data-param="'+n.param+'"]';$(t).find(i).parents(".panel-collapse").collapse("show")}):$(t).collapse("show")});n.on("hide",function(){$(t).collapse("hide")})};OpenriceApp.Class.FilterSubView.prototype.scrollToCollapseToggle=function(n){var t=this,u=$(n).prop("id"),i=$(t.el).find('[data-toggle="collapse"][data-target="#'+u+'"]'),r;$(t.el).scrollTop(0);$(i).length>0&&(r=$(i).offset().top-$(t.el).offset().top,$(t.el).scrollTop(r))};OpenriceApp.Class.FilterSubView.prototype.initInputSearch=function(){function u(n){n&&n.length>0?$(t).find("div").show():$(t).find("div").hide()}var i=this,n=$(this.el).find(".or-search-section input"),t=$(this.el).find(".or-search-section  .js-clear-all-button"),f=$(this.el).find(".js-or-section-level-2"),e=$(this.el).find('.js-or-section-level-2 [data-toggle="collapse"]'),r=$(".js-btn-filter");u("");$(t).on("click",function(){$(n).val("");$(n).trigger("change")});$(n).on("paste keyup change input",function(){var n=this.value;u(n);clearTimeout(this.typingTimer);this.typingTimer=setTimeout(function(){$(i.el).find(".collapse").collapse(n?"show":"hide");i.filter(n)},250)});$(n).on("focus",function(){$(r).hide()});$(n).on("blur",function(){$(r).show()})};OpenriceApp.Class.FilterSubView.prototype.filter=function(n){var r=this,t=$(this.el).find(".js-or-section-level-2"),i=$(this.el).find('.js-or-section-level-2 [data-toggle="collapse"]'),u=$(r.el).find(".js-flex-wrap");$(u).css("display","flex");$(t).find('[data-toggle="select"]').css("display","block");$(i).css("display","block");n&&($(i).each(function(t,i){var r=$(i).data("target"),u=$(r).find('[data-toggle="select"]:containsInTagOrSynonyms('+n+")");$(u).length===0&&($(i).css("display","none"),$(r).find(".js-flex-wrap").css("display","none"))}),$(t).find('[data-toggle="select"]:not(:containsInTagOrSynonyms('+n+"))").css("display","none"))};OpenriceApp.Class.FilterTab=function(n,t){var i,r;OpenriceApp.Class.Filter.call(this,n,t);i=this;i.components={};i.typingTimer=undefined;i.parent=!!t&&!!t.parent?t.parent:OpenriceApp;i.tabSelector="[data-target='"+i.el+"']";i.routes=t.routes;i.isExpandAll=t.isExpandAll;r=$(i.el).find(".collapse");$(r).length===1&&(i.isExpandAll=!0);i.nav=t.nav;i._initRightButtonEvent()};OpenriceApp.Class.FilterTab.prototype=Object.create($.extend({},OpenriceApp.Class.Filter.prototype));OpenriceApp.Class.FilterTab.prototype.constructor=OpenriceApp.Class.FilterTab;OpenriceApp.Class.FilterTab.prototype._initRightButtonEvent=function(){var n=this};OpenriceApp.Class.FilterTab.prototype.initFilterTab=function(){var n=this;n.initFilter();n.parent.on("ready",function(){n.setDisplayRoutes(n.routes)});n.on("show",function(){console.debug("backup data in show");n.backup();n.refreshSelection()});n.initCollapse()};OpenriceApp.Class.FilterTab.prototype.initCollapse=function(){var n=this,t=$(n.el).find(".collapse");$(t).each(function(n,t){$(t).collapse({toggle:!1})});n.on("show",function(){!n.isExpandAll||n.isExpandAll!==!0?n.data.forEach(function(n){var i='[data-param="'+n.param+'"]';$(t).find(i).parents(".panel-collapse").collapse("show")}):$(t).collapse("show")});n.on("hide",function(){$(t).collapse("hide")})};OpenriceApp.Class.FilterTab.prototype.scrollToCollapseToggle=function(n){var t=this,u=$(n).prop("id"),i=$(t.el).find('[data-toggle="collapse"][data-target="#'+u+'"]'),r;$(t.el).scrollTop(0);$(i).length>0&&(r=$(i).offset().top-$(t.el).offset().top,$(t.el).scrollTop(r))};OpenriceApp.Class.FilterTab.prototype.hide=function(){};OpenriceApp.Class.FilterTab.prototype.show=function(){var n=this;typeof OpenriceAppv4!="undefined"?$(n.tabSelector)[OpenriceAppv4.v5Prefix+"tab"]("show"):$(this.tabSelector).tab("show");n.trigger("show")};OpenriceApp.Class.FilterTab.prototype.setDisplayRoutes=function(n){var i=this,t;Array.isArray(n)||typeof n!="string"||(n=[n]);OpenriceApp.on("hashchange",function(r){for(var f=!1,u=0;u<n.length;u++)t=n[u],(r===t||r.substr(0,t.length+1)===t+"/")&&(f=!0);f?i.show():i.hide()})};OpenriceApp.Class.FilterTab.prototype.filter=function(n){function f(n,t){$(n).find(".js-item-row").each(function(n,i){var r=$(i).find('[data-toggle="select"]:containsInTagOrSynonyms('+t+")");$(r).length===0&&$(i).css("display","none")})}function e(n){var t=$(n).find(".js-item-row").filter(":visible");$(t).length===0&&$(n).css("display","none")}var t=this,r=$(t.el).filter(".tab-pane.active"),u=$(t.el).find('[data-toggle="collapse"]'),i=$(t.el).find(".js-flex-wrap");$(i).css("display","flex");$(r).find('[data-toggle="select"]').css("display","block");$(u).css("display","block");$(i).find(".js-item-row").css("display","flex");n&&($(u).each(function(t,r){var u=$(r).data("target"),o=$(u).find('[data-toggle="select"]:containsInTagOrSynonyms('+n+")");$(o).length===0&&$(r).css("display","none");f(u,n);e(i,u,n)}),$(r).find('[data-toggle="select"]:not(:containsInTagOrSynonyms('+n+"))").css("display","none"))};OpenriceApp.Class.FilterTab.prototype.showWarning=function(){};OpenriceApp.Class.FilterTag=function(n,t){var i,r;OpenriceApp.Class.Event.call(this);i=this;i.templateId="#filterTagTemplate";i.selector=n;for(r in t)i[r]=t[r]};OpenriceApp.Class.FilterTag.prototype.init=function(){var n=this;n.eachFilter(function(t){t.on("update",function(){n.updateData();n.render()})});n.initOnButtonClick()};OpenriceApp.Class.FilterTag.prototype.initOnButtonClick=function(){var n=this;$(n.selector).on("click",".js-filter-tag-item-remove-button",function(){var t=$(this).closest(".js-filter-tag-item"),r=$(t).data("param"),u=$(t).data("filter"),f=$(t).data("tag"),i=n.filters[u],e=$(t).closest(".js-filter-tag-container"),o="#"+$(e).attr("id");i.deselect(r);i.refreshSelection();i.trigger("deselect");i.trigger("update");n.render();n.trigger("undo",[n.filters[u],r,f,t]);o===n.containerId&&n.trigger("remove")})};OpenriceApp.Class.FilterTag.prototype.render=function(){var n=this,r=$(n.templateId).html(),u=Handlebars.compile(r),t,i=[];$.each(n.data,function(n,t){t.tag.length>0&&i.push(t)});t=u({currentTags:i});$(this.selector).html(t)};OpenriceApp.Class.FilterTag.prototype.eachFilter=function(n){var i=this,t,r;for(t in i.filters)r=i.filters[t],typeof n=="function"&&n(r,t)};OpenriceApp.Class.FilterTag.prototype.sort=function(n){function t(n,t){return n.timestamp-t.timestamp}return n.sort(t)};OpenriceApp.Class.FilterTag.prototype.updateData=function(){var n=[];this.eachFilter(function(t){$.merge(n,t.getData())});this.data=this.sort(n)};OpenriceApp.Class.FilterTag.prototype.hasFilterData=function(){return this.data!=undefined&&this.data.length>0};OpenriceApp.Class.FilterTogglableTag=function(n,t){OpenriceApp.Class.FilterTag.call(this,n,t);var i=this;i.maxCount||(i.maxCount=5);i.filterTagTemplateSelector=!t.templateId?"#filterToggableTagTemplate":t.templateId};OpenriceApp.Class.FilterTogglableTag.prototype=Object.create($.extend({},OpenriceApp.Class.FilterTag.prototype));OpenriceApp.Class.FilterTogglableTag.prototype.constructor=OpenriceApp.Class.FilterTogglableTag;OpenriceApp.Class.FilterTogglableTag.prototype.initFilterTogglableTag=function(){var n=this;n.defaultData=[];n.data=[];n.initDefaultOptions();n.eachFilter(function(t){t.on("update",function(){n.updateData()})});n.initOnButtonClick();n.render()};OpenriceApp.Class.FilterTogglableTag.prototype.initDefaultOptions=function(){var n=this,t=$(n.selector),i=$(t).find(".js-filter-tag-item");i.each(function(){var t=$(this).data("param"),i=$(this).data("tag");n.selectDefaultOption(t,i)})};OpenriceApp.Class.FilterTogglableTag.prototype.isParamUnique=function(n,t){var i=!0;return n.forEach(function(n){n.param===t&&(i=!1)}),i};OpenriceApp.Class.FilterTogglableTag.prototype.selectDefaultOption=function(n,t){var i=this,u={param:n,tag:t,filter:i.filterType,timestamp:Date.now(),isDefault:!0},r;if(typeof n=="string"&&(r=i.isParamUnique(i.defaultData,n),r)){i.defaultData.push(u);return}};OpenriceApp.Class.FilterTogglableTag.prototype.selectFilterParam=function(n,t,i){n.select(t,i);n.trigger("select");n.trigger("update")};OpenriceApp.Class.FilterTogglableTag.prototype.deselectFilterParam=function(n,t){n.deselect(t);n.trigger("deselect");n.trigger("update")};OpenriceApp.Class.FilterTogglableTag.prototype.initOnButtonClick=function(){var n=this;$(n.selector).on("click",".js-filter-tag-item-remove-button",function(){function f(){u?($(t).removeClass("selected").addClass("select"),$(t).find(".btn").removeClass("active")):($(t).removeClass("select").addClass("selected"),$(t).find(".btn").addClass("active"))}var t=$(this).closest(".js-filter-tag-item"),r=$(t).data("param"),e=$(t).data("filter"),o=$(t).data("tag"),i=n.filters[e],u=$(t).hasClass("selected");u?(n.deselectFilterParam(i,r),f()):i.isFull()?i.trigger("warning"):(n.selectFilterParam(i,r,o),f())})};OpenriceApp.Class.FilterTogglableTag.prototype.prepareCurrentTags=function(){var t=this,n=[];return $.each(t.data,function(t,i){i.tag.length>0&&n.unshift(i)}),$.each(t.defaultData,function(i,r){r.tag.length>0&&t.isParamUnique(n,r.param)&&n.push(r)}),n=n.slice(0,t.maxCount)};OpenriceApp.Class.FilterTogglableTag.prototype.render=function(){var n=this,i=$(n.filterTagTemplateSelector).html(),r=Handlebars.compile(i),t,u=n.prepareCurrentTags();t=r({currentTags:u});$(this.selector).html(t)};OpenriceApp.Class.RefineSearchFilter=function(n,t){OpenriceApp.Class.FilterTag.call(this,n,t);var i=this;i.maxCount||(i.maxCount=5)};OpenriceApp.Class.RefineSearchFilter.prototype=Object.create($.extend({},OpenriceApp.Class.FilterTag.prototype));OpenriceApp.Class.RefineSearchFilter.prototype.constructor=OpenriceApp.Class.RefineSearchFilter;OpenriceApp.Class.RefineSearchFilter.prototype.initRefineSearchFilter=function(){var n=this;n.defaultData=[];n.data=[];n.init()};OpenriceApp.Class.RefineSearchFilter.prototype.selectFilterParam=function(n,t,i){var r=this;n.select(t,i)!==null?(n.trigger("select"),n.trigger("update")):r.trigger("abort")};OpenriceApp.Class.RefineSearchFilter.prototype.initOnButtonClick=function(){var n=this;$(n.selector).on("click",".js-filter-tag-item-remove-button",function(){var t=$(this).closest(".js-filter-tag-item"),i=$(t).data("param"),r=!$(t).data("filter")?$(n.selector).data("filter"):$(t).data("filter"),u=$(t).data("tag"),f=n.filters[r];n.selectFilterParam(f,i,u)})};OpenriceApp.Class.RefineSearchFilter.prototype.prepareCurrentTags=function(){var t=this,n=[];return $.each(t.data,function(t,i){i.tag.length>0&&n.push(i)}),$.each(t.defaultData,function(i,r){r.tag.length>0&&t.isParamUnique(n,r.param)&&n.push(r)}),n=n.slice(0,t.maxCount)};OpenriceApp.Class.RefineSearchFilter.prototype.render=function(){};OpenriceApp.Class.SearchList=function(n){OpenriceApp.Class.Event.call(this);var t=this;t.filterControllerName=n.filterControllerName;t.templates=n.templates;!t.templates||jQuery.isEmptyObject(t.templates);t.refreshSearchListInstance=undefined;t.pagination={selector:$(".js-pois-pagination"),currentPage:$(".js-pois-pagination").find(".js-curr").data("page")}};OpenriceApp.Class.SearchList.prototype.initSearchList=function(){var n=this;n.initPagination();$(document).keyup(function(t){t.keyCode==27&&(!n.refreshSearchListInstance||(n.refreshSearchListInstance.abort(),console.debug("search ajax aborted")))});OpenriceApp.on("ready",function(){if(n.filterController=OpenriceApp[n.filterControllerName].Controller,!!!n.filterController||jQuery.isEmptyObject(n.filterController),!!n.filterController){n.filterController.on("apply",function(){n.shouldAbortXhr?(n.shouldAbortXhr=!1,!n.refreshSearchListInstance||n.refreshSearchListInstance.abort(),n.dismissLoader()):n.refreshSearchList(1)});n.filterController.on("abort",function(){n.shouldAbortXhr=!0});n.filterController.on("redirect",function(){n.pagination.currentPage=1;var t=location.protocol+"//"+location.host+location.pathname,t=t+"?"+n.filterController.buildRedirectParam();n.showLoader();window.location.href=t})}n.initPageBack()})};OpenriceApp.Class.SearchList.prototype.initPageBack=function(){function r(){if(!!Modernizr.history)$(window).on("popstate",function(t){var r=t.originalEvent.state;!r||!r.page||!r.data||(n.backupData=r.data,n.restoreFilterAll(),n.renderFilterTag(),n.refreshSelection(),i.refreshSearchList(r.page,function(){}))})}var i=this,t=$(".js-pois-pagination .js-curr"),n=this.filterController;(r(),t.length!=0)&&(n.backupFilterAll(),this.updateListingBrowserState("replace",$(t).data("curr-url"),n.backupData,$(t).data("page")))};OpenriceApp.Class.SearchList.prototype.initPagination=function(){var n=this,t=$(n.pagination.selector);if(!!Modernizr.history){t.on("click",".js-prev",function(t){t.preventDefault();n.refreshSearchList($(this).data("page"))});t.on("click",".js-next",function(t){t.preventDefault();n.refreshSearchList($(this).data("page"))})}};OpenriceApp.Class.SearchList.prototype.refreshSearchList=function(){};OpenriceApp.Class.SearchList.prototype.pushListingState=function(n,t,i){var r=this.filterController,u;!n||n===""||(typeof r.backupFilterAll=="function"&&(r.backupFilterAll(),u=r.backupData),!!!u||jQuery.isEmptyObject(u),this.updateListingBrowserState("push",n,r.backupData,i))};OpenriceApp.Class.SearchList.prototype.updateListingBrowserState=function(n,t,i,r){var u={page:r,data:i};!Modernizr.history||(n==="replace"&&history.replaceState(u,document.title,t),n==="push"&&history.pushState(u,document.title,t))};OpenriceApp.Class.SearchList.prototype.buildParam=function(){var n="",t="&page="+this.pagination.currentPage,i=this.filterController.buildParam();return t!==undefined&&t.length>0&&(n+=t),i!==undefined&&i.length>0&&(n+="&"+i),n};OpenriceApp.Class.SearchList.prototype.renderTemplate=function(n,t,i){var r=this.templates,u;r[n]&&(!r[n].templateId,!r[n].containerId);u=OpenriceApp.Helpers.buildTemplate(r[n].templateId,t);$(r[n].containerId).html(u);OpenriceApp.initImpressionClick();i&&typeof i=="function"&&i()};OpenriceApp.Class.SearchList.prototype.renderAds=function(n){var r=this,t="article",i=".js-ad-banner";(!googletag||googletag.pubads().refresh(),!n||n===""||(t=n),$(i).length!==0)&&$(i).each(function(){var n,i;n=$(this).data("ad-is-every-page")!=1?$(t+"[data-index="+$(this).data("ad-position")+"]"):$(t+"[data-index]:nth-of-type("+$(this).data("ad-position")+")");n.length>0&&(i=$("<div/>").html($(this).html()).text(),n.before($("<div/>").addClass("mobile-ad-banner").html(i)))})};OpenriceApp.Class.SearchList.prototype.showLoader=function(){self.isLoading=!0;OpenriceApp.Helpers.disableMobileBodyScroll();OpenriceApp.Loader.Controller.show()};OpenriceApp.Class.SearchList.prototype.dismissLoader=function(){OpenriceApp.Loader.Controller.hide();OpenriceApp.Helpers.enableMobileBodyScroll();$(document).scrollTop(0);self.isLoading=!1};OpenriceApp.Class.SearchList.prototype.refreshFooterLangMenu=function(n){var t=OpenriceApp.MobileFooter.Controller;!n||!t||typeof t.updateLangOptionUrl=="function"&&t.updateLangOptionUrl(n)};OpenriceApp.Filters={Cuisine:{},Dish:{},Feature:{},Landmark:{},District:{},Hotel:{},Mall:{},Station:{},Offer:{},PriceRange:{},Booking:{}};OpenriceApp.Widgets={init:function(){for(var n in OpenriceApp.Widgets)typeof OpenriceApp.Widgets[n].init=="function"&&OpenriceApp.Widgets[n].init()}};OpenriceApp.Widgets.modalCheckboxListContainer=function(n,t){var i=this,f,r,e,u;for(f in t)i[f]=t[f];for(i.selector=n,i.modalContainer=$(i.selector).find(".modal-content"),i.render(),i.checkboxListSelector=$(n).find("ul"),i.checkboxItemsSelector=$(i.checkboxListSelector).find("li"),i.checkboxItems={},u=0;u<i.checkboxItemsSelector.length;u++)r=$(i.checkboxItemsSelector[u]).find("label"),typeof $(r).data("param")=="string"&&$(r).data("param",$(r).data("param").toLowerCase()),e=$(r).data("param"),i.checkboxItems[e]=new OpenriceApp.Widgets.Checkbox(r,{parent:i});$(i.selector).on("show.bs.modal",function(){typeof i.openCallback=="function"&&i.openCallback()});$(i.selector).on("hide.bs.modal",function(){typeof i.openCallback=="function"&&i.closeCallback()});$(".js-accordion").on("show.bs.collapse",function(){$(this).find(".or-sprite").removeClass("lightbox-advance-search-accordion-down").addClass("lightbox-advance-search-accordion-up")}).on("hide.bs.collapse",function(){$(this).find(".or-sprite").removeClass("lightbox-advance-search-accordion-up").addClass("lightbox-advance-search-accordion-down")})};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.render=function(){function h(n){var t="";return n.jsonLevel===1&&(t+='<div class="modal-list-view-warning-wrapper"><span class="advance-search-text-type-warning js-advance-search-text-type-warning hidden" data-group="'+n.dataGroup+'">Please select at most 5 '+n.name+"<\/span><\/div>"),t+("<ul>{{#each "+n.jsonFirstLevel+'}}<li class="advance-search-option-wrapper inline-block pull-left"><label data-param="{{searchKey}}" data-tag="{{name}}" data-synonyms="{{alias}}" data-category="'+n.name+'"><input type="checkbox" class="group-location hidden"><div class="or-sprite inline-block js-checkbox or-checkbox"><\/div><span {{#if isShortlisted}} class="highlight"{{/if}}>{{name}}<\/span>{{#if style}}<img src="/images/or/{{style}}"/>{{/if}}<\/label><\/li>{{/each}}<\/ul>')}function c(n,t){var r="advance-search-modal-heading-"+t.name+"-{{@../index}}{{@index}}",i="advance-search-modal-content-"+t.name+"-{{@../index}}{{@index}}";return""+('<div class="panel-group " id="accordion'+t.name+'-{{@index}}" role="tablist" aria-multiselectable="true">{{#each '+t.jsonSecondLevel+"}}{{#if "+t.jsonFirstLevel+'}}<div class="js-accordion panel panel-default" data-param="{{searchKey}}" data-tag="{{name}}" ><div class="panel-heading" role="tab" id="'+r+'"><a data-toggle="collapse" data-parent="#STOP_accordion'+t.name+'-{{@../index}}" href="#'+i+'" aria-expanded="" aria-controls="'+i+'" ><h4 class="panel-title pull-left">{{name}}<span class="advance-search-text-type-warning js-advance-search-text-type-warning hidden" data-group="'+t.dataGroup+'">Please select at most 5 '+t.name+'<\/span><div class="or-sprite lightbox-advance-search-accordion-{{#if @index}}down{{else}}up{{/if}} pull-right"><\/div><\/h4><\/a><\/div><div id="'+i+'" class="panel-collapse collapse {{#unless @index}}in{{/unless}}" role="tabpanel" aria-labelledby="'+r+'"><div class="panel-body"><div class="content-container">'+n+"<\/div><\/div><\/div><\/div>{{/if}}{{/each}}<\/div>")}function l(n,t){var i="advance-search-lightbox-tab-{{@index}}";return""+('<ul class="nav nav-tabs" role="tablist">{{#each '+t.jsonThirdLevel+'}}<li role="presentation" class="{{#unless @index}}active{{/unless}}"><a class="tab district" href="#'+i+'" aria-controls="advance-search-lightbox-tab-{{@index}}" role="tab" data-toggle="tab">{{name}}<\/a><\/li>{{/each}}<\/ul><div class="tab-content">{{#each '+t.jsonThirdLevel+'}}<div role="tabpanel" class="tab-pane {{#unless @index}}active{{/unless}}" id="'+i+'">'+n+"<\/div>{{/each}}<\/div>")}var t=this,s=t.data,i=t.category,r,f,n,e,o,u;if(s){switch(i.jsonLevel){case 2:r=!0;break;case 3:r=!0;f=!0}n=h(i);r&&(n=c(n,i));f&&(n=l(n,i));e='<div class="modal-header text-center"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><div class="or-sprite advance-search-lightbox-cross"><\/div><\/button><h4 class="modal-title">More '+i.name+'<\/h4><\/div><div class="modal-body">'+n+"<\/div>";o=Handlebars.compile(e);$(t.modalContainer).html(o(t.data));u=$(t.modalContainer).find(".js-accordion");$.each(u,function(n,t){$(t).find("ul").prepend('<li class="advance-search-option-wrapper inline-block pull-left"><label data-select="all" data-param="'+$(t).data().param+'"><input type="checkbox" class="group-location hidden"><div class="or-sprite inline-block js-checkbox or-checkbox"><\/div><span>'+$(t).data().tag+"<\/span><\/label><\/li>")});$.each(u,function(n,t){for(var i=$(t).find("li.advance-search-option-wrapper"),n=0;n<i.length;n+=4)i.slice(n,n+4).wrapAll('<div class="clearfix"><\/div>')})}};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.eachCheckbox=function(n){for(var t in this.checkboxItems)n(this.checkboxItems[t])};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.clearAll=function(){this.eachCheckbox(function(n){n.clear()})};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.countChecked=function(){var n=0;return this.eachCheckbox(function(t){t.isChecked&&n++}),n};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.uncheck=function(n){this.checkboxItems[n].checkbox&&this.checkboxItems[n].clear()};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.checkByParam=function(n){for(var t=0;t<n.length;t++)this.checkboxItems[n[t]]!==undefined&&this.checkboxItems[n[t]].check()};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.getCheckedParams=function(){var n=[];return this.eachCheckbox(function(t){t.isChecked&&n.push($(t.selector).data("param"))}),n};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.checkByParamWithCallback=function(n){for(var t=0;t<n.length;t++)this.checkboxItems[n[t]]!==undefined&&this.checkboxItems[n[t]].checkWithCallback()};OpenriceApp.Widgets.modalCheckboxListContainer.prototype.hasAccordion=function(){var n=this;return $(n.selector).find(".panel-group").length};OpenriceApp.Widgets.BackToTopButton=function(n){var r=this,t=".js-back-to-top-button",i=null,u={autoHide:!0,extraButtonAction:function(){}};typeof n=="undefined"&&(n={});this.options=$.extend(u,n);$(t).on("click",function(){$("html, body").animate({scrollTop:0},500)});$(".js-back-to-top-extra-button").on("click",function(){r.options.extraButtonAction()});this.options.autoHide?$(document).on("scroll",function(){i!=null&&(clearTimeout(i),i=null);$(document).scrollTop()>0?(i=setTimeout(function(){$(t).addClass("hide-to-right")},3e3),$(t).removeClass("hide-to-right")):$(t).addClass("hide-to-right")}).scroll():$(t).removeClass("hide-to-right")};OpenriceApp.Widgets.DeepLink=function(n){var t=this,i;t.iFrameName="deep-link-iframe";t.mainSiteDomain="www.openrice.com";t.isIOSOnly=!1;for(i in n)t[i]=n[i]};OpenriceApp.Widgets.DeepLink.prototype.init=function(){var n=this;n.isIOS()?n.appLinkUrl?n.setAppStoreFallback(3e3):n.setAppStoreFallback(25):!!n.intentLink||n.setAppStoreFallback(25)};OpenriceApp.Widgets.DeepLink.prototype.setAppStoreFallback=function(n){var t=this,i=(new Date).valueOf();setTimeout(function(){(new Date).valueOf()-i<n+500&&(t.isIOS()&&!!t.appStoreUrl?window.location=t.appStoreUrl:t.isIOS()||!t.playStoreUrl&&!t.playStoreDeeplink||!t.playStoreDeeplink||(window.location=t.playStoreDeeplink))},n)};OpenriceApp.Widgets.DeepLink.prototype.isIOS=function(){return OpenriceApp.Helpers.isIOS()};OpenriceApp.Widgets.DeepLink.prototype.isIOS9=function(){var n=new MobileDetect(window.navigator.userAgent),t=n.version("iOS")>=9;return self.isIOS()&&t};OpenriceApp.Widgets.DeepLink.prototype.createIFrame=function(){var n=this,u=/ipad|iphone|ipod/i.test(navigator.userAgent),i,t,r;(!n.isIOSOnly||u)&&(i=document.referrer.indexOf(n.mainSiteDomain)<0,i&&typeof n.appLinkUrl=="string"&&n.appLinkUrl!=""&&(t=function(){$("<iframe />",{name:n.iFrameName,id:n.iFrameName,src:n.appLinkUrl,width:0,height:0}).appendTo("body");$("#"+n.iFrameName).hide()},r=/chrome/i.test(navigator.userAgent),r?$(function(){t()}):t()))};OpenriceApp.Widgets.BookmarkButton=function(n,t){var i=this,r;i.selector=n;i.marked=$(n).find(".js-openrice-bookmark-marked");i.unmarked=$(n).find(".js-openrice-bookmark-unmarked");i.BookmarkCount=$(n).find(".js-bookmark-count");i.isMarked=!1;i.isDirectBookmark=!0;i.kUnit="K";i.markedLeft="9px";i.unMarkedLeft="7px";for(r in t)i[r]=t[r];i.isDirectBookmark&&$(i.selector).click(function(){OpenriceApp.Helpers.isLoggedIn()&&(i.isMarked=!i.isMarked,i.updateIcon(),i.BookmarkCount.length>0&&i.toggleDataCount())})};OpenriceApp.Widgets.BookmarkButton.prototype.updateIcon=function(){var n=this;n.isMarked?($(n.marked).css("opacity","0"),$(n.unmarked).css("opacity","1"),$(n.marked).css("left","100%"),$(n.unmarked).css("left",n.unMarkedLeft)):($(n.marked).css("opacity","1"),$(n.unmarked).css("opacity","0"),$(n.marked).css("left",n.markedLeft),$(n.unmarked).css("left","100%"))};OpenriceApp.Widgets.BookmarkButton.prototype.toggleDataCount=function(){var n=this,t=~~n.BookmarkCount.attr("data-count");n.isMarked?n.BookmarkCount.attr("data-count",t+1):n.BookmarkCount.attr("data-count",t-1);n.updateCount()};OpenriceApp.Widgets.BookmarkButton.prototype.updateCount=function(){var t=this,n=~~t.BookmarkCount.attr("data-count");n=isNaN(n)?0:n;n=t.isMarked?n<1?1:n:n<0?0:n;t.BookmarkCount.attr("data-count",n);n=OpenriceApp.Helpers.formatBookmarkCounter(n);t.BookmarkCount.text(n)};OpenriceApp.Widgets.Checkbox=function(n,t){var i=this,r;i.selector=n;i.name=$(n).find("span");i.checkbox=$(n).find("input");i.label=$(n).find("label");i.checkboxClass="or-checkbox";i.checkboxCheckedClass="or-checkbox-checked";i.imgCheckbox=$(n).find(".or-sprite.or-checkbox, .or-sprite.or-checkbox-uncheck, .or-sprite.or-checkbox-checked");for(r in t)i[r]=t[r];i.checkbox.on("change",function(n){$(i.selector).hasClass("disabled")||(i.updateState(),typeof i.changeCallback=="function"&&i.changeCallback(n))});$(i.checkbox).css("display","none")};OpenriceApp.Widgets.Checkbox.prototype.updateState=function(){var n=this;n.isChecked=$(n.checkbox).prop("checked");n.isChecked?$(n.imgCheckbox).addClass(n.checkboxCheckedClass).removeClass(n.checkboxClass):$(n.imgCheckbox).removeClass(n.checkboxCheckedClass).addClass(n.checkboxClass)};OpenriceApp.Widgets.Checkbox.prototype.clear=function(){var n=this;n.isChecked=!1;$(n.checkbox).prop("checked",!1);$(n.imgCheckbox).removeClass(n.checkboxCheckedClass).addClass(n.checkboxClass)};OpenriceApp.Widgets.Checkbox.prototype.clearWithCallback=function(){var n=this;n.clear();$(n.checkbox).trigger("change")};OpenriceApp.Widgets.Checkbox.prototype.check=function(){var n=this;$(n.checkbox).prop("checked",!0);n.isChecked=!0;$(n.imgCheckbox).addClass(n.checkboxCheckedClass).removeClass(n.checkboxClass)};OpenriceApp.Widgets.Checkbox.prototype.checkWithCallback=function(){var n=this;this.check();$(n.checkbox).trigger("change")};OpenriceApp.Widgets.Checkbox.prototype.showWarningInAccordion=function(){var n=this;$(n.checkbox).closest("div.panel-collapse").prev().find(".js-advance-search-text-type-warning").each(function(){if($(this).is(":hidden")){$(this).removeClass("hidden");var n=this;setTimeout(function(){$(n).addClass("hidden")},2e3)}})};OpenriceApp.Widgets.Checkbox.prototype.showWarningInCheckboxListContainer=function(){var n=this;$(n.checkbox).closest("ul").prev().children("span.js-advance-search-text-type-warning").each(function(){if($(this).is(":hidden")){$(this).removeClass("hidden");var n=this;setTimeout(function(){$(n).addClass("hidden")},2e3)}})};OpenriceApp.Widgets.Checkbox.prototype.countChecked=function(){var n=0;return this.checkbox(function(t){t.isChecked&&n++}),n};OpenriceApp.Widgets.CheckboxListContainer=function(n,t,i){var r=this,e,u,o,f;r.selector=n;r.moreOptionStr=i;for(e in t)r[e]=t[e];if(r.data!==undefined&&!(r.data.length<1))for(r.render(),r.checkboxListSelector=$(n).find("ul"),r.checkboxItemsSelector=$(r.checkboxListSelector).find("li"),r.checkboxItems={},f=0;f<r.checkboxItemsSelector.length;f++)u=$(r.checkboxItemsSelector[f]).find("label"),typeof $(u).data("param")=="string"&&$(u).data("param",$(u).data("param").toLowerCase()),o=$(u).data("param"),r.checkboxItems[o]=new OpenriceApp.Widgets.Checkbox(u,{})};OpenriceApp.Widgets.CheckboxListContainer.prototype.render=function(){var n=this;typeof n.checkboxListContainerTemplate=="undefined"&&(n.checkboxListContainerTemplate=Handlebars.compile($("#checkbox-list-container-template").html()));$(n.selector).html(n.checkboxListContainerTemplate(n))};OpenriceApp.Widgets.CheckboxListContainer.prototype.eachCheckbox=function(n){for(var t in this.checkboxItems)n(this.checkboxItems[t])};OpenriceApp.Widgets.CheckboxListContainer.prototype.clearAll=function(){this.eachCheckbox(function(n){n.clear()})};OpenriceApp.Widgets.CheckboxListContainer.prototype.clearAllWithCallback=function(){this.eachCheckbox(function(n){n.clearWithCallback()})};OpenriceApp.Widgets.CheckboxListContainer.prototype.countChecked=function(){var n=0;return this.eachCheckbox(function(t){t.isChecked&&n++}),n};OpenriceApp.Widgets.CheckboxListContainer.prototype.uncheck=function(n){this.checkboxItems[n].checkbox&&this.checkboxItems[n].clear()};OpenriceApp.Widgets.CheckboxListContainer.prototype.getCheckedParams=function(){var n=[];return this.eachCheckbox(function(t){t.isChecked&&n.push($(t.selector).data("param"))}),n};OpenriceApp.Widgets.CheckboxListContainer.prototype.checkByParam=function(n){for(var t=0;t<n.length;t++)this.checkboxItems[n[t]]!==undefined&&this.checkboxItems[n[t]].check()};OpenriceApp.Widgets.CheckboxListContainer.prototype.checkByParamWithCallback=function(n){for(var t=0;t<n.length;t++)this.checkboxItems[n[t]]!==undefined&&this.checkboxItems[n[t]].checkWithCallback()};OpenriceApp.Widgets.CommentSection=function(n,t){var i=this,r,u,f;OpenriceApp.Class.Event.call(this);i.selector=n;for(r in t)i[r]=t[r];i.comments=[];i.commentListSelector=$(n).find(".js-comment-list");i.expandPreviousCommentsSelector=$(n).find(".js-comment-expand-previous-comments");i.maxVisibleComments=$(i.expandPreviousCommentsSelector).data("max-visible-comments");u=$("#commentTemplate").html();i.commentTemplate=Handlebars.compile(u);i.initExpandPreviousCommentsSelector();i.addCommentAll();f=i.setPreviousCommentCounter();i.trigger("expand-row:refresh",f);i.initInputComment()};OpenriceApp.Widgets.CommentSection.prototype.initExpandPreviousCommentsSelector=function(){var n=this,t=$(n.selector).find(".js-comment-list-block");$(t).removeClass("expanded");$(n.expandPreviousCommentsSelector).one("click",function(){$(t).addClass("expanded");$(n.expandPreviousCommentsSelector).addClass("hidden")});n.on("expand-row:refresh",function(t){t<=0?$(n.expandPreviousCommentsSelector).addClass("hidden"):($(n.expandPreviousCommentsSelector).find(".js-counter").text(t),$(n.expandPreviousCommentsSelector).removeClass("hidden"))})};OpenriceApp.Widgets.CommentSection.prototype.setPreviousCommentCounter=function(){var n=this,u=n.comments.length,i=0,r,t;if(u>n.maxVisibleComments)for(r=u-n.maxVisibleComments,i=r,t=0;t<r;t++)i+=n.comments[t].responses.length;return i};OpenriceApp.Widgets.CommentSection.prototype.addCommentAll=function(){var n=this;n.data.forEach(function(t){n.addComment(t)})};OpenriceApp.Widgets.CommentSection.prototype.addComment=function(n){var t=this,i=t.commentTemplate(n),r=$(i).appendTo(t.commentListSelector);t.comments.push(n);t.initComment($(t.selector).find(r))};OpenriceApp.Widgets.CommentSection.prototype.appendComment=function(n){var t=this,i,r;t.addComment(n);i=$(t.selector).find(".js-comment-list-block");r=t.setPreviousCommentCounter();t.trigger("expand-row:refresh",r);$(i).hasClass("hidden")&&$(i).removeClass("hidden");t.trigger("comment-section:update-reply-count")};OpenriceApp.Widgets.CommentSection.prototype.initComment=function(n){var i=this,u=$(n).data("commentId"),r=$(n).find(".js-input-reply-comment"),f=$(n).find(".js-post"),e,t,o;if($(r).css("display","none"),e=$(n).find("[data-timestamp]"),$.each(e,function(n,t){var i=$(t).data("timestamp"),r;if(typeof i!="string"&&i.length===0)return!1;r=moment.utc(i).format("YYYY-MM-DD");r!=="Invalid date"&&$(t).html(r)}),t=$(r).find("textarea"),i.initTextarea(t),$(f).length>0)i.initPostButton(f,t,function(){i.replyComment(t,u)});else $(t).on("keypress",function(n){n.which===13&&(n.preventDefault(),i.replyComment(t,u))});o=$(n).find(".js-reply-btn");$(o).on("click",function(n){n.preventDefault();$(r).toggle();$(r).find("textarea").focus()})};OpenriceApp.Widgets.CommentSection.prototype.updateComment=function(n,t){for(var f,u,i=this,r=0;r<i.comments.length;r++)if(i.comments[r].commentId===n||i.comments[r].photoCommentId===n){i.comments[r]=t;f=i.commentTemplate(i.comments[r]);u='[data-comment-id="'+n+'"]';$(i.selector).find(u).replaceWith(f);i.initComment($(i.selector).find(u));break}i.trigger("comment-section:update-reply-count")};OpenriceApp.Widgets.CommentSection.prototype.initTextarea=function(n){var t=$(n).height();$(n).on("input ",function(){$(this).outerHeight(t).outerHeight(this.scrollHeight)})};OpenriceApp.Widgets.CommentSection.prototype.initInputComment=function(){var n=this,t=$(n.inputComment).find("textarea"),i=$(n.inputComment).find(".js-post");$(t).val("");n.initTextarea(t);n.initPostButton(i,t,function(){n.postComment()})};OpenriceApp.Widgets.CommentSection.prototype.initPostButton=function(n,t,i){var r=this;$(n).on("click",function(){$(this).hasClass("disabled")||(i(),$(this).addClass("disabled"))});$(t).on({keypress:function(t){t.which===13&&(t.preventDefault(),$(n).hasClass("disabled")||(i(),$(n).addClass("disabled")))},"keyup input change":function(){var i=$(t).val();typeof i=="string"&&i.length>0?$(n).removeClass("disabled"):$(n).addClass("disabled")}})};OpenriceApp.Widgets.CommentSection.prototype.getCommentById=function(n){for(var t,r=this,i=0;i<r.comments.length;i++)if(t=r.comments[i],t.photoCommentId===n||t.commentId===n)return t};OpenriceApp.Widgets.CommentSection.prototype.postComment=function(){var n=this,t=$(n.inputComment).find("textarea"),i=$(t).val();typeof n.commentCallback=="function"&&i.length>0&&(n.commentCallback(n.poiId,n.targetId,i),n.resetTextarea(t))};OpenriceApp.Widgets.CommentSection.prototype.replyComment=function(n,t){var i=this;typeof i.replyCallback=="function"&&(i.replyCallback(t,$(n).val(),i.poiId,i.targetId),i.resetTextarea(n))};OpenriceApp.Widgets.CommentSection.prototype.resetTextarea=function(n){var t=this;$(n).val("");$(n).trigger("input");$(n).trigger("blur")};OpenriceApp.Widgets.DropdownSection=function(n,t){var i=this,r;i.selector=n;i.toggleButton=$(i.selector).find(".js-dropdown-section-toggle-button");i.toggleButtonIcon=$(i.selector).find(".js-dropdown-section-toggle-icon");i.header=$(i.selector).find(".js-dropdown-section-header");i.openIconClass="or-collapse-btn-regular";i.closeIconClass="or-expand-btn-regular";i.dropdownContainer=$(i.selector).find(".js-dropdown-section-content-container");i.recalcContainerHeight();i.isOpen=!0;for(r in t)i[r]=t[r];$(i.toggleButton).on("click",function(){i.isOpen?i.close():i.open()})};OpenriceApp.Widgets.DropdownSection.prototype.open=function(){var n=this;$(n.dropdownContainer).css("height",n.dropdownContainerHeight);$(n.dropdownContainer).css("max-height",n.dropdownContainerHeight);$(n.toggleButtonIcon).addClass(n.openIconClass);$(n.toggleButtonIcon).removeClass(n.closeIconClass);n.isOpen=!0;typeof n.openCallback=="function"&&n.openCallback()};OpenriceApp.Widgets.DropdownSection.prototype.close=function(){var n=this;$(n.dropdownContainer).css("height","0px");$(n.toggleButtonIcon).removeClass(n.openIconClass);$(n.toggleButtonIcon).addClass(n.closeIconClass);n.isOpen=!1;typeof n.closeCallback=="function"&&n.closeCallback()};OpenriceApp.Widgets.DropdownSection.prototype.recalcContainerHeight=function(){var n=this;n.dropdownContainerHeight=$(n.dropdownContainer).css("max-height");$(n.dropdownContainer).css("max-height",n.dropdownContainerHeight)};OpenriceApp.Widgets.DropdownSectionMore=function(n,t){var i=this,r;i.selector=n;i.toggleButton=$(i.selector).find(".js-dropdown-section-toggle-button");i.toggleButtonIcon=$(i.selector).find(".js-dropdown-section-toggle-icon");i.header=$(i.selector).find(".js-dropdown-section-header");i.openIconClass="or-collapse-btn-regular";i.closeIconClass="or-expand-btn-regular";i.dropdownContainer=$(i.selector).find(".js-dropdown-section-content-container");i.recalcContainerHeight();i.isOpen=!1;i.collpasedHeight="0px";for(r in t)i[r]=t[r];$(i.dropdownContainer).css("height",i.collpasedHeight);$(i.toggleButton).on("click",function(){i.isOpen?i.close():i.open()})};OpenriceApp.Widgets.DropdownSectionMore.prototype.open=function(){var n=this;$(n.dropdownContainer).css("height",n.dropdownContainerHeight);$(n.toggleButtonIcon).addClass(n.openIconClass);$(n.toggleButtonIcon).removeClass(n.closeIconClass);n.isOpen=!0;typeof n.openCallback=="function"&&n.openCallback()};OpenriceApp.Widgets.DropdownSectionMore.prototype.close=function(){var n=this;$(n.dropdownContainer).css("height",n.collpasedHeight);$(n.toggleButtonIcon).removeClass(n.openIconClass);$(n.toggleButtonIcon).addClass(n.closeIconClass);n.isOpen=!1;typeof n.closeCallback=="function"&&n.closeCallback()};OpenriceApp.Widgets.DropdownSectionMore.prototype.recalcContainerHeight=function(){var n=this;n.dropdownContainerHeight=$(n.dropdownContainer).css("height");$(n.dropdownContainer).css("height",n.dropdownContainerHeight)};OpenriceApp.Widgets.DropdownSectionMoreText=function(n,t){var i=this,r;i.selector=n;i.openClass="collapse-more-btn";i.closeClass="expand-more-btn";i.dropdownTextSection=$(i.selector);i.dropdownTextContainer=i.dropdownTextSection.find(".js-dropdown-text-container");i.appenddingDots=i.dropdownTextSection.find(".js-dropdown-text-dots");i.appenddingText=i.dropdownTextSection.find(".js-dropdown-text-text");i.openButton=i.dropdownTextSection.find(".js-dropdown-text-section-toggle-button-open");i.closeButton=i.dropdownTextSection.find(".js-dropdown-text-section-toggle-button-close");i.recalcContainerHeight();i.isOpen=!1;$(i.dropdownTextContainer).on("transitionend webkitTransitionEnd oTransitionEnd",function(){i.isOpen||(i.appenddingDots.show(),i.appenddingText.hide(),i.openButton.show(),i.closeButton.hide())});for(r in t)i[r]=t[r];$(i.openButton).on("click",function(){i.open()});$(i.closeButton).on("click",function(){i.close()})};OpenriceApp.Widgets.DropdownSectionMoreText.prototype.open=function(){var n=this;n.dropdownTextContainer.css("height",n.expandHeight);n.appenddingDots.hide();n.appenddingText.show();n.openButton.hide();n.closeButton.show();n.isOpen=!0;typeof n.openCallback=="function"&&n.openCallback()};OpenriceApp.Widgets.DropdownSectionMoreText.prototype.close=function(){var n=this;n.dropdownTextContainer.css("height",n.collapseHeight);n.isOpen=!1;typeof n.closeCallback=="function"&&n.closeCallback()};OpenriceApp.Widgets.DropdownSectionMoreText.prototype.recalcContainerHeight=function(){var n=this;n.appenddingDots.hide();n.expandHeight=n.dropdownTextContainer.css("height");n.appenddingDots.show();n.appenddingText.hide();n.openButton.show();n.closeButton.hide();n.collapseHeight=n.dropdownTextContainer.css("height");n.dropdownTextContainer.css("height",n.collapseHeight)};OpenriceApp.Widgets.DropdownSectionAutocomplete=function(n,t){var i=this;OpenriceApp.Widgets.DropdownSection.apply(this,[n,t]);i.input=$(i.header).find("input");i.moreButton=$(i.selector).find(".js-dropdown-section-content-container-more-button");$(i.input).on("paste keyup",function(){i.isOpen||i.open();typeof i.inputCallback=="function"&&i.inputCallback(this.value);i.updateAutocompleteList(this.value)})};OpenriceApp.Widgets.DropdownSectionAutocomplete.prototype=new OpenriceApp.Widgets.DropdownSection;OpenriceApp.Widgets.DropdownSectionAutocomplete.prototype.constructor=OpenriceApp.Widgets.DropdownSectionAutocomplete;OpenriceApp.Widgets.DropdownSectionAutocomplete.prototype.initListEvents=function(){var n=this,t;for(n.optionList=$(n.dropdownContainer).find(".js-dropdown-section-content-container-options").find(".js-dropdown-section-content-container-options-item"),t=0;t<n.optionList.length;t++){$(n.optionList[t]).find("a").on("click",function(){typeof n.optionClickCallback=="function"&&n.optionClickCallback($(this).parent().data("param"),$(this).parent().data("tag"))});t>4&&$(n.optionList[t]).css("opacity",0)}n.optionList.length<6&&$(n.moreButton).hide();n.noResult=$(n.selector).find(".no-result");n.optionList.length<1&&n.noResult.show();n.updateAutocompleteList($(n.input).val())};OpenriceApp.Widgets.DropdownSectionAutocomplete.prototype.updateAutocompleteList=function(n){var t=this,i,r;if(!(t.optionList.length<1)){for(n?($(t.optionList).parent().find("li:not(:containsInTagOrSynonyms("+n+"))").css("display","none"),$(t.optionList).parent().find("li:containsInTagOrSynonyms("+n+")").css("display","block")):$(t.optionList).css("display","block"),$(t.optionList).css("opacity",0),i=0,r=0;r<t.optionList.length;r++){if(i===6)break;$(t.optionList[r]).css("display")==="block"&&(i<5&&$(t.optionList[r]).css("opacity",1),i++)}i<6?$(t.moreButton).hide():$(t.moreButton).show();i===0?$(t.noResult).show():$(t.noResult).hide()}};OpenriceApp.Widgets.DropdownSectionCheckbox=function(n,t){var i=this;OpenriceApp.Widgets.DropdownSection.apply(this,[n,t])};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype=new OpenriceApp.Widgets.DropdownSection;OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.constructor=OpenriceApp.Widgets.DropdownSectionCheckbox;OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.registerCheckboxes=function(){var n=this,r=$(n.dropdownContainer).find(".dropdown-section-content-container-checkbox-item"),u,i,t;for(n.moreButton=$(n.selector).find(".js-dropdown-section-content-container-more-button"),n.checkboxList={},t=0;t<r.length;t++)i=new OpenriceApp.Widgets.Checkbox(r[t]),u=$(i.label).data("param"),n.checkboxList[u]=i;Object.keys(n.checkboxList).length<6&&$(n.moreButton).hide()};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.registerCheckboxCallback=function(n){for(var t in this.checkboxList)this.checkboxList[t].changeCallback=n};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.uncheck=function(n){this.checkboxList[n].clear()};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.check=function(n){this.checkboxList[n].check()};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.countChecked=function(){var n=0;return this.eachCheckbox(function(t){t.isChecked&&n++}),n};OpenriceApp.Widgets.DropdownSectionCheckbox.prototype.eachCheckbox=function(n){for(var t in this.checkboxList)n(this.checkboxList[t])};OpenriceApp.Widgets.DropdownSortingSection=function(n,t){var i=this,h,f,e,r;i.selector=n;OpenriceApp.Widgets.DropdownSection.apply(this,[n,t]);i.dropdownContainerHeight="auto";i.sortingOptions=$(i.selector).data().sortOptions;var o=$(i.selector).data().sortLang,s=" | ",u="";for($.each(i.sortingOptions,function(n,t){t.Selected&&(u=t.Name)}),u.length!=""&&(u=s+u),$(i.selector).find($(".js-dropdown-section-header")).find($("span")).text(o+u),h=function(){$(i.selector).find($(".js-dropdown-section-header")).find($("span")).text(o+s+i.sortingOptions[this.getAttribute("attr-index")].Name);i.param=i.sortingOptions[this.getAttribute("attr-index")].SearchKey;i.close();typeof i.changeCallback=="function"&&i.changeCallback()},f=0;f<i.sortingOptions.length;f++)e=i.sortingOptions[f],r=document.createElement("div"),r.innerHTML=e.Name,i.dropdownContainer.append(r),$(r).css("cursor","pointer"),r.setAttribute("attr-index",f),$(r).attr("data-param",e.SearchKey),$(r).click(h)};OpenriceApp.Widgets.DropdownSortingSection.prototype=new OpenriceApp.Widgets.DropdownSection;OpenriceApp.Widgets.DropdownSortingSection.prototype.constructor=OpenriceApp.Widgets.DropdownSortingSection;OpenriceApp.Widgets.Tag=function(n,t){var i=this,r;i.selector=n;for(r in t)i[r]=t[r];i.removeButton=$(i.selector).find(".js-filter-tag-item-remove-button");$(i.removeButton).on("click",function(){typeof i.removeButtonClicked=="function"&&i.removeButtonClicked(i)})};OpenriceApp.Widgets.FilterTagsContainer=function(n,t){var i=this,r;i.selector=n;i.tags={};for(r in t)i[r]=t[r]};OpenriceApp.Widgets.FilterTagsContainer.prototype.addNewTag=function(n){var t=this,u=n.category,i=n.name,r=n.param,s=n.update,f=n.li,e,o;t.hasDuplicate(r)||i!==undefined&&r!==undefined&&(t.tags[u]===undefined&&(t.tags[u]={}),i!=""&&(f=f?f:'<li class="filter-tag-item js-filter-tag-item" data-tag="'+i+'" data-param="'+r+'"><span>'+i+'<\/span><div class="filter-tag-item-remove-button js-filter-tag-item-remove-button"><div class="filter-tag-item-cross-icon or-sprite or-close-button "><\/div><\/div><\/li>'),$(t.selector).append(f),e=$(t.selector).find(".js-filter-tag-item"),o=$(e[e.length-1]),t.tags[u][r]=new OpenriceApp.Widgets.Tag(o,{name:i,param:r,category:u,removeButtonClicked:function(n){t.removeFromList(n,{update:!0})}}),typeof t.listUpdatedCallback=="function"&&s&&t.listUpdatedCallback(t))};OpenriceApp.Widgets.FilterTagsContainer.prototype.addToList=function(){var n=this};OpenriceApp.Widgets.FilterTagsContainer.prototype.removeFromList=function(n,t){var i=this;t=t?t:{};$(n.selector).remove();delete i.tags[n.category][n.param];typeof i.listUpdatedCallback=="function"&&t.update===!0&&i.listUpdatedCallback(i);typeof i.itemRemovedCallback=="function"&&i.itemRemovedCallback(n)};OpenriceApp.Widgets.FilterTagsContainer.prototype.removeTagsByCategory=function(n,t){var r=this,i,u;if(this.tags[n]){for(u in this.tags[n])i=this.tags[n][u],$(i.selector).remove(),delete r.tags[i.category][i.param];t=t?t:{};typeof r.listUpdatedCallback=="function"&&t.update&&r.listUpdatedCallback()}};OpenriceApp.Widgets.FilterTagsContainer.prototype.clearAll=function(){var n=this,t=!1;n.eachTag(function(i){t=!0;$(i.selector).remove();typeof n.itemRemovedCallback=="function"&&n.itemRemovedCallback(i)});n.tags={};typeof n.listUpdatedCallback=="function"&&t&&n.listUpdatedCallback(n)};OpenriceApp.Widgets.FilterTagsContainer.prototype.hasDuplicate=function(n){var i=this,t=!1;return i.eachTag(function(i){i.param===n&&(t=!0)}),t};OpenriceApp.Widgets.FilterTagsContainer.prototype.eachTag=function(n){var t=this,i,r;for(i in t.tags)for(r in t.tags[i])n(t.tags[i][r])};OpenriceApp.Widgets.FilterTagsContainer.prototype.eachTagExceptGuided=function(n){var i=this,t,u,r;for(t in i.tags)if(t!="guidedSearch")for(u in i.tags[t])n(i.tags[t][u]);else for(r=0;r<i.tags[t].length;r++)r===i.tags[t].length-1&&n(i.tags[t][u])};OpenriceApp.Widgets.FilterTagsContainer.prototype.removeCategoryTags=function(n){var t=this.tags[n],i;for(var r in t)i=t[r],$(i.selector).remove(),delete t[i.param]};OpenriceApp.Widgets.quickSearch=function(n,t){function u(n){f(n);e(n);o(n)}function f(n){var t=i.inputs+"."+n;$(t).on("focus",function(){i.showFeeder(n)})}function e(n){var r=i.inputs+"."+n,t;$(r).keyup(function(r){t=r.keyCode;t===40?(r.preventDefault(),s(n)):t===38?(r.preventDefault(),h(n)):t===13?(r.preventDefault(),c(n)):i.updateFeeder(n)})}function o(n){var t=i.inputs+"."+n;$(t).is(":focus")&&$(t).triggerHandler("focus")}function s(n){for(var t=$(".js-quick-search-options."+n+" .js-option-item"),i=-1,u,r=0;r<t.length;r++)u=t[r],$(u).hasClass("focus")&&($(u).addClass("focus"),i=r);$(t[i+1])&&(i<t.length-1&&$(t[i]).removeClass("focus"),$(t[i+1]).addClass("focus"))}function h(n){for(var t=$(".js-quick-search-options."+n+" .js-option-item"),i=-1,u,r=0;r<t.length;r++)u=t[r],$(u).hasClass("focus")&&(i=r);$(t[i-1])&&(i>0&&$(t[i]).removeClass("focus"),$(t[i-1]).addClass("focus"))}function c(n){var t=$(".js-quick-search-options."+n+" .js-option-item.focus"),r,u,f;t.length?(r=$(t).data("tag"),u=$(t).data("param"),f=$(t).data("url")):r=$(i.inputs+"."+n).val().trim();i.selectFeederItem(f,n,r,u)}function l(){typeof OpenriceApp.localStorage.getItem("OR_AcceptedGeoLocation")=="undefined"&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){OpenriceApp.localStorage.setItem("OR_AcceptedGeoLocation","1")},function(){OpenriceApp.localStorage.setItem("OR_AcceptedGeoLocation","0")}):OpenriceApp.localStorage.setItem("OR_AcceptedGeoLocation","1"))}var i=this,r;i.selector=n.selector;i.inputs=".js-input-quick-search";i.whereOptions=".js-quick-search-options.where";i.whatInput=".js-input-quick-search.what";i.whereInput=".js-input-quick-search.where";i.whatOptions=".js-quick-search-options.what";i.searchButton=".js-quick-search-container button";i.mapSearchButton=".js-map-search-button";i.feederWrapper=".js-quick-search-options";i.geoSearchKey="";i.params={where:{},what:{}};i.feederRequests={};for(r in t)i[r]=t[r];l();u("where");u("what");i.optionsRenderedEvents("where");i.optionsRenderedEvents("what");i.updateFeeder("where");i.updateFeeder("what");$(i.searchButton).on("click",function(){i.buildSearchParam();i.saveSearchHistory(i.buildSearchHistory());i.search()});$(i.mapSearchButton).on("click",function(){i.buildSearchParam();i.saveSearchHistory(i.buildSearchHistory());var n=$(i.mapSearchButton).data("mapsearch-url");i.search(n)});OpenriceApp.registerDocumentEventHandler("click",function(n){var t=$(".js-quick-search-wrapper");t.is(n.target)||t.has(n.target).length!==0||i.hideFeeder();$(".nav-dropdown").on("shown.bs.dropdown",function(){i.hideFeeder()})})};OpenriceApp.Widgets.quickSearch.prototype.renderOptions=function(n){var t=this,u={where:t.whereOptions,what:t.whatOptions},r,i;t.currentType=n;t.currentFeeder=u[n];r=Handlebars.compile($("#quickSearchOptionTemplate").html());i=r({data:t.feederData});n=="where"&&(i+=$("#quicksearch-footer-template").html());$(t.currentFeeder).html(i);t.optionsRenderedEvents(n)};OpenriceApp.Widgets.quickSearch.prototype.optionsRenderedEvents=function(n){var i=this,t=$(".js-quick-search-options."+n+" .js-option-item");$(t).on("mouseover",function(){$(this).addClass("focus");$(t).not(this).removeClass("focus")});$(t).on("click",function(){var t=$(this).data("url"),r=$(this).data("tag"),u=$(this).data("param");i.selectFeederItem(t,n,r,u)})};OpenriceApp.Widgets.quickSearch.prototype.updateFeeder=function(n){function s(n,i,r,u,f){u?(i=i+"&"+u,typeof f=="function"&&f(n,i,u,r)):OpenriceApp.localStorage.getItem("OR_AcceptedGeoLocation")==="1"?navigator.geolocation.getCurrentPosition(function(u){var e="geo="+"{lat},{lng}".replace("{lat}",u.coords.latitude).replace("{lng}",u.coords.longitude);t.geoSearchKey=e;typeof f=="function"&&(i=i+"&"+e,f(n,i,e,r))},function(){typeof f=="function"&&f(n,i,u,r)}):typeof f=="function"&&f(n,i,u,r)}function u(n,i,r,u){t.feederRequests[n]&&typeof t.feederRequests[n].abort=="function"&&t.feederRequests[n].abort();t.feederRequests[n]=OpenriceApp.Nav.Model.getData(i,function(i){i=c(i);n=="where"&&r&&(i=h(r,u,i));t.feederData=i;t.renderOptions(n);t.feederRequests[n]=null;t.unHighLight(n);t.highLight(n)})}function h(n,t,i){if(n&&t.length==0){var r={searchKey:n,name:$(".js-quick-search-container").data("gps-lang")};i.allOfCurrentCity==null?i.allOfCurrentCity={tips:[r]}:i.allOfCurrentCity.tips.unshift(r)}return i}function c(t){if(!OpenriceApp.Helpers.isLoggedIn()&&t.recent&&OpenriceApp.localStorage.getItem("ORSearchHistory")&&i.length==0){var r=JSON.parse(OpenriceApp.localStorage.getItem("ORSearchHistory"))[n];t.recent.tips=r}return t}var t=this,f=t.inputs+"."+n,i=$(f).val();if(t.params[n].name!==i&&OpenriceApp.Helpers.isOverMinimumLength(i)){var e=$(".js-local-menu").attr("data-regionId"),o=$(".js-navigation").data("lang"),r="/api/search/tips/region/"+e+"/"+n+"?uiLang="+o+"&keyword="+encodeURIComponent(i);n==="where"?s(n,r,i,t.geoSearchKey,u):u(n,r,i)}};OpenriceApp.Widgets.quickSearch.prototype.selectFeederItem=function(n,t,i,r){function e(t,i,r){u.params[t]=r?{searchKey:r,name:i,url:n}:{name:i,url:n}}function o(n){n==="where"?$(u.whatInput).trigger("focus"):u.search()}var u=this,f=u.inputs+"."+t;if($(f).val(i),u.updateFeeder(t),e(t,i,r),u.buildSearchParam(),u.saveSearchHistory(u.buildSearchHistory()),n){window.location.href=n;return}u.hideFeeder();o(t)};OpenriceApp.Widgets.quickSearch.prototype.showFeeder=function(n){var t=this;$(t.feederWrapper).addClass("hidden");$(t.feederWrapper+"."+n).removeClass("hidden")};OpenriceApp.Widgets.quickSearch.prototype.hideFeeder=function(){var n=this;$(".js-quick-search-options").addClass("hidden")};OpenriceApp.Widgets.quickSearch.prototype.highLight=function(n){var i=this,r=i.inputs+"."+n,u=$(r).val(),t;(n==="what"?t="whatOptions":n==="where"&&(t="whereOptions"),t)&&$(i[t]).find(".js-option-item:not(.js-not-highlight-item)").highlight(u)};OpenriceApp.Widgets.quickSearch.prototype.unHighLight=function(n){var i=this,t;(n==="what"?t="whatOptions":n==="where"&&(t="whereOptions"),t)&&$(i[t]).find(".js-option-item:not(.js-not-highlight-item)").unhighlight()};OpenriceApp.Widgets.quickSearch.prototype.search=function(n){var i=this,e=window.location.protocol+"//"+window.location.host,r,t,u,f;r=typeof i.params.where.searchKey=="undefined"?"":i.params.where.searchKey;t=typeof i.params.what.searchKey=="undefined"?"":i.params.what.searchKey;r.length>0&&t.length>0&&(t="&"+t);f=!n?$(".js-quick-search-container").data("action"):n;u=e+f+"?"+r+t;window.location.href=u};OpenriceApp.Widgets.quickSearch.prototype.buildSearchParam=function(){var n=this,t,i;t=i="";n.params.where.name||$(n.whereInput).val().trim()===""||(n.params.where.name=$(n.whereInput).val().trim());n.params.what.name||$(n.whatInput).val().trim()===""||(n.params.what.name=$(n.whatInput).val().trim());t=n.params.where.name?"where="+encodeURIComponent(n.params.where.name):"";!!n.params.where.searchKey||(n.params.where.searchKey=t);i=n.params.what.name?"what="+encodeURIComponent(n.params.what.name):"";!!n.params.what.searchKey||(n.params.what.searchKey=i)};OpenriceApp.Widgets.quickSearch.prototype.buildSearchHistory=function(){var n=this;return{where:{name:n.params.where.name,searchKey:n.params.where.searchKey,urlUI:n.params.where.url,timestamp:n.params.where.timestamp},what:{name:n.params.what.name,searchKey:n.params.what.searchKey,urlUI:n.params.what.url,timestamp:n.params.what.timestamp}}};OpenriceApp.Widgets.quickSearch.prototype.saveSearchHistory=function(n){var t=this;!n.where||!n.where.searchKey||n.where.searchKey.indexOf("geo=")!==0?t.updateSearchHistory(n):t.updateSearchHistory({where:{},what:n.what})};OpenriceApp.Widgets.quickSearch.prototype.updateSearchHistory=function(n){var u="ORSearchHistory",i,s=!0,o,t,f,e,r;if(OpenriceApp.localStorage.getItem(u)===null&&(s=OpenriceApp.localStorage.setItem(u,JSON.stringify({where:[],what:[]}))),s===!1)return!1;for(i=JSON.parse(OpenriceApp.localStorage.getItem(u)),o=["where","what"],e=0;e<o.length;e++)if(t=o[e],!!n[t]&&!!n[t].name){for(f=!1,n[t].timestamp=Date.now(),r=0;r<i[t].length;r++)n[t].searchKey?i[t][r].searchKey===n[t].searchKey&&(f=!0,i[t][r].timestamp=Date.now()):i[t][r].name===n[t].name&&(f=!0,i[t][r].timestamp=Date.now());!f&&n[t].searchKey&&i[t].unshift(n[t]);i[t].sort(function(n,t){return t.timestamp-n.timestamp});i[t]=i[t].slice(0,3)}OpenriceApp.localStorage.setItem(u,JSON.stringify(i))};OpenriceApp.Widgets.HeaderSubtabsSection=function(n,t){var i=this;i.selector=n;i.activeStyle=t.active};OpenriceApp.Widgets.HeaderSubtabsSection.prototype.activeSelf=function(n,t){var i=this;n.find($("a")).removeClass(i.activeStyle);t.addClass(i.activeStyle);i.param=t.attr("data-param");typeof i.changeCallback=="function"&&i.changeCallback()};OpenriceApp.Widgets.SliderModalMobile=function(n,t,i){var u=this,r={index:0,history:!1,focus:!1,escKey:!1,loop:!1,pinchToClose:!1,title:" ",showAnimationDuration:0,hideAnimationDuration:0,isClickableElement:function(n){return $(n).hasClass("js-btn")},getDoubleTapZoom:function(n,t){return t.initialZoomLevel}};this.selector=n;this.items=t;this.options=i?i:r;this.isOpened=!1};OpenriceApp.Widgets.SliderModalMobile.prototype.initCloseButton=function(){var n=this,t=$(n.selector).find(".js-close-btn");$(t).each(function(t,i){$(i).on("click",function(){n.close()})})};OpenriceApp.Widgets.SliderModalMobile.prototype.showModal=function(n){var t=$(this.selector).find(".pswp").get(0);this.options.index=n;this.gallery=new PhotoSwipe(t,PhotoSwipeUI_Default,this.items,this.options);this.gallery.init();this.initCloseButton();this.isOpened=!0};OpenriceApp.Widgets.SliderModalMobile.prototype.addItems=function(n){var t=this;t.gallery?(t.gallery.invalidateCurrItems(),$.each(n,function(n,i){t.items.push(i)}),this.isOpened&&t.gallery.updateSize(!1)):$.each(n,function(n,i){t.items.push(i)})};OpenriceApp.Widgets.SliderModalMobile.prototype.reloadModal=function(n,t){t===undefined&&(t=this.options);this.gallery=new PhotoSwipe(this.selector,PhotoSwipeUI_Default,n,t);gallery.init()};OpenriceApp.Widgets.SliderModalMobile.prototype.listen=function(n,t){this.gallery!==undefined&&typeof this.gallery.listen=="function"&&this.gallery.listen(n,t)};OpenriceApp.Widgets.SliderModalMobile.prototype.close=function(){this.gallery!==undefined&&typeof this.gallery.close=="function"&&(this.gallery.close(),this.isOpened=!1)};OpenriceApp.Widgets.SliderModalMobile.prototype.getCurrentIndex=function(){if(this.gallery!==undefined&&typeof this.gallery.getCurrentIndex=="function")return this.gallery.getCurrentIndex()};OpenriceApp.Widgets.SliderModalMobile.prototype.getCurrentItem=function(){if(this.gallery!==undefined)return this.gallery.currItem};OpenriceApp.Widgets.SliderModalMobile.prototype.updateSlides=function(n){this.gallery!==undefined&&(this.gallery.invalidateCurrItems(),typeof n=="function"&&n(),this.gallery.updateSize(!0))};OpenriceApp.Widgets.SwipeSlider=function(n){var t=this,u={selector:"#swipe",swipeOption:{},callback:function(){},transitionEnd:function(){},pager:!0,pagerSelector:undefined,prevControlSelector:undefined,nextControlSelector:undefined},i,r;if(this.options=$.extend(u,n),i=this.options.swipeOption,i=$.extend(i,{callback:function(n,i){t.updatePagerAndControl(n);t.options.callback(n,i)},transitionEnd:function(n,i){t.options.transitionEnd(n,i)}}),this.itemCount=$(this.options.selector).eq(0).children().eq(0).children().length,this.swipe=Swipe($(this.options.selector).get(0),i),$(this.options.selector).eq(0).addClass("swipe"),this.prev=this.swipe.prev,this.next=this.swipe.next,this.getNumSlides=function(){return t.itemCount},this.getPos=function(){return t.swipe.getPos()%t.getNumSlides()},this.slide=this.swipe.slide,this.options.pager){for(this.pagerElement=typeof this.options.pagerSelector=="undefined"?$("<div><\/div>").addClass("swipe-pager").appendTo($(this.options.selector).first()):$($(this.options.pagerSelector).first()),r=0;r<this.getNumSlides();r++)$("<a><\/a>").addClass("swipe-pager-item").attr("data-index",r).appendTo(t.pagerElement);$(this.pagerElement).children(".swipe-pager-item").on("click",function(){$(this).attr("data-index")!=t.getPos()&&t.slide($(this).attr("data-index"))})}if(!!this.options.prevControlSelector)$(this.options.prevControlSelector).first().on("touchstart mousedown",function(n){n.preventDefault();t.swipe.prev()});if(!!this.options.nextControlSelector)$(this.options.nextControlSelector).first().on("touchstart mousedown",function(n){n.preventDefault();t.swipe.next()});this.updatePagerAndControl=function(){t.options.pager&&$(t.pagerElement).children(".swipe-pager-item").removeClass("active").eq(t.getPos()).addClass("active");!t.options.prevControlSelector||(t.getPos()==0?$(t.options.prevControlSelector).first().addClass("disabled"):$(t.options.prevControlSelector).first().removeClass("disabled"));!t.options.nextControlSelector||(t.getPos()==t.getNumSlides()-1?$(t.options.nextControlSelector).first().addClass("disabled"):$(t.options.nextControlSelector).first().removeClass("disabled"))};this.updatePagerAndControl()};OpenriceApp.Widgets.FloatingBox=function(n){var t=this,i,r,u;for(i in n)t[i]=n[i];t.sectionHeight=$(t.selector).offset().top;t.headerHeight=$(t.headerSelector)!==undefined?$(t.headerSelector).height():0;r=window.screen.height;u=$(document).scrollTop();t.viewPortPosition=window.screen.height+$(document).scrollTop()-t.headerHeight;t.floatingBoxPosition=$(t.floatingBoxSelector).position().top;t.init()};OpenriceApp.Widgets.FloatingBox.prototype.init=function(){var n=this;n.updateFloatingBox();$(window).scroll(function(){n.isDynamicHeight&&n.updateDynamicHeight();n.updateFloatingBox()})};OpenriceApp.Widgets.FloatingBox.prototype.updateDynamicHeight=function(){var n=this;n.sectionHeight=$(n.selector).offset().top};OpenriceApp.Widgets.FloatingBox.prototype.updateFloatingBox=function(){var n=this;n.viewPortPosition=n.sectionHeight+$(n.floatingBoxSelector).height()-$(window).height()-$(document).scrollTop();n.viewPortPosition<0?n.removeFloating():n.addFloating()};OpenriceApp.Widgets.FloatingBox.prototype.addFloating=function(){var n=this;$(n.floatingBoxSelector).addClass(n.floatingClassName)};OpenriceApp.Widgets.FloatingBox.prototype.removeFloating=function(){var n=this;$(n.floatingBoxSelector).removeClass(n.floatingClassName)};OpenriceApp.Widgets.PhotoCommentSection=function(n,t){var r=this,i={userName:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),userUrl:$(".js-header-userbar .js-user-info").attr("href"),photo:{url:OpenriceApp.localStorage.getItem("userPhotoUrl")}};r.options=t;r.options.replyCallback=function(n,t){var u=this,f=r.options.targetId,e=r.options.targetId;OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Media.Photo.replyComment(f,e,n,t,function(t){var r=t[0]||{},f=u.getCommentById(n);f.responses=f.responses?f.responses:[];r.user=i;r.currentUser=i;r.userPhotoUrl=i.userPhotoUrl;r.userName=i.userName;f.responses.push(r);u.updateComment(n,f)})};r.options.commentCallback=function(n,t,r){var u=this,f=OpenriceApp.Helpers.isLoggedIn();OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Media.Photo.comment(n,t,r,function(n){var t=n[0]||{};t.user=i;t.currentUser=i;t.userUrl=i.userUrl;t.userName=i.userName;t.userPhotoUrl=i.userPhotoUrl;u.appendComment(t)})};OpenriceApp.Widgets.CommentSection.apply(r,[n,r.options])};OpenriceApp.Widgets.PhotoCommentSection.prototype=Object.create(OpenriceApp.Widgets.CommentSection.prototype);OpenriceApp.Widgets.PhotoCommentSection.prototype.constructor=OpenriceApp.Widgets.CommentSection;OpenriceApp.Widgets.PhotoCommentSection.prototype.initPhotoCommentSection=function(){};OpenriceApp.Widgets.ReviewCommentSection=function(n,t){var r=this,i={userName:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),photo:{url:OpenriceApp.localStorage.getItem("userPhotoUrl")},userUrl:$(".js-header-userbar .js-user-info").attr("href")};r.options=t;r.options.replyCallback=function(n,t){var u=this,f=r.options.targetId,e=r.options.targetId;OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Review.comment(f,e,n,t,function(t){var r=u.getCommentById(n),f=t[0]||{};r.responses=r.responses?r.responses:[];f.userUrl=i.userUrl;f.currentUser=i;f.userPhotoUrl=i.userPhotoUrl;f.userName=i.userName;r.responses.push(f);u.updateComment(n,r)})};r.options.commentCallback=function(n,t,r){var u=this;OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Review.comment(n,t,null,r,function(n){var t=n[0]||{};t.user=i;t.currentUser=i;t.userPhotoUrl=i.userPhotoUrl;t.userName=i.userName;t.userUrl=i.userUrl;u.appendComment(t)})};OpenriceApp.Widgets.CommentSection.apply(r,[n,r.options])};OpenriceApp.Widgets.ReviewCommentSection.prototype=Object.create(OpenriceApp.Widgets.CommentSection.prototype);OpenriceApp.Widgets.ReviewCommentSection.prototype.constructor=OpenriceApp.Widgets.CommentSection;OpenriceApp.Widgets.RecommendedUserListDropdown=function(n,t){var i=this,r=$("#recommendedUserDropdownMenuUserTemplate").html();i.selector=n;i.reviewId=t.reviewId;i.template=Handlebars.compile(r);i.userListContainer=$(i.selector).find(".js-content");i.pageNum=1;i.hasMore=!0;i.xhr={}};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.init=function(){function t(){$(n.selector).find(".js-dropdown-menu").on("click",function(n){n.stopPropagation()})}var n=this;t();n.initCloseButton();n.initDropdownMenuOnShow()};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.initDropdownMenuOnShow=function(){var n=this;$(n.selector).on("shown.bs.dropdown",function(){n.clear();n.initialLoad()})};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.initialLoad=function(){for(var n=this,t=0;t<1;t++)n.hasMore&&n.fetch()};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.initCloseButton=function(){var n=this,i=$(n.selector).find(".js-dropdown-menu"),t=$(n.selector).find(".js-close-btn");$(t).on("click",function(){$(n.selector).removeClass("open")})};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.fetch=function(){var n=this,t=n.reviewId;OpenriceApp.Api.isPending(n.xhr)&&OpenriceApp.Api.abort(n.xhr);n.xhr=OpenriceApp.Api.Review.getRecommendedUsers(t,n.pageNum,function(t){var i=n.renderHtml({recommendedUsers:t});n.userListContainer.append(i);n.hasMore=t.length>0;n.hasMore&&(n.pageNum+=1)})};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.clear=function(){var n=this;n.hasMore=!0;n.pageNum=1;n.userListContainer.html("")};OpenriceApp.Widgets.RecommendedUserListDropdown.prototype.renderHtml=function(n){return this.template(n)};OpenriceApp.Widgets.ZoomablePhotoSection=function(n){var t=this;t.selector=n};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.init=function(){this.initImage();this.initZoomable()};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.initZoomable=function(){function e(t,u){var f=u?u.value:$(i).slider("value");$(r).panzoom("zoom",n[f])}function u(n,r){var f=r?r.value:$(i).slider("value"),u=$(t.selector).find(".ui-slider-handle"),e=$(u).width(),o=$(i).slider("option","max");$(u).css("margin-left",e*-1*(.5+f/o))}var t=this,n=[],r=$(t.selector).find(".js-photo"),i=$(t.selector).find(".zoom-slider"),o=$(t.selector).find(".js-zoom-control-container"),f=$(r).data("finalScale");if(f&&f>1){[0,.25,.5,.75,1].forEach(function(t){var i=1+t*(f-1);n.push(i)});t.zoomable=$(r).panzoom({cursor:"-webkit-grab",$zoomRange:$("input[type='range']"),minScale:n[0],increment:n[1]-n[0],maxScale:n[n.length-1],contain:"invert"});$(r).panzoom("reset",!1);$(i).slider({orientation:"horizontal",range:"min",max:n.length-1,min:0,step:1,value:0,slide:function(n,i){var r=$(t.selector).find(".ui-slider-handle");e(n,i);u(n,i)}});u();$(t.selector).find(".zoom-out").off("click").on("click",function(){var n=$(i).slider("option","value"),t=n-1;n>0&&($(i).slider("option","value",t),e(),u())});$(t.selector).find(".zoom-in").off("click").on("click",function(){var t=$(i).slider("option","value"),r=t+1;t<n.length-1&&($(i).slider("option","value",r),e(),u())});$(o).removeClass("hidden")}};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.initImage=function(){var n=this,t=$(n.selector).find(".js-photo-container"),i=$(t).find(".js-photo");n.updateImageSize();$(i).removeClass("hidden")};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.updateImageSize=function(){var a=this,t=$(a.selector).find(".js-photo-container"),n=$(t).find(".js-photo"),s=n[0].naturalWidth,h=n[0].naturalHeight,u=s/h,i=$(t).outerWidth(),r=$(t).outerHeight(),f,e,c,o,l;u>i/r?(e=i/u,c=(r-e)/2,f=s/i,$(n).width(i),$(n).height(e),$(t).css("transform","translate3d(0,"+c+"px,0)")):(o=r*u,l=(i-o)/2,f=h/r,$(n).width(o),$(n).height(r),$(t).css("transform","translate3d("+l+"px,0,0)"));$(n).data("finalScale",f)};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.resize=function(){var n=this;n.updateImageSize();n.destroy();n.initZoomable()};OpenriceApp.Widgets.ZoomablePhotoSection.prototype.destroy=function(){var n=this,t=$(n.selector).find(".js-photo-container"),i=$(t).find(".js-photo"),r=$(n.selector).find(".zoom-slider"),u=$(n.selector).find(".js-zoom-control-container");n.zoomable&&($(i).panzoom("destroy"),$(r).slider("destroy"),$(n.selector).find(".zoom-in").off("click"),$(n.selector).find(".zoom-out").off("click"),$(u).addClass("hidden"),n.zoomable=undefined)};OpenriceApp.Widgets.PhotoDescCommentSection=function(n,t){var i,r;OpenriceApp.Class.Event.call(this);i=this;i.selector=n;i.poiId=t.poiId;i.comments=t.comments;i.shortenUrl=t.shortenUrl;i.mediaId=t.mediaId;i.xhr={like:{},follow:{},getLikeStatus:{},getFollowStatus:{}};for(r in t)i[r]=t[r];i.renderAd(i.comments.length===0);i.on("abort",function(){i.abort()})};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.truncateCaptionText=function(){function u(){$($(n).find(".js-more-button")).one("click",function(){$(n).trigger("destroy");$(n).css("max-height","none")})}var t=this,n=$(t.selector).find(".js-article"),i=$(n).find("~ .js-more > .js-more-button"),r={watch:!0,wrap:"letter",fallbackToLetter:!0,after:i,callback:function(n){n&&u()}};$(n).dotdotdot(r)};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.abort=function(){var n=this;$(n.selector).find(".js-right-section-wrapper").addClass("hidden");$(n.selector).find(".js-right-section-loader").show();OpenriceApp.Api.abort(this.xhr.getLikeStatus);OpenriceApp.Api.abort(this.xhr.getFollowStatus)};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.init=function(){var n=this;this.initCommentSection();this.initDescSection();this.initLayout()};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initLayout=function(){var n=this;$(n.selector).find(".js-right-section-loader").hide();$(n.selector).find(".js-right-section-wrapper").removeClass("hidden");n.truncateCaptionText();$(n.selector).find(".js-comment-list-block").addClass("hidden");!!n.comments&&n.comments.length>0&&$(n.selector).find(".js-comment-list-block").removeClass("hidden")};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initLikeButton=function(){function o(t,i,u){n.xhr.getLikeStatus=OpenriceApp.Api.Media.Photo.getLikeStatus(i,function(n){var f=n[0],e=f&&f.status?f.status:!1;r(t,e);u(t,i)})}function s(t,f){$(t).on("click",function(){var e=$(t).hasClass("selected");OpenriceApp.Helpers.isLoginRequired()||(OpenriceApp.Api.abort(n.xhr.like[f]),n.xhr.like[f]=e?OpenriceApp.Api.Media.Photo.unlike(f,function(t){var r=t.photoLikeCount;u(i,r);n.trigger("PhotoDescCommentSection:updateCount",[f,!1])}):OpenriceApp.Api.Media.Photo.like(f,function(t){var r=t.photoLikeCount;u(i,r);n.trigger("PhotoDescCommentSection:updateCount",[f,!0])}),r(t,!e))})}function r(n,t){t?$(n).removeClass("select").addClass("selected"):$(n).removeClass("selected").addClass("select")}function u(n,t){$(n).html(t)}var n=this,t=$(this.selector).find(".js-like-btn"),f=$(t).length>0,e=$(t).data("mediaId"),i=$(n.selector).find(".js-like-count");f&&o(t,e,s)};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initShareButton=function(){var n=this,t={url:n.shortenUrl,shareMessage:n.shareMessage},i=new OpenriceApp.Widgets.ShareMedia(this.selector,t);i.init()};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initFollowButton=function(){function o(n,r){!u?n.removeClass("hide"):i.xhr.getFollowStatus=OpenriceApp.Api.User.getFollowStatus(r,function(i){var r=i[0],u=r?r.status:!1;t(n,u);n.removeClass("hide")})}function s(n,r){$(n).on("click",function(){OpenriceApp.Helpers.isLoginRequired()||(OpenriceApp.Api.abort(i.xhr.follow[r]),$(n).hasClass("selected")?(t(n,!1),i.xhr.follow[r]=OpenriceApp.Api.User.unfollow(r,null,function(){t(n,!0)})):(t(n,!0),i.xhr.follow[r]=OpenriceApp.Api.User.follow(r,null,function(){t(n,!1)})))})}function t(n,t){t?$(n).removeClass("select").addClass("selected"):$(n).removeClass("selected").addClass("select")}var i=this,n=$(this.selector).find(".js-follow-btn"),f=$(n).length>0,r=$(n).data("userId"),e=$(n).data("userUrl"),u=OpenriceApp.Helpers.isLoggedIn()?OpenriceApp.localStorage.getItem("userId"):null;f&&(!!u&&u==r||(o(n,r),s(n,r,e)))};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initDescSection=function(){this.initLikeButton();this.initFollowButton();this.initShareButton();this.initReplyCountListener()};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initCommentSection=function(){var n=this,f=$(n.selector).find(".js-comment-list"),r,u;$(f).empty();var e=n.poiId,o=n.mediaId,t=n.comments,i={username:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),photo:{url:OpenriceApp.localStorage.getItem("userPhotoUrl")}};t=t?t:[];$.each(t,function(n,t){OpenriceApp.Helpers.isLoggedIn()&&(t.currentUser=i)});n.commentSection=new OpenriceApp.Widgets.PhotoCommentSection($(n.selector).find(".js-comment-section"),{poiId:e,targetId:o,data:t,inputComment:$(this.selector).find(".js-comment-section .js-input-comment")});r=OpenriceApp.Helpers.isLoggedIn();r&&(u=$(this.selector).find(".js-input-comment .js-photo"),$(u).css("background-image","url("+i.userPhotoUrl+")"))};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.renderAd=function(n){var r=this,t,i,u;n&&(t=$("<textarea/>").html($("#photo-model-ad-template").html()).text(),i=t.match(/'(div-gpt-ad-[\d-]+)'/i),i!==null&&i.length>1?(u=i[1],t=t.replace(new RegExp(u,"igm"),u+"-"+(new Date).getTime()),$(r.selector).find("#photo-model-ad").show().html(t),$(r.selector).find(".js-media-modal-ad-block").removeClass("hidden")):$(r.selector).find(".js-media-modal-ad-block").addClass("hidden"))};OpenriceApp.Widgets.PhotoDescCommentSection.prototype.initReplyCountListener=function(){function i(){var i=$(n.selector).find(".js-right-section-content-wrapper");$(i).scrollTop($(t)[0].scrollHeight)}var n=this,t=$(n.selector).find(".js-comment-list-block");n.commentSection.on("comment-section:update-reply-count",function(){var t=$(n.selector).find(".js-reply-count"),r=parseInt($(t).text())+1;$(t).text(r);i()})};OpenriceApp.Widgets.SliderModal=function(n,t){function u(n){var t=i.getCurrentSliderIndex(),r=$(i.selector).find(".js-pager-item"),e=i.getSlideCount(),u=i.sliderNextBtn,f=i.sliderPrevBtn;if($(f).css("display","block"),$(u).css("display","block"),t===0&&$(f).css("display","none"),t===e-1&&$(u).css("display","none"),$(r).filter(".active").removeClass("active"),$(r).eq(t).addClass("active"),typeof i.onSlideAfterHandler=="function")i.onSlideAfterHandler(this.selector,n)}var i,r;OpenriceApp.Class.SubView.call(this,n,t);i=this;this.selector=n;this.sliderNextBtn=$(this.selector).find(".slider-next-btn");this.sliderPrevBtn=$(this.selector).find(".slider-prev-btn");this.sliderIndex=0;for(r in t)i[r]=t[r];i.sliderOptions===undefined&&(i.sliderOptions={startSlide:0,mode:"fade",speed:100,infiniteLoop:!1,controls:!1,pager:!1});i.pagerOptions===undefined&&(i.pagerOptions={startSlide:0,speed:100,infiniteLoop:!1,minSlides:5,maxSlides:5,slideWidth:150,slideMargin:5,moveSlides:1,controls:!1,pager:!1});i.sliderOptions.onSlideAfter=u;i.onSlideAfter=u;i.slider=$(i.selector).find(".slider .bxslider").bxSlider(i.sliderOptions);i.pager=$(i.selector).find(".pager .bxslider").bxSlider(i.pagerOptions);i.initSlider();i.initPager();i.on("show",function(){i.showSlideBySlideIndex(i.sliderIndex)})};OpenriceApp.Widgets.SliderModal.prototype=Object.create(OpenriceApp.Class.SubView.prototype);OpenriceApp.Widgets.SliderModal.prototype.constructor=OpenriceApp.Class.SubView;OpenriceApp.Widgets.SliderModal.prototype.initSlider=function(){var n=this,t=n.sliderNextBtn,i=n.sliderPrevBtn,r=n.sliderOptions;$(document).ready(function(){$(t).click(function(){n.slider.goToNextSlide();var i=n.slider.getSlideCount(),t=n.slider.getCurrentSlide();t>=3&&t<=i-3&&n.pager.goToNextSlide(t)});$(i).click(function(){var i=n.slider.getSlideCount(),t=n.slider.getCurrentSlide();n.slider.goToPrevSlide();t>=2&&t<=i-3&&n.pager.goToPrevSlide()})});OpenriceApp.on("ready",function(){n.setDisplayRoutes(n.routes)})};OpenriceApp.Widgets.SliderModal.prototype.initPager=function(){var n=this,t=$(this.selector).find(".pager .bxslider");$(t).on("click","li",function(){var i=n.slider.getSlideCount(),t=$(this).index();t!==undefined&&t>=0&&(n.slider.goToSlide(t),n.pager.goToSlide(n.toPagerIndex(t)))})};OpenriceApp.Widgets.SliderModal.prototype.reloadModal=function(){this.slider.reloadSlider();this.pager.reloadSlider()};OpenriceApp.Widgets.SliderModal.prototype.goToSlide=function(n){this.slider.goToSlide(n);this.pager.goToSlide(this.toPagerIndex(n))};OpenriceApp.Widgets.SliderModal.prototype.toPagerIndex=function(n){var t=this.pager.getSlideCount();return n>=t-2?t-5:n<=2?0:n>2&&n<t-2?n-2:void 0};OpenriceApp.Widgets.SliderModal.prototype.showModal=function(){routie(this.options.routes)};OpenriceApp.Widgets.SliderModal.prototype.showModalAtSlide=function(n){var t=this;t.sliderIndex=n;this.showModal()};OpenriceApp.Widgets.SliderModal.prototype.showSlideBySlideIndex=function(n){var t=this,r,i;if(t.reloadModal(),t.goToSlide(n),r=t.getCurrentSliderIndex(),n===0){i=$(t.selector).find(".slider .bxslider li").first();t.onSlideAfter(i)}};OpenriceApp.Widgets.SliderModal.prototype.getSlideCount=function(){return this.slider.getSlideCount()};OpenriceApp.Widgets.SliderModal.prototype.getCurrentSliderIndex=function(){return this.slider.getCurrentSlide()};OpenriceApp.Widgets.SliderModal.prototype.destroySliders=function(){this.slider&&this.slider.destroySlider();this.pager&&this.pager.destroySlider()};OpenriceApp.Widgets.UserMediaSliderModal=function(n,t){function u(n,t){function l(n){s(i.selector,n);h(i.inputComment,i.inputCommentOriginalHtml);i.photoDescComment=new OpenriceApp.Widgets.PhotoDescCommentSection($(i.selector).find(".js-comment-section"),{poiId:u,comments:n.comments,shortenUrl:e,shareMessage:n.detail.shareMessage,mediaId:r});i.photoDescComment.init();i.photoDescComment.on("PhotoDescCommentSection:updateCount",function(n,t){i.trigger("UserMediaSliderModal:updateCount",[n,t])})}function a(n){console.debug("videoDetailCallback",n);s(i.selector,n);h(i.inputComment,i.inputCommentOriginalHtml);i.videoDescComment=new OpenriceApp.Widgets.VideoDescCommentSection($(i.selector).find(".js-comment-section"),{poiId:u,comments:n.comments,shortenUrl:e,shareMessage:n.detail.shareMessage,mediaId:r});i.videoDescComment.init()}function v(){OpenriceApp.Api.abort(i.xhr.mediaDetail);i.photoDescComment&&i.photoDescComment.trigger("abort");i.videoDescComment&&i.videoDescComment.trigger("abort")}function s(n,t){var i=$("#descriptionSectionTemplate").html(),r=Handlebars.compile(i),u=r(t.detail);$(n).find(".js-description-section").html(u)}function h(n,t){$(n).html(t)}function y(){var n="js-lazy",i=$(t).find("."+n),r;i.length>0&&(r=new OpenriceApp.Widgets.LazyImageLoader(i,{load:function(){$(this).removeClass(n)}}),r.init())}var u=$(n).data("poiId"),r=$(t).data("mediaId"),f=$(t).data("mediaUrl"),e=$(t).data("shortenUrl"),p=$(t).data("share-message"),o=$(t).hasClass("video"),c=$(t).hasClass("inited"),i=this;OpenriceApp.updateBrowserState("replace",f);OpenriceApp.Helpers.sendGA({url:f});y();i.stopAllVideos();o&&!c&&i.initVideoPlayer(t);v();o?(i.xhr.mediaDetail=OpenriceApp.Api.Media.Video.getDetail(r,function(n){a(n)}),OpenriceApp.Api.Media.Video.addViewCount(r)):(i.xhr.mediaDetail=OpenriceApp.Api.Media.Photo.getDetail(r,function(n){l(n)}),OpenriceApp.Api.Media.Photo.addViewCount(r))}var i=this,r=window.location.href;i.selector=n;i.xhr={mediaDetail:{},like:{}};i.photoDescComment=undefined;i.videoDescComment=undefined;i.options={onSlideAfterHandler:u,routes:["photo"]};!t||typeof t=="undefined"||(i.options=$.extend(i.options,t));i.inputComment=$(i.selector).find(".js-input-comment");i.inputCommentOriginalHtml=$(i.inputComment).html();OpenriceApp.Widgets.SliderModal.apply(this,[n,this.options]);i.on("hide",function(){OpenriceApp.updateBrowserState("replace",r)});return i};OpenriceApp.Widgets.UserMediaSliderModal.prototype=Object.create(OpenriceApp.Widgets.SliderModal.prototype);OpenriceApp.Widgets.UserMediaSliderModal.prototype.constructor=OpenriceApp.Widgets.UserMediaSliderModal;OpenriceApp.Widgets.UserMediaSliderModal.prototype.initVideoPlayer=function(n){function f(n,t,i){return $("<iframe />",{name:"player",width:t,height:i,src:n,frameborder:0,type:"text/html"})}var e=this,t=$(n).find(".js-thumbnail"),i=$(n).data("originalUrl")+"?enablejsapi=1&autoplay=1",r=$(n).width(),u=$(n).height();$(t).on("click",function(){var e=f(i,r,u);$(t).replaceWith(e);$(n).addClass("inited")})};OpenriceApp.Widgets.UserMediaSliderModal.prototype.stopAllVideos=function(){function i(n,t,i){var r=$(n).get(0),u=$(n).attr("src");u&&u.indexOf("youtube.com/embed")!=-1&&r&&r.contentWindow&&r.contentWindow.postMessage(JSON.stringify({event:"command",func:t,args:i||[]}),"*")}var n=this,t=$(n.selector).find(".js-slider-item.video");$(t).each(function(n,t){var r=$(t).hasClass("inited"),u=$(t).find("iframe");r&&i(u,"stopVideo")})};OpenriceApp.Widgets.ViewCounter=function(n){var t=this;t.xhr=undefined;t.timer=undefined;t.viewedReviewIds=[];t.viewThreshold=1e3;t.selector=n};OpenriceApp.Widgets.ViewCounter.prototype.init=function(){var n=this;n.initOnScrollHandler();setTimeout(function(){n.checkReviewPosition(function(t){n.positionCallback(t)})},n.viewThreshold)};OpenriceApp.Widgets.ViewCounter.prototype.initOnScrollHandler=function(){var n=this;$(window).on("scroll",function(){clearTimeout(n.timer);n.timer=setTimeout(function(){n.checkReviewPosition(function(t){n.positionCallback(t)})},n.viewThreshold)})};OpenriceApp.Widgets.ViewCounter.prototype.positionCallback=function(n){var t=this;t.xhr=OpenriceApp.Api.Review.addViewCount(n)};OpenriceApp.Widgets.ViewCounter.prototype.checkReviewPosition=function(n){var t=this;$(t.selector).each(function(i,r){var h=20,f=$(r).offset().top+h,e=$(r).offset().top+$(r).innerHeight()-h,o=$(window).scrollTop(),s=$(window).scrollTop()+$(window).innerHeight(),l=f<=s&&f>=o&&e>=s,a=f<=o&&e<=s&&e>=o,v=f<=s&&f>=o&&e<=s&&e>=o,u,c;if(l||a||v){if(u=$(r).data("review-id"),typeof u=="undefined"){console.warn("missing reviewId");return}c=!isNaN(u)&&t.viewedReviewIds.indexOf(u)==-1;c&&n&&typeof n=="function"&&(t.viewedReviewIds.push(u),n(u))}})};OpenriceApp.Widgets.UgcOptionDropdownSection=function(n,t){OpenriceApp.Class.Event.call(this);var i=this;i.selector=n;i.options=t};OpenriceApp.Widgets.UgcOptionDropdownSection.prototype.init=function(){var n=this;n.initMultiSelectDropdown()};OpenriceApp.Widgets.UgcOptionDropdownSection.prototype.initMultiSelectDropdown=function(){var n=this;n.dropdown=new OpenriceApp.Widgets.UgcOptionDropdown(n.selector,n.options);n.dropdown.init()};OpenriceApp.Widgets.UgcOptionDropdownSection.prototype.getData=function(){var n=this;return n.dropdown.getData()};OpenriceApp.Widgets.UgcOptionDropdownSection.prototype.validate=function(){return!0};OpenriceApp.Widgets.UgcOptionDropdown=function(n,t){OpenriceApp.Class.Event.call(this);var i=this;i.selector=n;i.defaultOptions={enable_split_word_search:!0,search_contains:!0,no_results_text:"Oops, nothing found!",width:"100%",max_selected_options:5};i.defaultOptions=$.extend(i.defaultOptions,t)};OpenriceApp.Widgets.UgcOptionDropdown.prototype.init=function(){var n=this;if(new MobileDetect(window.navigator.userAgent).mobile())$(n.selector).removeClass("hidden");else{$(n.selector).chosen(n.defaultOptions);$(n.selector).on("chosen:ready",function(){$(this).removeClass("hidden")})}$(n.selector).bind("chosen:maxselected",function(){})};OpenriceApp.Widgets.UgcOptionDropdown.prototype.getData=function(){var n=this;return $(n.selector).find(":selected")};OpenriceApp.Widgets.UgcOptionDropdown.prototype.refresh=function(){var n=this;return $(n.selector).trigger("chosen:updated")};OpenriceApp.Widgets.RefineSearchSection=function(n){var t=this;return t.selector=n,t.itemSelector=".js-dropdown-section-content-container-options-item",t.visibleLimit=5,t.initInputSearch(),t.initMoreButton(),t};OpenriceApp.Widgets.RefineSearchSection.prototype.initOptionClick=function(){var n=this};OpenriceApp.Widgets.RefineSearchSection.prototype.initInputSearch=function(){var n=this,t=$(n.selector).find(".js-collapsable-search-section input"),i=$(n.selector).find(".js-collapsable-search-section").data("target");$(t).on("paste keyup change input",function(){var t=this.value;clearTimeout(this.typingTimer);this.typingTimer=setTimeout(function(){n.filter(t);$(i).collapse("show");n.initNoResultSection()},250)});$(t).on("click",function(n){n.stopPropagation()})};OpenriceApp.Widgets.RefineSearchSection.prototype.filter=function(n){var t=this;n?($(t.selector).find(t.itemSelector).css("display","none"),$(t.selector).find(t.itemSelector+":containsInTagOrSynonyms("+n+")").css("display","block")):$(t.selector).find(t.itemSelector).css("display","block")};OpenriceApp.Widgets.RefineSearchSection.prototype.refreshSection=function(){var n=this;n.initMoreButton();n.initNoResultSection()};OpenriceApp.Widgets.RefineSearchSection.prototype.initMoreButton=function(){var n=this,t=$(n.selector).find(".js-more-btn"),i=$(n.selector).find(n.itemSelector).length;i<=n.visibleLimit?t.hide():t.show()};OpenriceApp.Widgets.RefineSearchSection.prototype.initNoResultSection=function(){var n=this;$(n.selector).find(n.itemSelector).filter(":visible").length>0?$(n.selector).find(".js-no-result").addClass("hidden"):$(n.selector).find(".js-no-result").removeClass("hidden")};OpenriceApp.Widgets.VideoCommentSection=function(n,t){var r=this,i={userName:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),userUrl:$(".js-header-userbar .js-user-info").attr("href"),photo:{url:OpenriceApp.localStorage.getItem("userPhotoUrl")}};r.options=t;r.options.replyCallback=function(n,t){var u=this,f=r.options.targetId,e=r.options.targetId;OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Media.Video.replyComment(f,e,n,t,function(t){var r=t[0]||{},f=u.getCommentById(n);f.responses=f.responses?f.responses:[];r.user=i;r.currentUser=i;r.userPhotoUrl=i.userPhotoUrl;r.userName=i.userName;f.responses.push(r);u.updateComment(n,f)})};r.options.commentCallback=function(n,t,r){var u=this,f=OpenriceApp.Helpers.isLoggedIn();OpenriceApp.Helpers.isLoginRequired()||OpenriceApp.Api.Media.Video.comment(n,t,r,function(n){var t=n[0]||{};t.user=i;t.currentUser=i;t.userUrl=i.userUrl;t.userName=i.userName;t.userPhotoUrl=i.userPhotoUrl;u.appendComment(t)})};OpenriceApp.Widgets.CommentSection.apply(r,[n,r.options])};OpenriceApp.Widgets.VideoCommentSection.prototype=Object.create(OpenriceApp.Widgets.CommentSection.prototype);OpenriceApp.Widgets.VideoCommentSection.prototype.constructor=OpenriceApp.Widgets.CommentSection;OpenriceApp.Widgets.VideoCommentSection.prototype.initPhotoCommentSection=function(){};OpenriceApp.Widgets.VideoDescCommentSection=function(n,t){var i,r;OpenriceApp.Class.Event.call(this);i=this;i.selector=n;i.poiId=t.poiId;i.comments=t.comments;i.shortenUrl=t.shortenUrl;i.mediaId=t.mediaId;i.xhr={follow:{},getFollowStatus:{}};for(r in t)i[r]=t[r];i.renderAd(i.comments.length===0);i.on("abort",function(){i.abort()})};OpenriceApp.Widgets.VideoDescCommentSection.prototype.truncateCaptionText=function(){function u(){$($(n).find(".js-more-button")).one("click",function(){$(n).trigger("destroy");$(n).css("max-height","none")})}var t=this,n=$(t.selector).find(".js-article"),i=$(n).find("~ .js-more > .js-more-button"),r={watch:!0,wrap:"letter",fallbackToLetter:!0,after:i,callback:function(n){n&&u()}};$(n).dotdotdot(r)};OpenriceApp.Widgets.VideoDescCommentSection.prototype.abort=function(){var n=this;$(n.selector).find(".js-right-section-wrapper").addClass("hidden");$(n.selector).find(".js-right-section-loader").show();OpenriceApp.Api.abort(this.xhr.getFollowStatus)};OpenriceApp.Widgets.VideoDescCommentSection.prototype.init=function(){var n=this;this.initCommentSection();this.initDescSection();this.initLayout()};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initLayout=function(){var n=this;$(n.selector).find(".js-right-section-loader").hide();$(n.selector).find(".js-right-section-wrapper").removeClass("hidden");n.truncateCaptionText();$(n.selector).find(".js-comment-list-block").addClass("hidden");!!n.comments&&n.comments.length>0&&$(n.selector).find(".js-comment-list-block").removeClass("hidden")};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initLikeButton=function(){};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initShareButton=function(){var n=this,t={url:n.shortenUrl,shareMessage:n.shareMessage},i=new OpenriceApp.Widgets.ShareMedia(this.selector,t);i.init()};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initFollowButton=function(){function o(n,r){!u?n.removeClass("hide"):i.xhr.getFollowStatus=OpenriceApp.Api.User.getFollowStatus(r,function(i){var r=i[0],u=r?r.status:!1;t(n,u);n.removeClass("hide")})}function s(n,r){$(n).on("click",function(){OpenriceApp.Helpers.isLoginRequired()||(OpenriceApp.Api.abort(i.xhr.follow[r]),$(n).hasClass("selected")?(t(n,!1),i.xhr.follow[r]=OpenriceApp.Api.User.unfollow(r,null,function(){t(n,!0)})):(t(n,!0),i.xhr.follow[r]=OpenriceApp.Api.User.follow(r,null,function(){t(n,!1)})))})}function t(n,t){t?$(n).removeClass("select").addClass("selected"):$(n).removeClass("selected").addClass("select")}var i=this,n=$(this.selector).find(".js-follow-btn"),f=$(n).length>0,r=$(n).data("userId"),e=$(n).data("userUrl"),u=OpenriceApp.Helpers.isLoggedIn()?OpenriceApp.localStorage.getItem("userId"):null;f&&(!!u&&u==r||(o(n,r),s(n,r,e)))};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initDescSection=function(){this.initFollowButton();this.initShareButton();this.initReplyCountListener()};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initCommentSection=function(){var n=this,f=$(n.selector).find(".js-comment-list"),r,u;$(f).empty();var e=n.poiId,o=n.mediaId,t=n.comments,i={username:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),photo:{url:OpenriceApp.localStorage.getItem("userPhotoUrl")}};t=t?t:[];$.each(t,function(n,t){OpenriceApp.Helpers.isLoggedIn()&&(t.currentUser=i)});n.commentSection=new OpenriceApp.Widgets.VideoCommentSection($(n.selector).find(".js-comment-section"),{poiId:e,targetId:o,data:t,inputComment:$(this.selector).find(".js-comment-section .js-input-comment")});r=OpenriceApp.Helpers.isLoggedIn();r&&(u=$(this.selector).find(".js-input-comment .js-photo"),$(u).css("background-image","url("+i.userPhotoUrl+")"))};OpenriceApp.Widgets.VideoDescCommentSection.prototype.renderAd=function(n){var r=this,t,i,u;n&&(t=$("<textarea/>").html($("#photo-model-ad-template").html()).text(),i=t.match(/'(div-gpt-ad-[\d-]+)'/i),i!==null&&i.length>1?(u=i[1],t=t.replace(new RegExp(u,"igm"),u+"-"+(new Date).getTime()),$(r.selector).find("#photo-model-ad").show().html(t),$(r.selector).find(".js-media-modal-ad-block").removeClass("hidden")):$(r.selector).find(".js-media-modal-ad-block").addClass("hidden"))};OpenriceApp.Widgets.VideoDescCommentSection.prototype.initReplyCountListener=function(){function i(){var i=$(n.selector).find(".js-right-section-content-wrapper");$(i).scrollTop($(t)[0].scrollHeight)}var n=this,t=$(n.selector).find(".js-comment-list-block");n.commentSection.on("comment-section:update-reply-count",function(){var t=$(n.selector).find(".js-reply-count"),r=parseInt($(t).text())+1;$(t).text(r);i()})};OpenriceApp.Widgets.LazyImageLoader=function(n,t,i){var r=this;return r.options={threshold:200,effect:"fadeIn",skip_invisible:"true"},r.selector=n,r.options=$.extend(r.options,t),i!=null&&typeof i=="function"&&(r.options.load=i(element_left,settings)),r};OpenriceApp.Widgets.LazyImageLoader.prototype.init=function(){var n=this;return $(n.selector).lazyload(n.options),$(window).scroll(),n};OpenriceApp.Widgets.FaceBookSDK=function(n){var t=this;for(var i in n)t[i]=n[i];return t};OpenriceApp.Widgets.FaceBookSDK.prototype.init=function(){var n=this;return n.initFaceBookSdk(),n};OpenriceApp.Widgets.FaceBookSDK.prototype.initFaceBookSdk=function(){console.debug("initFacebookSdk");var n=$("body").data("facebook-api-url");$("#fb-root").length>0?console.warn("#fb-root already exist;",$("#fb-root")):$("body").append('<div id="fb-root"><\/div>');typeof n!="undefined"&&n!==""&&function(t,i,r){var u,f=t.getElementsByTagName(i)[0];t.getElementById(r)||(u=t.createElement(i),u.id=r,u.src=n,f.parentNode.insertBefore(u,f))}(document,"script","facebook-jssdk")};OpenriceApp.Loader={};OpenriceApp.Loader.Controller={init:function(){var n=this;n.$el=$("#or-loader");n._waiters={};$(document).keyup(function(t){t.keyCode==27&&n._hide()})},pushLoader:function(n){if(n!==undefined){var t=this;t._waiters[n]=!0;t._show()}},popLoader:function(n){if(n!==undefined){var t=this;n in t._waiters&&delete t._waiters[n];t.isLoading()||t._hide()}},show:function(){this.pushLoader("__unamedWaiter")},hide:function(){this.popLoader("__unamedWaiter")},isLoading:function(){return!$.isEmptyObject(this._waiters)},_animationTimeOut:undefined,_show:function(){var n=this;n.$el.show();n._animationTimeOut&&clearTimeout(n._animationTimeOut);n._animationTimeOut=setTimeout(function(){$(n.$el).addClass("show")},10)},_hide:function(){var n=this;$(n.$el).removeClass("show");n._animationTimeOut&&clearTimeout(n._animationTimeOut);n._animationTimeOut=setTimeout(function(){n.$el.hide()},250)}};OpenriceApp.CommonPopuplogin={};OpenriceApp.CommonPopuplogin.Controller={popupReturnUrl:$("body").data("logout-return-url"),headerLogoutClassName:".js-header-user-info-logout",isAbortPageReload:$("body").data("abort-page-reload"),loginFrameUrl:$("nav").data("login-frame-url"),loginWriteReviewFrameUrl:$("nav").data("login-write-review-frame-url"),signupFrameUrl:$("nav").data("signup-frame-url"),addEmailFrameUrl:$("nav").data("add-email-frame-url"),currentAction:null,iframe:null,backdrop:null,init:function(){var n=this;n.initRoutie();n.initHeaderUserbar();n.initLoginMessageHandler();n.initCommonLoginRequired()},initRoutie:function(){var n=this;routie("loginForm",function(){var i;OpenriceAppCore.Helpers.setBodyScrollPosition();i=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+i+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);var t=n.loginFrameUrl,r=$("#booking-create-container").length>0,u=window.top.$("body").attr("data-is-phone-signup-only")!==null&&window.top.$("body").attr("data-is-phone-signup-only")==="true"?!0:!1;u&&(t+="&phoneSignUpOnly=true");r&&(t+="&isBookingForm=true");$(".login-form-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame login-form-frame").attr("src",t).appendTo("body"):$(".login-form-frame").show()});routie("loginFormAnotherAccount",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=n.loginFrameUrl+"&isLoginAnotherAccount=true";$(".login-form-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame login-form-frame").attr("src",i).appendTo("body"):$(".login-form-frame").show()});routie("loginFormWriteReview",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=n.loginWriteReviewFrameUrl+"&isClosePopupOnly=true";$(".login-form-write-review-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame login-form-write-review-frame").attr("src",i).appendTo("body"):$(".login-form-write-review-frame").show()});routie("registration-form",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=n.signupFrameUrl;$(".signup-form-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame signup-form-frame").attr("src",i).appendTo("body"):$(".signup-form-frame").show()});routie("addEmailForm/review",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=n.addEmailFrameUrl+"&addEmailType=review";$(".review-add-email-form-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame review-add-email-form-frame").attr("src",i).appendTo("body"):$(".review-add-email-form-frame").show()});routie("addEmailForm/uploadPhoto",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=n.addEmailFrameUrl+"&addEmailType=uploadPhoto";$(".upload-photo-add-email-form-frame").length<1?n.iframe=$("<iframe>").addClass("login-frame upload-photo-add-email-form-frame").attr("src",i).appendTo("body"):$(".upload-photo-add-email-form-frame").show()});routie("standalonePage",function(){var t,i;OpenriceAppCore.Helpers.setBodyScrollPosition();t=~~$(window).scrollTop();$("body").css({position:"absolute",top:"-"+t+"px"});OpenriceAppCore.Helpers.changeMobileBodyScroll(!1);i=$("#standalone-frame-mode-url").data("frame-mode-url")+"&isStandalonePage=true";n.iframe=$("<iframe>").addClass("login-frame").attr("src",i).appendTo("body")})},initCommonLoginRequired:function(){var n=this;$(".js-login-required").on("click",function(t){OpenriceApp.Helpers.isLoginRequired()&&(n.currentAction=this,t.preventDefault())})},initLoginMessageHandler:function(){var n=this;$(window).off("message.login").on("message.login",function(t){var i=t.originalEvent.data;i==="login:cancel"&&($(n.iframe).remove(),$(n.backdrop).remove(),n.iframe=null,n.backdrop=null,n.currentAction!=null&&(n.currentAction=null));i==="login:success"&&($(n.iframe).remove(),$(n.backdrop).remove(),n.iframe=null,n.backdrop=null,n.currentAction!=null?n.currentAction.click():n.isAbortPageReload||location.reload())})},initHeaderUserbar:function(){var n=this;$(n.headerLogoutClassName).on("click",function(){OpenriceApp.Api.PopupLogin.logout(function(t){var i=jQuery.parseJSON(t),r=i.domainEntries;n.syncLogout(r,function(){OpenriceApp.Util.removeUserLoginData();typeof n.popupReturnUrl!="undefined"&&n.popupReturnUrl!=""?location.href=n.popupReturnUrl:location.reload()})})})},syncLogout:function(n,t){var r=this,i=[];$(n).each(function(n){var t=$(this)[0].domain,r=$(this)[0].type;i[n]=$.Deferred();OpenriceApp.Api.PopupLogin.syncLogout(t,r,function(t){i[n].resolve(t)})});$.when.apply($,i).done(function(){typeof t=="function"&&t()})}};OpenriceApp.Nav={};OpenriceApp.Nav.Controller={components:{quickSearch:{}},init:function(){this.initQuickSearch();this.initLocalMenu();this.initNotification();this.initUserBar()},initLocalMenu:function(){var n=this,t=$("nav").data("lang"),i=$(".js-local-menu").attr("data-regionId");$(".show-first-child span:not(:first-child)").remove();$(".nav-dropdown").on("shown.bs.dropdown",function(){$(".js-local-menu > li:nth-child(2) > a").addClass("menu-highline")});$(".js-local-menu > li:not(:first-child)").on("mouseover",function(){$(".js-local-menu > li:nth-child(2) > a").removeClass("menu-highline")});n.initLocalDistrict();$(".js-change-country-link").on("click",function(){return $(".js-nav-remember-local").prop("checked")&&$.cookie($("nav").data("country-cookie-name"),$(this).data("country-code"),{expires:$("nav").data("country-cookie-age"),domain:OpenriceApp.Config.cookieDomain,path:"/"}),window.location=$(this).attr("href"),!1});$(".js-change-region-link").on("click",function(){var n={},i,t,r;if(typeof $.cookie($("nav").data("region-cookie-name"))!="undefined"&&(n=JSON.parse($.cookie($("nav").data("region-cookie-name")))),n[$(this).data("country-code").toLowerCase()]=$(this).data("region-id"),typeof $(this).data("affinity-country-codes")=="string")for(i=$(this).data("affinity-country-codes").split(","),t=0;t<i.length;t++)r=i[t].toLowerCase(),n[r]=$(this).data("region-id");return $.cookie($("nav").data("region-cookie-name"),JSON.stringify(n),{expires:$("nav").data("region-cookie-age"),domain:OpenriceApp.Config.cookieDomain,path:"/"}),$.cookie("RegionId",$(this).data("region-id"),{expires:$("nav").data("region-cookie-age"),path:"/"}),window.location=$(this).attr("href"),!1});new OpenriceApp.Widgets.Checkbox(".js-header-userbar-localmenu-content .js-checkbox")},initLocalDistrict:function(){var n=$(".js-nav-local-menu-district-item");$.each(n,function(n,t){var u=$(t).find(".js-filter"),i=$(u).find(".js-letter"),r=$(t).find(".js-district-child-list"),f=$(t).find(".js-district-child"),e=$(i).first(),o=$(e).data("group"),s=$(t).find('.js-district-child[data-group="'+o+'"]');if($(u).length!==0){$(i).on("click",function(){var e=$(this).data("group"),o=$(t).find('.js-district-child[data-group="'+e+'"]'),u=$(r).height(),n;$(i).removeClass("active");$(this).addClass("active");$(f).addClass("hidden");$(o).removeClass("hidden");n=$(r).height();n=n>u?n:u;$(r).height(n)});$(e).addClass("active");$(f).addClass("hidden");$(s).removeClass("hidden")}})},initQuickSearch:function(){function i(){var n=$(".js-advance-search-container");$(".js-btn-advance-search-open").on("click",function(){r()});$(".js-advance-search-close").on("click",function(){OpenriceApp.Helpers.enableScroll();n.hide()})}function r(){var n=$(".js-advance-search-container");n.css("display")==="none"?n.show():n.hide()}var n=this,t=$(".js-quick-search-container"),u=$("nav").data("lang");n.components.quickSearch=new OpenriceApp.Widgets.quickSearch(t,{});n.components.quickSearch.renderCallback=function(){$(".quick-search-feeder-wrapper dl dd").on("mouseenter",function(){$(".quick-search-feeder-wrapper dl dd").removeClass("focus");$(this).addClass("focus")});$(".quick-search-feeder-wrapper dl dd").on("mouseleave",function(){$(this).removeClass("focus")})};i()},initAdvanceSearch:function(){function u(t){return function(){function u(t){var i=0;return t.category==="district"||t.category==="landmark"?(i+=n.components.checkboxContainers.district.countChecked(),i+=n.components.checkboxContainers.landmark.countChecked()):i+=t.countChecked(),i<4?!1:!0}var f=t.countChecked(),i=this,r=u(t);if(r){i.clear();$("#modal-warning").modal();return}this.isChecked?n.components.filterTagItemsContainer.addNewTag({category:t.category,name:$(i.selector).data("tag"),param:$(i.selector).data("param"),update:!0}):n.components.filterTagItemsContainer.eachTag(function(t){$(t.selector).data("param")===$(i.selector).data("param")&&n.components.filterTagItemsContainer.removeFromList(t)})}}function f(t,i){var s=$(".js-advance-search-form").data("moreOptionStr"),e=n.components.checkboxContainers[t.name]=new OpenriceApp.Widgets.CheckboxListContainer(t.listSelector,{data:i,category:t.name},s),o,f;e.eachCheckbox(function(n){n.changeCallback=u(e)});o=$(t.inputSelector);f=$(t.listSelector).find("li");$(o).on("paste keyup",function(){$(f).find("label:not(:containsInTagOrSynonyms("+$(this).val()+"))").parent().css("opacity","0");var n=$(f).find("label:containsInTagOrSynonyms("+$(this).val()+")").parent();n.css("opacity","1");$(f).css("display","none");$(this).val()!=""&&OpenriceApp.Helpers.isOverMinimumLength($(this).val())?n.show():r(f)});$(f).css("display","none");r(f)}function r(n){var i=$(n).find('label[data-priority="true"]').length,r,t;for(i===0&&(i=7),r=0,t=0;t<n.length;t++){if(r===i)break;$(n[t]).css("opacity")==="1"&&($(n[t]).css("display","inline-block"),r++)}}function e(){$(".js-advance-search-form").submit(function(t){t.preventDefault();var i="",r,u,f=0;n.components.filterTagItemsContainer.eachTag(function(n){f>0&&(i+="&");f+=1;i+=n.param});r=window.location.protocol+"//"+window.location.host;u=r+$(this).attr("action")+"?"+i;window.location.href=u})}var n=this,t,i;e();t=$("nav").data("lang");i=$(".js-local-menu").attr("data-regionId");n.initFilterTagItems();n.initFilterTagClearButton();n.components.checkboxContainers={};OpenriceApp.Nav.Model.getData("/api/homepage/searchoptions/region/"+i+"?uiLang="+t,function(n){for(var r=[{name:"district",data:"districts",inputSelector:".advance-search-district-content-search-wrapper .input-group input",listSelector:"#advance-search-tab-district .advance-search-checkboxs-wrapper"},{name:"landmark",data:"landmarks",inputSelector:".advance-search-landmark-content-search-wrapper .input-group input",listSelector:"#advance-search-tab-landmark .advance-search-checkboxs-wrapper"},{name:"cuisine",data:"cuisines",inputSelector:".advance-search-cuisine-content-search-wrapper .input-group input",listSelector:"#advance-search-tab-cuisine .advance-search-checkboxs-wrapper"},{name:"dish",data:"dishes",inputSelector:".advance-search-dish-content-search-wrapper .input-group input",listSelector:"#advance-search-tab-dish .advance-search-checkboxs-wrapper"}],t,i=0;i<r.length;i++)t=r[i],f(t,n[t.data])});OpenriceApp.Nav.Model.getData("/api/homepage/moreoptions/region/"+i+"?uiLang="+t,function(t){function o(t){var i=0;return t.category.name==="district"?(i+=n.components.modalCheckboxContainers.district.countChecked(),i+=n.components.checkboxContainers.landmark.countChecked()):t.category.name==="landmark"?(i+=n.components.modalCheckboxContainers.landmark.countChecked(),i+=n.components.checkboxContainers.district.countChecked()):i+=t.countChecked(),i<4?!1:!0}var f,i={},e=[{name:"district",data:"locations",dataGroup:"locations",modalContainerSelector:"#modal-advance-search-modal-district",jsonFirstLevel:"districts",jsonSecondLevel:"this",jsonLevel:2},{name:"landmark",data:"locations",dataGroup:"locations",modalContainerSelector:"#modal-advance-search-modal-landmark",jsonFirstLevel:"landmarks",jsonSecondLevel:"districts",jsonThirdLevel:"this",jsonLevel:3},{name:"cuisine",data:"cuisines",dataGroup:"cuisines",modalContainerSelector:"#modal-advance-search-modal-cuisine",jsonSecondLevel:"this",jsonFirstLevel:"categories",jsonLevel:2},{name:"dish",data:"dishes",dataGroup:"dishes",modalContainerSelector:"#modal-advance-search-modal-dish",jsonFirstLevel:"categories",jsonSecondLevel:"this",jsonLevel:2}],r,u;for(n.components.modalCheckboxContainers={},u=0;u<e.length;u++)i.category=e[u],i.data=t[i.category.data],f=i.category.modalContainerSelector,r=new OpenriceApp.Widgets.modalCheckboxListContainer(f,i),r.openCallback=function(){var t=this.category.name,i=n.components.checkboxContainers[t],r=i.getCheckedParams();this.checkByParam(r)},r.closeCallback=function(){var r=this.category.name,t=n.components.checkboxContainers[r],i;t.clearAllWithCallback();i=this.getCheckedParams();t.checkByParamWithCallback(i);this.clearAll()},n.components.modalCheckboxContainers[i.category.name]=r,r.eachCheckbox(function(n){n.changeCallback=!$(n.selector).data()||$(n.selector).data().select!=="all"?function(){var r=$(this.selector).data("category"),t=this.parent,i=o(t);i&&(n.clear(),t.hasAccordion()?n.showWarningInAccordion():n.showWarningInCheckboxListContainer())}:function(){this.isChecked?this.parent.eachCheckbox(function(n){$(n.selector).data().select!=="all"&&(n.clear(),$(n.selector).addClass("disabled"))}):this.parent.eachCheckbox(function(n){$(n.selector).removeClass("disabled")})}})})},initFilterTagItems:function(){var n=this,t=$(".hashtag-wrapper .js-filter-tag-list");n.components.filterTagItemsContainer=new OpenriceApp.Widgets.FilterTagsContainer(t);n.components.filterTagItemsContainer.listUpdatedCallback=function(){};n.components.filterTagItemsContainer.itemRemovedCallback=function(t){n.components.checkboxContainers[t.category].uncheck($(t.selector).data("param"))}},initFilterTagClearButton:function(){var n=this,t=$(".js-advance-search-filter-tag-clear-button-bak");t.on("click",function(){n.components.filterTagItemsContainer.clearAll();for(var t in n.components.checkboxContainers)n.components.checkboxContainers[t].clearAll()})},initNotification:function(){$(".js-nav-alarm-wrapper").on("click",function(){return $(".js-nav-notic-container").fadeToggle("300"),$(".js-nav-msg-counter").fadeOut("slow"),!1});$(document).on("click",function(){$(".js-nav-notic-container").fadeOut().on("click",function(){return!1})})},initUserBar:function(){var u=this,n;if(OpenriceApp.Helpers.isLoggedIn()){var t=$("#headerUserbarTemplate").html(),i=Handlebars.compile(t),r=i({userId:OpenriceApp.localStorage.getItem("userId"),username:OpenriceApp.localStorage.getItem("username"),userPhotoUrl:OpenriceApp.localStorage.getItem("userPhotoUrl"),userGrade:OpenriceApp.localStorage.getItem("userGrade")});$(".js-header-userbar-content").html(r);$(".js-header-userbar-content").on("click",".js-write-review-button",function(n){function i(n){var i=$.parseJSON(n);if(i.isNotVerifiedUI)return routie("addEmailForm/review"),!1;window.location.href=t}n.preventDefault();OpenriceApp.Api.User.checkEmailVerified(i);var t=$(this).attr("href")})}$(".js-header-userbar-content").removeClass("hidden");n=function(){$(".js-header-userbar-lang-btn:not(.js-current)").each(function(){$(this).removeAttr("href")})};$(".js-header-userbar-lang-btn:not(.js-current)").on("click",function(){var n,t,i;return $.cookie($("nav").data("culture-cookie-name"),$(this).data("target-culture"),{expires:$("nav").data("culture-cookie-age"),domain:OpenriceApp.Config.cookieDomain,path:"/"}),typeof $(this).attr("href")!="undefined"?(n=$(this).attr("href"),window.location.hash!=""&&n.indexOf("#")<0&&(n=n+window.location.hash),window.location=n):(t=$(this).data("current-lang"),i=$(this).data("target-lang"),!t||!i||(window.location=window.location.href.replace("/"+t+"/","/"+i+"/"))),!1});$(window).on("replaceState",function(){n();OpenriceApp.Helpers.updateLoginBtnUrl()});$(window).on("pushState",function(){n();OpenriceApp.Helpers.updateLoginBtnUrl()});$(window).on("popstate",function(){n();OpenriceApp.Helpers.updateLoginBtnUrl()})},modifyLocalMenuData:function(n){var t={},i={china:"cn"};return $.each(n,function(n,t){if(t.countryCode===i.china){var r=[],u={};$.each(t.cities,function(n,t){var i=t.initial;u[i]="";!t.isHighlighted||r.push(t)});t.isChina=!0;t.hasPopularCities=r.length>0;t.popularCities=t.hasPopularCities?r:null;t.letters=Object.keys(u).sort()}else t.isChina=!1}),t.regions=n,t}};OpenriceApp.Nav.Model={data:{},getData:function(n,t){var i=this;return $.getJSON(n,{},function(n){t(n)})}};OpenriceApp.Widgets.ShareMedia=function(n,t){var r=this,i;r.selector=n;for(i in t)r[i]=t[i]};OpenriceApp.Widgets.ShareMedia.prototype.init=function(){var n=this;n.selector||(n.selector=$(".js-shareMedia"));n.shareMessage||(n.shareMessage=$(n.selector).data("share-message"));n.shareMessage||(n.shareMessage=$(n.selector).data("share-message"));n.url||(n.url=$(n.selector).data("url"));this.initShare()};OpenriceApp.Widgets.ShareMedia.prototype.initShare=function(){var n=this;$(n.selector).find(".js-share-btn").off("click").on("click",function(){n.shareCallBack(this)})};OpenriceApp.Widgets.ShareMedia.prototype.shareCallBack=function(n){var t=this;console.log(this);$(n).hasClass("js-share-fb")?t.shareToFb(n):$(n).hasClass("js-share-twitter")?t.shareToTwitter(n):$(n).hasClass("js-share-weibo")?t.shareToWeibo(n):$(n).hasClass("js-share-mail")?t.shareToMail(n):$(n).hasClass("js-share-copylink")&&t.shareToCopyLink(n)};OpenriceApp.Widgets.ShareMedia.prototype.shareToFb=function(){var n=this,t=n.url;return FB.ui({method:"share",href:t},function(){}),!1};OpenriceApp.Widgets.ShareMedia.prototype.shareToTwitter=function(){var n=this,t="https://twitter.com/intent/tweet?",i;(n.shareMessage!=undefined&&(i=n.shareMessage,t+="&text="+encodeURIComponent(i)),n.url)&&(window.location.href=t)};OpenriceApp.Widgets.ShareMedia.prototype.shareToWeibo=function(){var n=this,t="http://service.weibo.com/share/share.php?";if(n.shareMessage!=undefined){var i=new RegExp("&","g"),r=n.shareMessage.replace(i,"");t+="&title="+encodeURIComponent(r)}n.url&&(window.location.href=t)};OpenriceApp.Widgets.ShareMedia.prototype.shareToMail=function(){var n=this,t="mailto:?",i;(n.shareMessage!=undefined&&(i=n.shareMessage,t+="body="+encodeURIComponent(i),t+="&subject="),n.url)&&(window.location.href=t)};OpenriceApp.Widgets.ShareMedia.prototype.shareToCopyLink=function(){var r=this,n,i,f;if(r.shareMessage!=undefined){var u=r.shareMessage,n=$("#hidden-clipboard-textarea"),e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Safari")>-1;if(e&&t&&(t=!1),t){n=$(".js-clipboard-textarea");n.contentEditable=!0;n.readOnly=!1;n.val(u);$(".js-copylink-clipboard").fadeIn("fast");$(n).select().focus();i=function(){document.getElementById("clipboard-textarea").select()};$(n).on("click focus touchstart",function(){i();setTimeout(function(){i()},50)});$(".js-copy-clipboard-button").on("click",function(){n.readOnly=!0;$(".js-copylink-clipboard").fadeOut("fast")})}else{$("#hidden-clipboard-textarea").val(u).select();try{f=document.execCommand("copy");f?console.log("The text is now on the clipboard"):console.error("Cannot copy text")}catch(o){console.log("Unable to copy.")}$(".js-copylink-toast").fadeIn("fast",function(){$(this).delay(3e3).fadeOut("fast")})}}};OpenriceApp.Api.Search={uiCity:$("body").data("uicity"),uiLang:$("body").data("uilang"),advanceSearch:function(n,t,i){var r=this,u="/"+r.uiLang+"/"+r.uiCity+"/partialview/search";return OpenriceApp.Api.call(u,"get",{},n,t,i)},scriptBundles:function(n){return OpenriceApp.Api.scriptBundles(n)}};OpenriceApp.AdvSearchAsync={};OpenriceApp.AdvSearchAsync.Controller=new OpenriceApp.Class.Modal("#or-route-filters-dummy",{});$.extend(OpenriceApp.AdvSearchAsync.Controller,{routes:["search"],mainRoutes:[""],sensor:".js-navigation",target:".js-advance-search-partial-container",opener:".js-btn-advance-search-open",isPanelOpened:!1,init:function(){var n=this;OpenriceApp.on("ready",function(){n.initSensorHandler();n.setRoutes();$(n.opener).removeClass("wait");$(n.opener).one("click",function(){n.isPanelOpened=!0})})},initSensorHandler:function(){var n=this;$(n.sensor).one("mousemove",function(){n.initAdvSearch()})},initAdvSearch:function(){function f(t){t.on("preshow",function(){$(t.el).addClass("fade");$(n.el).remove()})}function e(t){routie("#search");t.on("preshow",function(){$(n.el).remove()});t.on("show",function(){$(t.el).addClass("fade")})}var n=this,i=[OpenriceApp.Api.Search.advanceSearch()],t=[],r,u;OpenriceApp.AdvSearch||(r=$(n.el).data("js-bundle"),t=OpenriceApp.Api.Search.scriptBundles(r));u=t.length>0?i.concat(t):i;$.when.apply(null,u).done(function(){var t=arguments[0][2].responseText||arguments[2].responseText;$(n.target).html(t).promise().done(function(){var t=OpenriceApp.AdvSearch.Controller;if(!!t){t.on("ready",function(){n.isPanelOpened?e(t):f(t);t._initSubViewEvents()});t.init()}})}).fail(function(){n.initSensorHandler()})},setRoutes:function(){var n=this;n.setDisplayRoutes(n.routes);n.setMainRoutes(n.mainRoutes)}});OpenriceApp.PoiList={}